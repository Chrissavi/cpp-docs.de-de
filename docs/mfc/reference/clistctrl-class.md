---
title: CListCtrl-Klasse
ms.date: 06/13/2019
f1_keywords:
- CListCtrl
- AFXCMN/CListCtrl
- AFXCMN/CListCtrl::CListCtrl
- AFXCMN/CListCtrl::ApproximateViewRect
- AFXCMN/CListCtrl::Arrange
- AFXCMN/CListCtrl::CancelEditLabel
- AFXCMN/CListCtrl::Create
- AFXCMN/CListCtrl::CreateDragImage
- AFXCMN/CListCtrl::CreateEx
- AFXCMN/CListCtrl::DeleteAllItems
- AFXCMN/CListCtrl::DeleteColumn
- AFXCMN/CListCtrl::DeleteItem
- AFXCMN/CListCtrl::DrawItem
- AFXCMN/CListCtrl::EditLabel
- AFXCMN/CListCtrl::EnableGroupView
- AFXCMN/CListCtrl::EnsureVisible
- AFXCMN/CListCtrl::FindItem
- AFXCMN/CListCtrl::GetBkColor
- AFXCMN/CListCtrl::GetBkImage
- AFXCMN/CListCtrl::GetCallbackMask
- AFXCMN/CListCtrl::GetCheck
- AFXCMN/CListCtrl::GetColumn
- AFXCMN/CListCtrl::GetColumnOrderArray
- AFXCMN/CListCtrl::GetColumnWidth
- AFXCMN/CListCtrl::GetCountPerPage
- AFXCMN/CListCtrl::GetEditControl
- AFXCMN/CListCtrl::GetEmptyText
- AFXCMN/CListCtrl::GetExtendedStyle
- AFXCMN/CListCtrl::GetFirstSelectedItemPosition
- AFXCMN/CListCtrl::GetFocusedGroup
- AFXCMN/CListCtrl::GetGroupCount
- AFXCMN/CListCtrl::GetGroupInfo
- AFXCMN/CListCtrl::GetGroupInfoByIndex
- AFXCMN/CListCtrl::GetGroupMetrics
- AFXCMN/CListCtrl::GetGroupRect
- AFXCMN/CListCtrl::GetGroupState
- AFXCMN/CListCtrl::GetHeaderCtrl
- AFXCMN/CListCtrl::GetHotCursor
- AFXCMN/CListCtrl::GetHotItem
- AFXCMN/CListCtrl::GetHoverTime
- AFXCMN/CListCtrl::GetImageList
- AFXCMN/CListCtrl::GetInsertMark
- AFXCMN/CListCtrl::GetInsertMarkColor
- AFXCMN/CListCtrl::GetInsertMarkRect
- AFXCMN/CListCtrl::GetItem
- AFXCMN/CListCtrl::GetItemCount
- AFXCMN/CListCtrl::GetItemData
- AFXCMN/CListCtrl::GetItemIndexRect
- AFXCMN/CListCtrl::GetItemPosition
- AFXCMN/CListCtrl::GetItemRect
- AFXCMN/CListCtrl::GetItemSpacing
- AFXCMN/CListCtrl::GetItemState
- AFXCMN/CListCtrl::GetItemText
- AFXCMN/CListCtrl::GetNextItem
- AFXCMN/CListCtrl::GetNextItemIndex
- AFXCMN/CListCtrl::GetNextSelectedItem
- AFXCMN/CListCtrl::GetNumberOfWorkAreas
- AFXCMN/CListCtrl::GetOrigin
- AFXCMN/CListCtrl::GetOutlineColor
- AFXCMN/CListCtrl::GetSelectedColumn
- AFXCMN/CListCtrl::GetSelectedCount
- AFXCMN/CListCtrl::GetSelectionMark
- AFXCMN/CListCtrl::GetStringWidth
- AFXCMN/CListCtrl::GetSubItemRect
- AFXCMN/CListCtrl::GetTextBkColor
- AFXCMN/CListCtrl::GetTextColor
- AFXCMN/CListCtrl::GetTileInfo
- AFXCMN/CListCtrl::GetTileViewInfo
- AFXCMN/CListCtrl::GetToolTips
- AFXCMN/CListCtrl::GetTopIndex
- AFXCMN/CListCtrl::GetView
- AFXCMN/CListCtrl::GetViewRect
- AFXCMN/CListCtrl::GetWorkAreas
- AFXCMN/CListCtrl::HasGroup
- AFXCMN/CListCtrl::HitTest
- AFXCMN/CListCtrl::InsertColumn
- AFXCMN/CListCtrl::InsertGroup
- AFXCMN/CListCtrl::InsertGroupSorted
- AFXCMN/CListCtrl::InsertItem
- AFXCMN/CListCtrl::InsertMarkHitTest
- AFXCMN/CListCtrl::IsGroupViewEnabled
- AFXCMN/CListCtrl::IsItemVisible
- AFXCMN/CListCtrl::MapIDToIndex
- AFXCMN/CListCtrl::MapIndexToID
- AFXCMN/CListCtrl::MoveGroup
- AFXCMN/CListCtrl::MoveItemToGroup
- AFXCMN/CListCtrl::RedrawItems
- AFXCMN/CListCtrl::RemoveAllGroups
- AFXCMN/CListCtrl::RemoveGroup
- AFXCMN/CListCtrl::Scroll
- AFXCMN/CListCtrl::SetBkColor
- AFXCMN/CListCtrl::SetBkImage
- AFXCMN/CListCtrl::SetCallbackMask
- AFXCMN/CListCtrl::SetCheck
- AFXCMN/CListCtrl::SetColumn
- AFXCMN/CListCtrl::SetColumnOrderArray
- AFXCMN/CListCtrl::SetColumnWidth
- AFXCMN/CListCtrl::SetExtendedStyle
- AFXCMN/CListCtrl::SetGroupInfo
- AFXCMN/CListCtrl::SetGroupMetrics
- AFXCMN/CListCtrl::SetHotCursor
- AFXCMN/CListCtrl::SetHotItem
- AFXCMN/CListCtrl::SetHoverTime
- AFXCMN/CListCtrl::SetIconSpacing
- AFXCMN/CListCtrl::SetImageList
- AFXCMN/CListCtrl::SetInfoTip
- AFXCMN/CListCtrl::SetInsertMark
- AFXCMN/CListCtrl::SetInsertMarkColor
- AFXCMN/CListCtrl::SetItem
- AFXCMN/CListCtrl::SetItemCount
- AFXCMN/CListCtrl::SetItemCountEx
- AFXCMN/CListCtrl::SetItemData
- AFXCMN/CListCtrl::SetItemIndexState
- AFXCMN/CListCtrl::SetItemPosition
- AFXCMN/CListCtrl::SetItemState
- AFXCMN/CListCtrl::SetItemText
- AFXCMN/CListCtrl::SetOutlineColor
- AFXCMN/CListCtrl::SetSelectedColumn
- AFXCMN/CListCtrl::SetSelectionMark
- AFXCMN/CListCtrl::SetTextBkColor
- AFXCMN/CListCtrl::SetTextColor
- AFXCMN/CListCtrl::SetTileInfo
- AFXCMN/CListCtrl::SetTileViewInfo
- AFXCMN/CListCtrl::SetToolTips
- AFXCMN/CListCtrl::SetView
- AFXCMN/CListCtrl::SetWorkAreas
- AFXCMN/CListCtrl::SortGroups
- AFXCMN/CListCtrl::SortItems
- AFXCMN/CListCtrl::SortItemsEx
- AFXCMN/CListCtrl::SubItemHitTest
- AFXCMN/CListCtrl::Update
helpviewer_keywords:
- CListCtrl [MFC], CListCtrl
- CListCtrl [MFC], ApproximateViewRect
- CListCtrl [MFC], Arrange
- CListCtrl [MFC], CancelEditLabel
- CListCtrl [MFC], Create
- CListCtrl [MFC], CreateDragImage
- CListCtrl [MFC], CreateEx
- CListCtrl [MFC], DeleteAllItems
- CListCtrl [MFC], DeleteColumn
- CListCtrl [MFC], DeleteItem
- CListCtrl [MFC], DrawItem
- CListCtrl [MFC], EditLabel
- CListCtrl [MFC], EnableGroupView
- CListCtrl [MFC], EnsureVisible
- CListCtrl [MFC], FindItem
- CListCtrl [MFC], GetBkColor
- CListCtrl [MFC], GetBkImage
- CListCtrl [MFC], GetCallbackMask
- CListCtrl [MFC], GetCheck
- CListCtrl [MFC], GetColumn
- CListCtrl [MFC], GetColumnOrderArray
- CListCtrl [MFC], GetColumnWidth
- CListCtrl [MFC], GetCountPerPage
- CListCtrl [MFC], GetEditControl
- CListCtrl [MFC], GetEmptyText
- CListCtrl [MFC], GetExtendedStyle
- CListCtrl [MFC], GetFirstSelectedItemPosition
- CListCtrl [MFC], GetFocusedGroup
- CListCtrl [MFC], GetGroupCount
- CListCtrl [MFC], GetGroupInfo
- CListCtrl [MFC], GetGroupInfoByIndex
- CListCtrl [MFC], GetGroupMetrics
- CListCtrl [MFC], GetGroupRect
- CListCtrl [MFC], GetGroupState
- CListCtrl [MFC], GetHeaderCtrl
- CListCtrl [MFC], GetHotCursor
- CListCtrl [MFC], GetHotItem
- CListCtrl [MFC], GetHoverTime
- CListCtrl [MFC], GetImageList
- CListCtrl [MFC], GetInsertMark
- CListCtrl [MFC], GetInsertMarkColor
- CListCtrl [MFC], GetInsertMarkRect
- CListCtrl [MFC], GetItem
- CListCtrl [MFC], GetItemCount
- CListCtrl [MFC], GetItemData
- CListCtrl [MFC], GetItemIndexRect
- CListCtrl [MFC], GetItemPosition
- CListCtrl [MFC], GetItemRect
- CListCtrl [MFC], GetItemSpacing
- CListCtrl [MFC], GetItemState
- CListCtrl [MFC], GetItemText
- CListCtrl [MFC], GetNextItem
- CListCtrl [MFC], GetNextItemIndex
- CListCtrl [MFC], GetNextSelectedItem
- CListCtrl [MFC], GetNumberOfWorkAreas
- CListCtrl [MFC], GetOrigin
- CListCtrl [MFC], GetOutlineColor
- CListCtrl [MFC], GetSelectedColumn
- CListCtrl [MFC], GetSelectedCount
- CListCtrl [MFC], GetSelectionMark
- CListCtrl [MFC], GetStringWidth
- CListCtrl [MFC], GetSubItemRect
- CListCtrl [MFC], GetTextBkColor
- CListCtrl [MFC], GetTextColor
- CListCtrl [MFC], GetTileInfo
- CListCtrl [MFC], GetTileViewInfo
- CListCtrl [MFC], GetToolTips
- CListCtrl [MFC], GetTopIndex
- CListCtrl [MFC], GetView
- CListCtrl [MFC], GetViewRect
- CListCtrl [MFC], GetWorkAreas
- CListCtrl [MFC], HasGroup
- CListCtrl [MFC], HitTest
- CListCtrl [MFC], InsertColumn
- CListCtrl [MFC], InsertGroup
- CListCtrl [MFC], InsertGroupSorted
- CListCtrl [MFC], InsertItem
- CListCtrl [MFC], InsertMarkHitTest
- CListCtrl [MFC], IsGroupViewEnabled
- CListCtrl [MFC], IsItemVisible
- CListCtrl [MFC], MapIDToIndex
- CListCtrl [MFC], MapIndexToID
- CListCtrl [MFC], MoveGroup
- CListCtrl [MFC], MoveItemToGroup
- CListCtrl [MFC], RedrawItems
- CListCtrl [MFC], RemoveAllGroups
- CListCtrl [MFC], RemoveGroup
- CListCtrl [MFC], Scroll
- CListCtrl [MFC], SetBkColor
- CListCtrl [MFC], SetBkImage
- CListCtrl [MFC], SetCallbackMask
- CListCtrl [MFC], SetCheck
- CListCtrl [MFC], SetColumn
- CListCtrl [MFC], SetColumnOrderArray
- CListCtrl [MFC], SetColumnWidth
- CListCtrl [MFC], SetExtendedStyle
- CListCtrl [MFC], SetGroupInfo
- CListCtrl [MFC], SetGroupMetrics
- CListCtrl [MFC], SetHotCursor
- CListCtrl [MFC], SetHotItem
- CListCtrl [MFC], SetHoverTime
- CListCtrl [MFC], SetIconSpacing
- CListCtrl [MFC], SetImageList
- CListCtrl [MFC], SetInfoTip
- CListCtrl [MFC], SetInsertMark
- CListCtrl [MFC], SetInsertMarkColor
- CListCtrl [MFC], SetItem
- CListCtrl [MFC], SetItemCount
- CListCtrl [MFC], SetItemCountEx
- CListCtrl [MFC], SetItemData
- CListCtrl [MFC], SetItemIndexState
- CListCtrl [MFC], SetItemPosition
- CListCtrl [MFC], SetItemState
- CListCtrl [MFC], SetItemText
- CListCtrl [MFC], SetOutlineColor
- CListCtrl [MFC], SetSelectedColumn
- CListCtrl [MFC], SetSelectionMark
- CListCtrl [MFC], SetTextBkColor
- CListCtrl [MFC], SetTextColor
- CListCtrl [MFC], SetTileInfo
- CListCtrl [MFC], SetTileViewInfo
- CListCtrl [MFC], SetToolTips
- CListCtrl [MFC], SetView
- CListCtrl [MFC], SetWorkAreas
- CListCtrl [MFC], SortGroups
- CListCtrl [MFC], SortItems
- CListCtrl [MFC], SortItemsEx
- CListCtrl [MFC], SubItemHitTest
- CListCtrl [MFC], Update
ms.assetid: fe08a1ca-4b05-4ff7-a12a-ee4c765a2197
ms.openlocfilehash: 19939ce7dacc1b826e0a2f067c43fc65db328a54
ms.sourcegitcommit: c123cc76bb2b6c5cde6f4c425ece420ac733bf70
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 04/14/2020
ms.locfileid: "81370166"
---
# <a name="clistctrl-class"></a>CListCtrl-Klasse

Kapselt die Funktionalität eines Listenansichtsteuerelements, das eine Auflistung von Elementen anzeigt, von denen jedes aus einem Symbol (aus einer Bildliste) und einer Bezeichnung besteht.

## <a name="syntax"></a>Syntax

```
class CListCtrl : public CWnd
```

## <a name="members"></a>Member

### <a name="public-constructors"></a>Öffentliche Konstruktoren

|Name|BESCHREIBUNG|
|----------|-----------------|
|[CListCtrl::CListCtrl](#clistctrl)|Erstellt ein `CListCtrl`-Objekt.|

### <a name="public-methods"></a>Öffentliche Methoden

|Name|BESCHREIBUNG|
|----------|-----------------|
|[CListCtrl::ApproximateViewRect](#approximateviewrect)|Bestimmt die Breite und Höhe, die zum Anzeigen der Elemente eines Listenansichtssteuerelements erforderlich sind.|
|[CListCtrl::Arrange](#arrange)|Richtet Elemente in einem Raster aus.|
|[CListCtrl::CancelEditLabel](#canceleditlabel)|Bricht den Bearbeitungsvorgang für Elementtext ab.|
|[CListCtrl::Erstellen](#create)|Erstellt ein Listensteuerelement und fügt `CListCtrl` es an ein Objekt an.|
|[CListCtrl::CreateDragImage](#createdragimage)|Erstellt eine Ziehbildliste für ein angegebenes Element.|
|[CListCtrl::CreateEx](#createex)|Erstellt ein Listensteuerelement mit den angegebenen erweiterten Windows-Stilen und fügt es an ein `CListCtrl` Objekt an.|
|[CListCtrl::DeleteAllItems](#deleteallitems)|Löscht alle Elemente aus dem Steuerelement.|
|[CListCtrl::DeleteColumn](#deletecolumn)|Löscht eine Spalte aus dem Listenansichtssteuerelement.|
|[CListCtrl::DeleteItem](#deleteitem)|Löscht ein Element aus dem Steuerelement.|
|[CListCtrl::DrawItem](#drawitem)|Wird aufgerufen, wenn sich ein visueller Aspekt eines Besitzerzeichnungssteuerelements ändert.|
|[CListCtrl::EditLabel](#editlabel)|Beginnt mit der ortsübergreifenden Bearbeitung des Textes eines Elements.|
|[CListCtrl::EnableGroupView](#enablegroupview)|Aktiviert oder deaktiviert, ob die Elemente in einem Listenansichtssteuerelement als Gruppe angezeigt werden.|
|[CListCtrl::EnsureVisible](#ensurevisible)|Stellt sicher, dass ein Element sichtbar ist.|
|[CListCtrl::FindItem](#finditem)|Sucht nach einem Listenansichtselement mit bestimmten Merkmalen.|
|[CListCtrl::GetBkColor](#getbkcolor)|Ruft die Hintergrundfarbe eines Listenansichtssteuerelements ab.|
|[CListCtrl::GetBkImage](#getbkimage)|Ruft das aktuelle Hintergrundbild eines Listenansichtssteuerelements ab.|
|[CListCtrl::GetCallbackMask](#getcallbackmask)|Ruft die Rückrufmaske für ein Listenansichtssteuerelement ab.|
|[CListCtrl::GetCheck](#getcheck)|Ruft den aktuellen Anzeigestatus des Statusbildes ab, das einem Element zugeordnet ist.|
|[CListCtrl::GetColumn](#getcolumn)|Ruft die Attribute der Spalte eines Steuerelements ab.|
|[CListCtrl::GetColumnOrderArray](#getcolumnorderarray)|Ruft die Spaltenreihenfolge (von links nach rechts) eines Listenansichtssteuerelements ab.|
|[CListCtrl::GetColumnWidth](#getcolumnwidth)|Ruft die Breite einer Spalte in der Berichts- oder Listenansicht ab.|
|[CListCtrl::GetCountPerPage](#getcountperpage)|Berechnet die Anzahl der Elemente, die vertikal in ein Listenansichtssteuerelement passen können.|
|[CListCtrl::GetEditControl](#geteditcontrol)|Ruft das Handle des Bearbeitungssteuerelements ab, das zum Bearbeiten des Textes eines Elements verwendet wird.|
|[CListCtrl::GetEmptyText](#getemptytext)|Ruft die Zeichenfolge ab, die angezeigt wird, wenn das aktuelle Listenansichtssteuerelement leer ist.|
|[CListCtrl::GetExtendedStyle](#getextendedstyle)|Ruft die aktuellen erweiterten Stile eines Listenansichtssteuerelements ab.|
|[CListCtrl::GetFirstSelectedItemPosition](#getfirstselecteditemposition)|Ruft die Position des ersten ausgewählten Listenansichtselements in einem Listenansichtssteuerelement ab.|
|[CListCtrl::GetFocusedGroup](#getfocusedgroup)|Ruft die Gruppe ab, die den Tastaturfokus im aktuellen Listenansichtssteuerelement hat.|
|[CListCtrl::GetGroupCount](#getgroupcount)|Ruft die Anzahl der Gruppen im aktuellen Listenansichtssteuerelement ab.|
|[CListCtrl::GetGroupInfo](#getgroupinfo)|Ruft die Informationen für eine angegebene Gruppe des Listenansichtssteuerelements ab.|
|[CListCtrl::GetGroupInfoByIndex](#getgroupinfobyindex)|Ruft Informationen zu einer angegebenen Gruppe im aktuellen Listenansichtssteuerelement ab.|
|[CListCtrl::GetGroupMetrics](#getgroupmetrics)|Ruft die Metriken einer Gruppe ab.|
|[CListCtrl::GetGroupRect](#getgrouprect)|Ruft das umlaufende Rechteck für eine angegebene Gruppe im aktuellen Listenansichtssteuerelement ab.|
|[CListCtrl::GetGroupState](#getgroupstate)|Ruft den Status für eine angegebene Gruppe im aktuellen Listenansichtssteuerelement ab.|
|[CListCtrl::GetHeaderCtrl](#getheaderctrl)|Ruft das Headersteuerelement eines Listenansichtssteuerelements ab.|
|[CListCtrl::GetHotCursor](#gethotcursor)|Ruft den Cursor ab, der verwendet wird, wenn die Hot-Tracking-Funktion für ein Listenansichtssteuerelement aktiviert ist.|
|[CListCtrl::GetHotItem](#gethotitem)|Ruft das Listenansichtselement ab, das sich derzeit unter dem Cursor befindet.|
|[CListCtrl::GetHoverTime](#gethovertime)|Ruft die aktuelle Hoverzeit eines Listenansichtssteuerelements ab.|
|[CListCtrl::GetImageList](#getimagelist)|Ruft das Handle einer Bildliste ab, die für Zeichnungslistenansichtselemente verwendet wird.|
|[CListCtrl::GetInsertMark](#getinsertmark)|Ruft die aktuelle Position der Einfügemarke ab.|
|[CListCtrl::GetInsertMarkColor](#getinsertmarkcolor)|Ruft die aktuelle Farbe der Einfügemarke ab.|
|[CListCtrl::GetInsertMarkRect](#getinsertmarkrect)|Ruft das Rechteck ab, das die Einfügemarke begrenzt.|
|[CListCtrl::GetItem](#getitem)|Ruft die Attribute eines Listenansichtselements ab.|
|[CListCtrl::GetItemCount](#getitemcount)|Ruft die Anzahl der Elemente in einem Listenansichtssteuerelement ab.|
|[CListCtrl::GetItemData](#getitemdata)|Ruft den anwendungsspezifischen Wert ab, der einem Element zugeordnet ist.|
|[CListCtrl::GetItemIndexRect](#getitemindexrect)|Ruft das umlaufende Rechteck für das gesamte oder einen Teil eines Unterelements im aktuellen Listenansichtssteuerelement ab.|
|[CListCtrl::GetItemPosition](#getitemposition)|Ruft die Position eines Listenansichtselements ab.|
|[CListCtrl::GetItemRect](#getitemrect)|Ruft das umgrenzende Rechteck für ein Element ab.|
|[CListCtrl::GetItemSpacing](#getitemspacing)|Berechnet den Abstand zwischen Elementen im aktuellen Listenansichtssteuerelement.|
|[CListCtrl::GetItemState](#getitemstate)|Ruft den Status eines Listenansichtselements ab.|
|[CListCtrl::GetItemText](#getitemtext)|Ruft den Text eines Listenansichtselements oder Unterelements ab.|
|[CListCtrl::GetNextItem](#getnextitem)|Sucht nach einem Listenansichtselement mit angegebenen Eigenschaften und mit einer angegebenen Beziehung zu einem bestimmten Element.|
|[CListCtrl::GetNextItemIndex](#getnextitemindex)|Ruft den Index des Elements im aktuellen Listenansichtssteuerelement ab, das über einen angegebenen Satz von Eigenschaften verfügt.|
|[CListCtrl::GetNextSelectedItem](#getnextselecteditem)|Ruft den Index einer Listenansichtsposition und die Position des nächsten ausgewählten Listenansichtselements zum Iterieren ab.|
|[CListCtrl::GetNumberOfWorkAreas](#getnumberofworkareas)|Ruft die aktuelle Anzahl von Arbeitsbereichen für ein Listenansichtssteuerelement ab.|
|[CListCtrl::GetOrigin](#getorigin)|Ruft den aktuellen Ansichtsursprung für ein Listenansichtssteuerelement ab.|
|[CListCtrl::GetOutlineColor](#getoutlinecolor)|Ruft die Farbe des Rahmens eines Listenansichtssteuerelements ab.|
|[CListCtrl::GetSelectedColumn](#getselectedcolumn)|Ruft den Index der aktuell ausgewählten Spalte im Listensteuerelement ab.|
|[CListCtrl::GetSelectedCount](#getselectedcount)|Ruft die Anzahl der ausgewählten Elemente im Listenansichtssteuerelement ab.|
|[CListCtrl::GetSelectionMark](#getselectionmark)|Ruft das Auswahlzeichen eines Listenansichtssteuerelements ab.|
|[CListCtrl::GetStringWidth](#getstringwidth)|Bestimmt die minimale Spaltenbreite, die erforderlich ist, um die gesamte Zeichenfolge anzuzeigen.|
|[CListCtrl::GetSubItemRect](#getsubitemrect)|Ruft das umgrenzende Rechteck eines Elements in einem Listenansichtssteuerelement ab.|
|[CListCtrl::GetTextBkColor](#gettextbkcolor)|Ruft die Texthintergrundfarbe eines Listenansichtssteuerelements ab.|
|[CListCtrl::GetTextColor](#gettextcolor)|Ruft die Textfarbe eines Listenansichtssteuerelements ab.|
|[CListCtrl::GetTileInfo](#gettileinfo)|Ruft Informationen zu einer Kachel in einem Listenansichtssteuerelement ab.|
|[CListCtrl::GetTileViewInfo](#gettileviewinfo)|Ruft Informationen zu einem Listenansichtssteuerelement in der Kachelansicht ab.|
|[CListCtrl::GetToolTipps](#gettooltips)|Ruft das QuickInfo-Steuerelement ab, das das Listenansichtssteuerelement zum Anzeigen von QuickInfos verwendet.|
|[CListCtrl::GetTopIndex](#gettopindex)|Ruft den Index des obersten sichtbaren Elements ab.|
|[CListCtrl::GetView](#getview)|Ruft die Ansicht des Listenansichtssteuerelements ab.|
|[CListCtrl::GetViewRect](#getviewrect)|Ruft das umgrenzende Rechteck aller Elemente im Listenansichtssteuerelement ab.|
|[CListCtrl::GetWorkAreas](#getworkareas)|Ruft die aktuellen Arbeitsbereiche eines Listenansichtssteuerelements ab.|
|[CListCtrl::HasGroup](#hasgroup)|Bestimmt, ob das Listenansichtssteuerelement über die angegebene Gruppe verfügt.|
|[CListCtrl::HitTest](#hittest)|Bestimmt, welches Listenansichtselement sich an einer angegebenen Position befindet.|
|[CListCtrl::InsertColumn](#insertcolumn)|Fügt eine neue Spalte in ein Listenansichtssteuerelement ein.|
|[CListCtrl::InsertGroup](#insertgroup)|Fügt eine Gruppe in das Listenansichtssteuerelement ein.|
|[CListCtrl::InsertGroupSortiert](#insertgroupsorted)|Fügt die angegebene Gruppe in eine geordnete Liste von Gruppen ein.|
|[CListCtrl::InsertItem](#insertitem)|Fügt ein neues Element in ein Listenansichtssteuerelement ein.|
|[CListCtrl::InsertMarkHitTest](#insertmarkhittest)|Ruft die Einfügemarke ab, die einem angegebenen Punkt am nächsten liegt.|
|[CListCtrl::IsGroupViewEnabled](#isgroupviewenabled)|Bestimmt, ob die Gruppenansicht für ein Listenansichtssteuerelement aktiviert ist.|
|[CListCtrl::IsItemVisible](#isitemvisible)|Gibt an, ob ein angegebenes Element im aktuellen Listenansichtssteuerelement sichtbar ist.|
|[CListCtrl::MapIDToIndex](#mapidtoindex)|Ordnet die eindeutige ID eines Elements im aktuellen Listenansichtssteuerelement einem Index zu.|
|[CListCtrl::MapIndexToID](#mapindextoid)|Ordnet den Index eines Elements im aktuellen Listenansichtssteuerelement einer eindeutigen ID zu.|
|[CListCtrl::MoveGroup](#movegroup)|Verschiebt die angegebene Gruppe.|
|[CListCtrl::MoveItemToGroup](#moveitemtogroup)|Verschiebt die angegebene Gruppe auf den angegebenen Null-basierten Index des Listenansichtssteuerelements.|
|[CListCtrl::RedrawItems](#redrawitems)|Erzwingt ein Listenansichtssteuerelement, um einen Bereich von Elementen neu zu zeichnen.|
|[CListCtrl::RemoveAllGroups](#removeallgroups)|Entfernt alle Gruppen aus einem Listenansichtssteuerelement.|
|[CListCtrl::RemoveGroup](#removegroup)|Entfernt die angegebene Gruppe aus dem Listenansichtssteuerelement.|
|[CListCtrl::Scroll](#scroll)|Scrollt den Inhalt eines Listenansichtssteuerelements.|
|[CListCtrl::SetBkColor](#setbkcolor)|Legt die Hintergrundfarbe des Listenansichtssteuerelements fest.|
|[CListCtrl::SetBkImage](#setbkimage)|Legt das aktuelle Hintergrundbild eines Listenansichtssteuerelements fest.|
|[CListCtrl::SetCallbackMask](#setcallbackmask)|Legt die Rückrufmaske für ein Listenansichtssteuerelement fest.|
|[CListCtrl::SetCheck](#setcheck)|Legt den aktuellen Anzeigestatus des Statusbildes fest, das einem Element zugeordnet ist.|
|[CListCtrl::SetColumn](#setcolumn)|Legt die Attribute einer Listenansichtsspalte fest.|
|[CListCtrl::SetColumnOrderArray](#setcolumnorderarray)|Legt die Spaltenreihenfolge (von links nach rechts) eines Listenansichtssteuerelements fest.|
|[CListCtrl::SetColumnWidth](#setcolumnwidth)|Ändert die Breite einer Spalte in der Berichts- oder Listenansicht.|
|[CListCtrl::SetExtendedStyle](#setextendedstyle)|Legt die aktuellen erweiterten Stile eines Listenansichtssteuerelements fest.|
|[CListCtrl::SetGroupInfo](#setgroupinfo)|Legt die Informationen für die angegebene Gruppe eines Listenansichtssteuerelements fest.|
|[CListCtrl::SetGroupMetrics](#setgroupmetrics)|Legt die Gruppenmetriken eines Listenansichtssteuerelements fest.|
|[CListCtrl::SetHotCursor](#sethotcursor)|Legt den Cursor fest, der verwendet wird, wenn die Hot-Tracking-Funktion für ein Listenansichtssteuerelement aktiviert ist.|
|[CListCtrl::SetHotItem](#sethotitem)|Legt das aktuelle heiße Element eines Listenansichtssteuerelements fest.|
|[CListCtrl::SetHoverTime](#sethovertime)|Legt die aktuelle Hoverzeit eines Listenansichtssteuerelements fest.|
|[CListCtrl::SetIconSpacing](#seticonspacing)|Legt den Abstand zwischen Symbolen in einem Listenansichtssteuerelement fest.|
|[CListCtrl::SetImageList](#setimagelist)|Weist einem Listenansichtssteuerelement eine Bildliste zu.|
|[CListCtrl::SetInfoTip](#setinfotip)|Legt den QuickInfo-Text fest.|
|[CListCtrl::SetInsertMark](#setinsertmark)|Legt die Einfügemarke auf die definierte Position fest.|
|[CListCtrl::SetInsertMarkColor](#setinsertmarkcolor)|Legt die Farbe der Einfügemarke fest.|
|[CListCtrl::SetItem](#setitem)|Legt einige oder alle Attribute eines Listenansichtselements fest.|
|[CListCtrl::SetItemCount](#setitemcount)|Bereitet ein Listenansichtssteuerelement zum Hinzufügen einer großen Anzahl von Elementen vor.|
|[CListCtrl::SetItemCountEx](#setitemcountex)|Legt die Elementanzahl für ein virtuelles Listenansichtssteuerelement fest.|
|[CListCtrl::SetItemData](#setitemdata)|Legt den anwendungsspezifischen Wert des Elements fest.|
|[CListCtrl::SetItemIndexState](#setitemindexstate)|Legt den Status eines Elements im aktuellen Listenansichtssteuerelement fest.|
|[CListCtrl::SetItemPosition](#setitemposition)|Verschiebt ein Element an eine angegebene Position in einem Listenansichtssteuerelement.|
|[CListCtrl::SetItemState](#setitemstate)|Ändert den Status eines Elements in einem Listenansichtssteuerelement.|
|[CListCtrl::SetItemText](#setitemtext)|Ändert den Text eines Listenansichtselements oder Unterelements.|
|[CListCtrl::SetOutlineColor](#setoutlinecolor)|Legt die Farbe des Rahmens eines Listenansichtssteuerelements fest.|
|[CListCtrl::SetSelectedColumn](#setselectedcolumn)|Legt die ausgewählte Spalte des Listenansichtssteuerelements fest.|
|[CListCtrl::SetSelectionMark](#setselectionmark)|Legt das Auswahlzeichen eines Listenansichtssteuerelements fest.|
|[CListCtrl::SetTextBkColor](#settextbkcolor)|Legt die Hintergrundfarbe von Text in einem Listenansichtssteuerelement fest.|
|[CListCtrl::SetTextColor](#settextcolor)|Legt die Textfarbe eines Listenansichtssteuerelements fest.|
|[CListCtrl::SetTileInfo](#settileinfo)|Legt die Informationen für eine Kachel des Listenansichtssteuerelements fest.|
|[CListCtrl::SetTileViewInfo](#settileviewinfo)|Legt Informationen fest, die ein Listenansichtssteuerelement in der Kachelansicht verwendet.|
|[CListCtrl::SetToolTips](#settooltips)|Legt das QuickInfo-Steuerelement fest, das das Listenansichtssteuerelement zum Anzeigen von QuickInfos verwendet.|
|[CListCtrl::SetView](#setview)|Legt die Ansicht des Listenansichtssteuerelements fest.|
|[CListCtrl::SetWorkAreas](#setworkareas)|Legt den Bereich fest, in dem Symbole in einem Listenansichtssteuerelement angezeigt werden können.|
|[CListCtrl::SortierenGruppen](#sortgroups)|Sortiert die Gruppen eines Listenansichtssteuerelements mit einer benutzerdefinierten Funktion.|
|[CListCtrl::SortItems](#sortitems)|Sortiert Listenansichtselemente mithilfe einer anwendungsdefinierten Vergleichsfunktion.|
|[CListCtrl::SortItemsEx](#sortitemsex)|Sortiert Listenansichtselemente mithilfe einer anwendungsdefinierten Vergleichsfunktion.|
|[CListCtrl::SubItemHitTest](#subitemhittest)|Bestimmt, welches Listenansichtselement sich ggf. an einer bestimmten Position befindet.|
|[CListCtrl::Update](#update)|Erzwingt, dass das Steuerelement ein bestimmtes Element neu zeichnet.|

## <a name="remarks"></a>Bemerkungen

Zusätzlich zu einem Symbol und einer Beschriftung können für jedes Element Informationen in Spalten rechts neben dem Symbol und der Beschriftung angezeigt werden. Dieses Steuerelement (und `CListCtrl` damit die Klasse) ist nur für Programme verfügbar, die unter Windows 95/98 und Windows NT Version 3.51 und höher ausgeführt werden.

Im Folgenden finden Sie `CListCtrl` einen kurzen Überblick über die Klasse. Eine ausführliche, konzeptionelle Diskussion finden Sie unter [Verwenden von CListCtrl](../../mfc/using-clistctrl.md) und [Steuerelementen](../../mfc/controls-mfc.md).

## <a name="views"></a>Sichten

Listenansichtssteuerelemente können ihren Inhalt auf vier verschiedene Arten anzeigen, die als "Ansichten" bezeichnet werden.

- Symbolansicht

   Jedes Element wird als Symbol in voller Größe (32 x 32 Pixel) mit einer Beschriftung darunter angezeigt. Der Benutzer kann die Elemente an eine beliebige Position im Listenansichtsfenster ziehen.

- Kleine Symbolansicht

   Jedes Element wird als kleines Symbol (16 x 16 Pixel) mit der Beschriftung rechts davon angezeigt. Der Benutzer kann die Elemente an eine beliebige Position im Listenansichtsfenster ziehen.

- Listenansicht

   Jedes Element wird als kleines Symbol mit einem Etikett rechts davon angezeigt. Elemente sind in Spalten angeordnet und können nicht an eine Beliebige Position im Listenansichtsfenster gezogen werden.

- Berichtsansicht

   Jedes Element wird in einer eigenen Zeile angezeigt, mit zusätzlichen Informationen, die in Spalten auf der rechten Seite angeordnet sind. Die linke Spalte enthält das kleine Symbol und die Beschriftung, und nachfolgende Spalten enthalten Unterelemente, wie von der Anwendung angegeben. Ein eingebettetes Headersteuerelement (Klasse [CHeaderCtrl](../../mfc/reference/cheaderctrl-class.md)) implementiert diese Spalten. Weitere Informationen zum Kopfsteuerelement und zu den Spalten in einer Berichtsansicht finden Sie unter [Verwenden von CListCtrl: Hinzufügen von Spalten zum Steuerelement (Berichtsansicht)](../../mfc/adding-columns-to-the-control-report-view.md).

Der Stil der aktuellen Listenansicht des Steuerelements bestimmt die aktuelle Ansicht. Weitere Informationen zu diesen Stilen und deren Verwendung finden Sie unter [Verwenden von CListCtrl: Ändern von Listensteuerungsstilen](../../mfc/changing-list-control-styles.md).

## <a name="extended-styles"></a>Erweiterte Stile

Zusätzlich zu den Standardlistenstilen unterstützt die Klasse `CListCtrl` einen großen Satz erweiterter Stile und bietet erweiterte Funktionen. Einige Beispiele für diese Funktionalität sind:

- Hover-Auswahl

   Wenn diese Option aktiviert ist, wird die automatische Auswahl eines Elements aktiviert, wenn der Cursor für einen bestimmten Zeitraum über dem Element verbleibt.

- Virtuelle Listenansichten

   Wenn diese Option aktiviert ist, kann das Steuerelement bis zu DWORD-Elemente unterstützen. Dies ist möglich, indem der Overhead für die Verwaltung von Elementdaten in der Anwendung platziert wird. Mit Ausnahme der Artikelauswahl- und Fokusinformationen müssen alle Elementinformationen von der Anwendung verwaltet werden. Weitere Informationen finden Sie unter [Verwenden von CListCtrl: Virtual List Controls](../../mfc/virtual-list-controls.md).

- Ein- und Zwei-Klick-Aktivierung

   Wenn diese Option aktiviert ist, können Sie die Hot-Tracking-Funktion (automatische Hervorhebung des Elementtexts) und die Aktivierung des hervorgehobenen Elements mit einem oder zwei Klicks aktivieren.

- Reihenfolge der Drag-and-Drop-Spalte

   Wenn diese Option aktiviert ist, können Sie eine Neuanordnung von Spalten in einem Listenansichtssteuerelement durch Drag&Drop-Neuanordnung ermöglichen. Nur in der Berichtsansicht verfügbar.

Informationen zur Verwendung dieser neuen erweiterten Stile finden Sie unter [Verwenden von CListCtrl: Ändern von Listensteuerungsstilen](../../mfc/changing-list-control-styles.md).

## <a name="items-and-subitems"></a>Elemente und Unterelemente

Jedes Element in einem Listenansichtssteuerelement besteht aus einem Symbol (aus einer Bildliste), einer Beschriftung, einem aktuellen Status und einem anwendungsdefinierten Wert (als "Elementdaten" bezeichnet). Ein oder mehrere Unterelemente können auch jedem Element zugeordnet werden. Ein "Unterelement" ist eine Zeichenfolge, die in der Berichtsansicht in einer Spalte rechts neben dem Symbol und der Beschriftung eines Elements angezeigt werden kann. Alle Elemente in einem Listenansichtssteuerelement müssen die gleiche Anzahl von Unterelementen haben.

Die `CListCtrl` Klasse bietet mehrere Funktionen zum Einfügen, Löschen, Suchen und Ändern dieser Elemente. Weitere Informationen finden Sie unter [CListCtrl::GetItem](#getitem), [CListCtrl::InsertItem](#insertitem)und [CListCtrl::FindItem](#finditem), [Hinzufügen von Elementen zum Steuerelement](../adding-items-to-the-control.md), und [Scrollen, Anordnen, Sortieren und Suchen in Listensteuerelementen](../scrolling-arranging-sorting-and-finding-in-list-controls.md).

Standardmäßig ist das Listenansichtssteuerelement für das Speichern des Symbols und der Textattribute eines Elements verantwortlich. Zusätzlich zu diesen Elementtypen unterstützt `CListCtrl` die Klasse jedoch "Rückrufelemente". Ein "Rückrufelement" ist ein Listenansichtselement, für das die Anwendung – und nicht das Steuerelement – den Text, das Symbol oder beides speichert. Eine Rückrufmaske wird verwendet, um anzugeben, welche Elementattribute (Text und/oder Symbol) von der Anwendung bereitgestellt werden. Wenn eine Anwendung Rückrufelemente verwendet, muss sie in der Lage sein, die Text- und/oder Symbolattribute bei Bedarf anzugeben. Rückrufelemente sind hilfreich, wenn Ihre Anwendung einige dieser Informationen bereits verwaltet. Weitere Informationen finden Sie unter [Verwenden von CListCtrl: Rückrufelemente und der Rückrufmaske](../callback-items-and-the-callback-mask.md).

## <a name="image-lists"></a>Bildlisten

Die Symbole, Headerelementbilder und anwendungsdefinierten Zustände für Listenansichtselemente sind in mehreren Bildlisten enthalten (implementiert von der Klasse [CImageList](cimagelist-class.md)), die Sie erstellen und dem Listenansichtssteuerelement zuweisen. Jedes Listenansichtssteuerelement kann bis zu vier verschiedene Arten von Bildlisten enthalten:

- Großes Symbol

   Wird in der Symbolansicht für Symbole in voller Größe verwendet.

- Kleines Symbol

   Wird in den kleinen Symbol-, Listen- und Berichtsansichten für kleinere Versionen der symbole verwendet, die in der Symbolansicht verwendet werden.

- Anwendungsdefinierter Zustand

   Enthält Zustandsbilder, die neben dem Symbol eines Elements angezeigt werden, um einen anwendungsdefinierten Zustand anzuzeigen.

- Headerelement

   Wird in der Berichtsansicht für kleine Bilder verwendet, die in jedem Kopfsteuerelementelement angezeigt werden.

Standardmäßig zerstört ein Listenansichtssteuerelement die ihm zugewiesenen Bildlisten, wenn es zerstört wird. Der Entwickler kann dieses Verhalten jedoch anpassen, indem er jede Bildliste zerstört, wenn sie nicht mehr verwendet wird, wie von der Anwendung festgelegt. Weitere Informationen finden Sie unter [Verwenden von CListCtrl: Listenelemente und Bildlisten](../list-items-and-image-lists.md).

## <a name="inheritance-hierarchy"></a>Vererbungshierarchie

[Cobject](cobject-class.md)

[CCmdTarget](ccmdtarget-class.md)

[CWnd](cwnd-class.md)

`CListCtrl`

## <a name="requirements"></a>Anforderungen

**Header:** afxcmn.h

## <a name="clistctrlapproximateviewrect"></a><a name="approximateviewrect"></a>CListCtrl::ApproximateViewRect

Bestimmt die Breite und Höhe, die zum Anzeigen der Elemente eines Listenansichtssteuerelements erforderlich sind.

```
CSize ApproximateViewRect(
    CSize sz = CSize(-1, -1),
    int iCount = -1) const;
```

### <a name="parameters"></a>Parameter

*Sz*<br/>
Die vorgeschlagenen Abmessungen des Steuerelements in Pixeln. Wenn keine Bemaßungen angegeben sind, verwendet das Framework die aktuellen Breiten- oder Höhenwerte des Steuerelements.

*iCount*<br/>
Anzahl der Elemente, die im Steuerelement angezeigt werden sollen. Wenn dieser Parameter -1 ist, verwendet das Framework die Gesamtzahl der Elemente, die sich derzeit im Steuerelement befinden.

### <a name="return-value"></a>Rückgabewert

Ein `CSize` Objekt, das die ungefähre Breite und Höhe enthält, die zum Anzeigen der Elemente in Pixelerforderlicher benötigt wird.

### <a name="remarks"></a>Bemerkungen

Diese Memberfunktion implementiert das Verhalten des Win32-Makros [ListView_ApproximateViewRect](/windows/win32/api/commctrl/nf-commctrl-listview_approximateviewrect), wie im Windows SDK beschrieben.

## <a name="clistctrlarrange"></a><a name="arrange"></a>CListCtrl::Arrange

Positioniert Elemente in einer Symbolansicht so, dass sie an einem Raster ausgerichtet sind.

```
BOOL Arrange(UINT nCode);
```

### <a name="parameters"></a>Parameter

*nCode*<br/>
Gibt den Ausrichtungsstil für die Elemente an. Es kann sich um einen der folgenden Werte handeln:

- LVA_ALIGNLEFT Richtet Elemente am linken Rand des Fensters aus.

- LVA_ALIGNTOP Richtet Elemente am oberen Rand des Fensters aus.

- LVA_DEFAULT Richtet Elemente gemäß den aktuellen Ausrichtungsstilen der Listenansicht aus (Standardwert).

- LVA_SNAPTOGRID Fangt alle Symbole an der nächsten Rasterposition.

### <a name="return-value"></a>Rückgabewert

Ungleich 0, wenn erfolgreich, andernfalls 0.

### <a name="remarks"></a>Bemerkungen

Der Parameter *nCode* gibt den Ausrichtungsstil an.

### <a name="example"></a>Beispiel

```cpp
    // Align all of the list view control items along the top
    // of the window (the list view control must be in icon or
    // small icon mode).
    m_myListCtrl.Arrange(LVA_ALIGNTOP);
```

## <a name="clistctrlcanceleditlabel"></a><a name="canceleditlabel"></a>CListCtrl::CancelEditLabel

Bricht den Bearbeitungsvorgang für Elementtext ab.

```
void CancelEditLabel();
```

### <a name="remarks"></a>Bemerkungen

Diese Memberfunktion emuliert die Funktionalität der [LVM_CANCELEDITLABEL](/windows/win32/Controls/lvm-canceleditlabel) Nachricht, wie im Windows SDK beschrieben.

## <a name="clistctrlclistctrl"></a><a name="clistctrl"></a>CListCtrl::CListCtrl

Erstellt ein `CListCtrl`-Objekt.

```
CListCtrl();
```

## <a name="clistctrlcreate"></a><a name="create"></a>CListCtrl::Erstellen

Erstellt ein Listensteuerelement und fügt `CListCtrl` es an ein Objekt an.

```
virtual BOOL Create(
    DWORD dwStyle,
    const RECT& rect,
    CWnd* pParentWnd,
    UINT nID);
```

### <a name="parameters"></a>Parameter

*dwStyle*<br/>
Gibt die Formatvorlage des Listensteuerelements an. Wenden Sie eine beliebige Kombination von Listensteuerelementstilen auf das Steuerelement an. Eine vollständige Liste dieser Formatvorlagen finden Sie unter [Listenansichtsfensterformatvorlagen](/windows/win32/Controls/list-view-window-styles) im Windows SDK. Legen Sie erweiterte Stile fest, die für ein Steuerelement mit [SetExtendedStyle](#setextendedstyle)spezifisch sind.

*Rect*<br/>
Gibt die Größe und Position des Listensteuerelements an. Es kann entweder `CRect` ein Objekt oder eine [RECT-Struktur](/previous-versions/dd162897\(v=vs.85\)) sein.

*pParentWnd*<br/>
Gibt das übergeordnete Fenster des Listensteuerelements an, in der Regel eine `CDialog`. Es darf nicht NULL sein.

*nID*<br/>
Gibt die ID des Listensteuerelements an.

### <a name="return-value"></a>Rückgabewert

Ungleich 0, wenn erfolgreich, andernfalls 0.

### <a name="remarks"></a>Bemerkungen

Sie erstellen `CListCtrl` eine in zwei Schritten. Rufen Sie zunächst den Konstruktor auf, und rufen Sie dann `Create` `CListCtrl` auf, wodurch das Listenansichtssteuerelement erstellt und an das Objekt angefügt wird.

Um erweiterte Windows-Formatvorlagen auf das Listensteuerelementobjekt `Create`anzuwenden, rufen Sie [CreateEx](#createex) anstelle von auf.

### <a name="example"></a>Beispiel

```cpp
    m_myListCtrl.Create(
        WS_CHILD|WS_VISIBLE|WS_BORDER|LVS_REPORT|LVS_EDITLABELS,
        CRect(10,10,400,200), pParentWnd, IDD_MYLISTCTRL);
```

## <a name="clistctrlcreateex"></a><a name="createex"></a>CListCtrl::CreateEx

Erstellt ein Steuerelement (ein untergeordnetes Fenster) und ordnet es dem `CListCtrl` Objekt zu.

```
virtual BOOL CreateEx(
    DWORD dwExStyle,
    DWORD dwStyle,
    const RECT& rect,
    CWnd* pParentWnd,
    UINT nID);
```

### <a name="parameters"></a>Parameter

*dwExStyle*<br/>
Gibt den erweiterten Stil des zu erstellenden Steuerelements an. Eine Liste der erweiterten Windows-Stile finden Sie im *dwExStyle-Parameter* für [CreateWindowEx](/windows/win32/api/winuser/nf-winuser-createwindowexw) im Windows SDK.

*dwStyle*<br/>
Gibt die Formatvorlage des Listensteuerelements an. Wenden Sie eine beliebige Kombination von Listensteuerelementstilen auf das Steuerelement an. Eine vollständige Liste dieser Formatvorlagen finden Sie unter [Listenansichtsfensterformatvorlagen](/windows/win32/Controls/list-view-window-styles) im Windows SDK.

*Rect*<br/>
Ein Verweis auf eine [RECT-Struktur,](/previous-versions/dd162897\(v=vs.85\)) die die Größe und Position des zu erstellenden Fensters in den Clientkoordinaten von *pParentWnd*beschreibt.

*pParentWnd*<br/>
Ein Zeiger auf das Fenster, das das übergeordnete Steuerelement ist.

*nID*<br/>
Die untergeordnete Fenster-ID des Steuerelements.

### <a name="return-value"></a>Rückgabewert

Ungleich Null, wenn erfolgreich, andernfalls 0 (Null).

### <a name="remarks"></a>Bemerkungen

Verwenden `CreateEx` Sie anstelle von [Erstellen,](#create) um erweiterte Windows-Formatvorlagen anzuwenden, die durch das Erweiterte Windows-Stilvorwort **WS_EX_** angegeben werden.

`CreateEx`erstellt das Steuerelement mit den erweiterten Windows-Stilen, die von *dwExStyle*angegeben werden. Um erweiterte Stile festzulegen, die für ein Steuerelement spezifisch sind, rufen Sie [SetExtendedStyle](#setextendedstyle)auf. Verwenden Sie `CreateEx` z. B., um `SetExtendedStyle` Stile wie WS_EX_CONTEXTHELP festzulegen, aber verwenden Sie, um Stile wie LVS_EX_FULLROWSELECT festzulegen. Weitere Informationen finden Sie in den Imformatvorlagen, die im Artikel [Erweiterte Listenansichtsstile](/windows/win32/Controls/extended-list-view-styles) im Windows SDK beschrieben werden.

## <a name="clistctrlcreatedragimage"></a><a name="createdragimage"></a>CListCtrl::CreateDragImage

Erstellt eine Ziehbildliste für das von *nItem*angegebene Element .

```
CImageList* CreateDragImage(
    int nItem,
    LPPOINT lpPoint);
```

### <a name="parameters"></a>Parameter

*nItem*<br/>
Index des Elements, dessen Ziehbildliste erstellt werden soll.

*lpPoint*<br/>
Adresse einer [POINT](/previous-versions/dd162805\(v=vs.85\)) POINT-Struktur, die die Anfangsposition der oberen linken Ecke des Bildes in Ansichtskoordinaten empfängt.

### <a name="return-value"></a>Rückgabewert

Ein Zeiger auf die Ziehbildliste, wenn erfolgreich; andernfalls NULL.

### <a name="remarks"></a>Bemerkungen

Das `CImageList` Objekt ist permanent, und Sie müssen es löschen, wenn es fertig ist. Beispiel:

```cpp
        CImageList* pImageList = m_myListCtrl.CreateDragImage(nItem, &point);

        // do something

        delete pImageList;
```

## <a name="clistctrldeleteallitems"></a><a name="deleteallitems"></a>CListCtrl::DeleteAllItems

Löscht alle Elemente aus dem Listenansichtssteuerelement.

```
BOOL DeleteAllItems();
```

### <a name="return-value"></a>Rückgabewert

Ungleich 0, wenn erfolgreich, andernfalls 0.

### <a name="example"></a>Beispiel

```cpp
    // Delete all of the items from the list view control.
    m_myListCtrl.DeleteAllItems();
    ASSERT(m_myListCtrl.GetItemCount() == 0);
```

## <a name="clistctrldeletecolumn"></a><a name="deletecolumn"></a>CListCtrl::DeleteColumn

Löscht eine Spalte aus dem Listenansichtssteuerelement.

```
BOOL DeleteColumn(int nCol);
```

### <a name="parameters"></a>Parameter

*nCol*<br/>
Index der zu löschenden Spalte.

### <a name="return-value"></a>Rückgabewert

Ungleich 0, wenn erfolgreich, andernfalls 0.

### <a name="example"></a>Beispiel

```cpp
        int nColumnCount = m_myListCtrl.GetHeaderCtrl()->GetItemCount();

        // Delete all of the columns.
        for (int i=0; i < nColumnCount; i++)
        {
            m_myListCtrl.DeleteColumn(0);
        }
```

## <a name="clistctrldeleteitem"></a><a name="deleteitem"></a>CListCtrl::DeleteItem

Löscht ein Element aus einem Listenansichtssteuerelement.

```
BOOL DeleteItem(int nItem);
```

### <a name="parameters"></a>Parameter

*nItem*<br/>
Gibt den Index des zu löschenden Elements an.

### <a name="return-value"></a>Rückgabewert

Ungleich 0, wenn erfolgreich, andernfalls 0.

### <a name="example"></a>Beispiel

```cpp
        int nCount = m_myListCtrl.GetItemCount();

        // Delete all of the items from the list view control.
        for (int i=0; i < nCount; i++)
        {
            m_myListCtrl.DeleteItem(0);
        }
```

## <a name="clistctrldrawitem"></a><a name="drawitem"></a>CListCtrl::DrawItem

Wird vom Framework aufgerufen, wenn sich ein visueller Aspekt einer Besitzerzeichnungsliste ändert.

```
virtual void DrawItem(LPDRAWITEMSTRUCT lpDrawItemStruct);
```

### <a name="parameters"></a>Parameter

*lpDrawItemStruct*<br/>
Ein langer Zeiger `DRAWITEMSTRUCT` auf eine Struktur, die Informationen über den erforderlichen Zeichnungstyp enthält.

### <a name="remarks"></a>Bemerkungen

Das `itemAction` Element der [DRAWITEMSTRUCT-Struktur](/windows/win32/api/winuser/ns-winuser-drawitemstruct) definiert die Zeichnungsaktion, die ausgeführt werden soll.

Standardmäßig führt diese Memberfunktion nichts aus. Überschreiben Sie diese Memberfunktion, um `CListCtrl` die Zeichnung für ein Besitzerzeichnungsobjekt zu implementieren.

Die Anwendung sollte alle GDI-Objekte (Graphics Device Interface) wiederherstellen, die für den in *lpDrawItemStruct* bereitgestellten Anzeigekontext ausgewählt wurden, bevor diese Memberfunktion beendet wird.

## <a name="clistctrleditlabel"></a><a name="editlabel"></a>CListCtrl::EditLabel

Beginnt mit der ortsübergreifenden Bearbeitung des Textes eines Elements.

```
CEdit* EditLabel(int nItem);
```

### <a name="parameters"></a>Parameter

*nItem*<br/>
Index des Listenansichtselements, das bearbeitet werden soll.

### <a name="return-value"></a>Rückgabewert

Wenn erfolgreich, ein Zeiger `CEdit` auf das Objekt, das verwendet wird, um den Elementtext zu bearbeiten; andernfalls NULL.

### <a name="remarks"></a>Bemerkungen

Ein Listenansichtssteuerelement mit dem LVS_EDITLABELS Fensterstil ermöglicht es einem Benutzer, Elementbeschriftungen an Ort und Stelle zu bearbeiten. Der Benutzer beginnt mit der Bearbeitung, indem er auf die Bezeichnung eines Elements mit dem Fokus klickt.

Verwenden Sie diese Funktion, um mit der ortsgenauen Bearbeitung des Textes des angegebenen Listenansichtselements zu beginnen.

### <a name="example"></a>Beispiel

```cpp
        // Make sure the focus is set to the list view control.
        m_myListCtrl.SetFocus();

        // Show the edit control on the label of the first
        // item in the list view control.
        CEdit* pmyEdit = m_myListCtrl.EditLabel(1);
        ASSERT(pmyEdit != NULL);
```

## <a name="clistctrlenablegroupview"></a><a name="enablegroupview"></a>CListCtrl::EnableGroupView

Aktiviert oder deaktiviert, ob die Elemente in einem Listenansichtssteuerelement als Gruppe angezeigt werden.

```
LRESULT EnableGroupView(BOOL fEnable);
```

### <a name="parameters"></a>Parameter

*fEnable*<br/>
Gibt an, ob ein Listenansichtssteuerelement aktiviert werden soll, um angezeigte Elemente zu gruppieren. TRUE, um die Gruppierung zu aktivieren; FALSE, um es zu deaktivieren.

### <a name="return-value"></a>Rückgabewert

Gibt einen der folgenden Werte zurück:

- **0** Die Möglichkeit, Listenansichtselemente als Gruppe anzuzeigen, ist bereits aktiviert oder deaktiviert.

- **1** Der Zustand der Steuerung wurde erfolgreich geändert.

- **-1** Der Vorgang ist fehlgeschlagen.

### <a name="remarks"></a>Bemerkungen

Diese Memberfunktion emuliert die Funktionalität der [LVM_ENABLEGROUPVIEW](/windows/win32/Controls/lvm-enablegroupview) Nachricht, wie im Windows SDK beschrieben.

## <a name="clistctrlensurevisible"></a><a name="ensurevisible"></a>CListCtrl::EnsureVisible

Stellt sicher, dass ein Listenansichtselement zumindest teilweise sichtbar ist.

```
BOOL EnsureVisible(
    int nItem,
    BOOL bPartialOK);
```

### <a name="parameters"></a>Parameter

*nItem*<br/>
Index des Listenansichtselements, das sichtbar sein soll.

*bPartialOK*<br/>
Gibt an, ob die partielle Sichtbarkeit akzeptabel ist.

### <a name="return-value"></a>Rückgabewert

Ungleich 0, wenn erfolgreich, andernfalls 0.

### <a name="remarks"></a>Bemerkungen

Das Listenansichtssteuerelement wird bei Bedarf gescrollt. Wenn der *BPartialOK-Parameter* ungleich Null ist, erfolgt kein Bildlauf, wenn das Element teilweise sichtbar ist.

### <a name="example"></a>Beispiel

```cpp
        // Ensure that the last item is visible.
        int nCount = m_myListCtrl.GetItemCount();
        if (nCount > 0)
            m_myListCtrl.EnsureVisible(nCount-1, FALSE);
```

## <a name="clistctrlfinditem"></a><a name="finditem"></a>CListCtrl::FindItem

Sucht nach einem Listenansichtselement mit bestimmten Merkmalen.

```
int FindItem(
    LVFINDINFO* pFindInfo,
    int nStart = -1) const;
```

### <a name="parameters"></a>Parameter

*pFindInfo*<br/>
Ein Zeiger auf eine [LVFINDINFO-Struktur,](/windows/win32/api/commctrl/ns-commctrl-lvfindinfow) die Informationen über das gesuchte Element enthält.

*nStart*<br/>
Index des Elements, mit dem die Suche beginnen soll, oder -1, um von Anfang an zu beginnen. Das Element bei *nStart* wird von der Suche ausgeschlossen, wenn *nStart* nicht gleich -1 ist.

### <a name="return-value"></a>Rückgabewert

Der Index des Elements, wenn erfolgreich oder -1 auf andere Weise.

### <a name="remarks"></a>Bemerkungen

Der Parameter *pFindInfo* `LVFINDINFO` verweist auf eine Struktur, die Informationen enthält, die zum Suchen nach einem Listenansichtselement verwendet werden.

### <a name="example"></a>Beispiel

```cpp
        LVFINDINFO info;
        int nIndex;

        info.flags = LVFI_PARTIAL|LVFI_STRING;
        info.psz = _T("item");

        // Delete all of the items that begin with the string.
        while ((nIndex = m_myListCtrl.FindItem(&info)) != -1)
        {
            m_myListCtrl.DeleteItem(nIndex);
        }
```

## <a name="clistctrlgetbkcolor"></a><a name="getbkcolor"></a>CListCtrl::GetBkColor

Ruft die Hintergrundfarbe eines Listenansichtssteuerelements ab.

```
COLORREF GetBkColor() const;
```

### <a name="return-value"></a>Rückgabewert

Ein 32-Bit-Wert, der zum Angeben einer RGB-Farbe verwendet wird.

### <a name="example"></a>Beispiel

Siehe Beispiel für [CListCtrl::SetBkColor](#setbkcolor).

## <a name="clistctrlgetbkimage"></a><a name="getbkimage"></a>CListCtrl::GetBkImage

Ruft das aktuelle Hintergrundbild eines Listenansichtssteuerelements ab.

```
BOOL GetBkImage(LVBKIMAGE* plvbkImage) const;
```

### <a name="parameters"></a>Parameter

*plvbkImage*<br/>
Ein Zeiger auf `LVBKIMAGE` eine Struktur, die das aktuelle Hintergrundbild der Listenansicht enthält.

### <a name="return-value"></a>Rückgabewert

Gibt einen Wert ungleich Null zurück, wenn er erfolgreich ist, oder andernfalls Null.

### <a name="remarks"></a>Bemerkungen

Diese Methode implementiert das Verhalten des Win32-Makros [ListView_GetBkImage](/windows/win32/api/commctrl/nf-commctrl-listview_getbkimage), wie im Windows SDK beschrieben.

### <a name="example"></a>Beispiel

```cpp
        LVBKIMAGE bki;

        // If no background image is set for the list view control use
        // the Microsoft homepage image as the background image.
        if (m_myListCtrl.GetBkImage(&bki) && (bki.ulFlags == LVBKIF_SOURCE_NONE))
        {
            m_myListCtrl.SetBkImage(
                _T("https://www.microsoft.com/library/images/gifs/homepage/microsoft.gif"),
                TRUE);
        }
```

## <a name="clistctrlgetcallbackmask"></a><a name="getcallbackmask"></a>CListCtrl::GetCallbackMask

Ruft die Rückrufmaske für ein Listenansichtssteuerelement ab.

```
UINT GetCallbackMask() const;
```

### <a name="return-value"></a>Rückgabewert

Die Rückrufmaske des Listenansichtssteuerelements.

### <a name="remarks"></a>Bemerkungen

Ein "Rückrufelement" ist ein Listenansichtselement, für das die Anwendung – und nicht das Steuerelement – den Text, das Symbol oder beides speichert. Obwohl ein Listenansichtssteuerelement diese Attribute für Sie speichern kann, können Sie Rückrufelemente verwenden, wenn Ihre Anwendung einige dieser Informationen bereits verwaltet. Die Rückrufmaske gibt an, welche Elementstatusbits von der Anwendung verwaltet werden, und sie gilt für das gesamte Steuerelement und nicht für ein bestimmtes Element. Die Rückrufmaske ist standardmäßig Null, was bedeutet, dass das Steuerelement alle Elementzustände nachverfolgt. Wenn eine Anwendung Rückrufelemente verwendet oder eine Rückrufmaske ungleich Null angibt, muss sie in der Lage sein, Listenansichtselementattribute bei Bedarf bereitzustellen.

### <a name="example"></a>Beispiel

Siehe Beispiel für [CListCtrl::SetCallbackMask](#setcallbackmask).

## <a name="clistctrlgetcheck"></a><a name="getcheck"></a>CListCtrl::GetCheck

Ruft den aktuellen Anzeigestatus des Statusabbilds ab, das einem Element zugeordnet ist.

```
BOOL GetCheck(int nItem) const;
```

### <a name="parameters"></a>Parameter

*nItem*<br/>
Der nullbasierte Index eines Listensteuerelements.

### <a name="return-value"></a>Rückgabewert

Ein Wert ungleich Null, wenn das Element ausgewählt ist, andernfalls 0.

### <a name="remarks"></a>Bemerkungen

Diese Memberfunktion implementiert das Verhalten des Win32-Makros [ListView_GetCheckState](/windows/win32/api/commctrl/nf-commctrl-listview_getcheckstate), wie im Windows SDK beschrieben.

### <a name="example"></a>Beispiel

Siehe Beispiel für [CListCtrl::SetCheck](#setcheck).

## <a name="clistctrlgetcolumn"></a><a name="getcolumn"></a>CListCtrl::GetColumn

Ruft die Attribute der Spalte eines Listenansichtssteuerelements ab.

```
BOOL GetColumn(
    int nCol,
    LVCOLUMN* pColumn) const;
```

### <a name="parameters"></a>Parameter

*nCol*<br/>
Index der Spalte, deren Attribute abgerufen werden sollen.

*pColumn*<br/>
Adresse einer [LVCOLUMN-Struktur,](/windows/win32/api/commctrl/ns-commctrl-lvcolumnw) die die Informationen angibt, die abgerufen werden sollen, und empfängt Informationen über die Spalte. Der `mask` Member gibt an, welche Spaltenattribute abgerufen werden sollen. Wenn `mask` das Element den LVCF_TEXT-Wert angibt, muss das `pszText` Element die Adresse `cchTextMax` des Puffers enthalten, der den Elementtext empfängt, und das Element muss die Größe des Puffers angeben.

### <a name="return-value"></a>Rückgabewert

Ungleich 0, wenn erfolgreich, andernfalls 0.

### <a name="remarks"></a>Bemerkungen

Die `LVCOLUMN` Struktur enthält Informationen zu einer Spalte in der Berichtsansicht.

### <a name="example"></a>Beispiel

```cpp
        LVCOLUMN col;

        col.mask = LVCF_WIDTH;

        // Double the column width of the first column.
        if (m_myListCtrl.GetColumn(0, &col))
        {
            col.cx *= 2;
            m_myListCtrl.SetColumn(0, &col);
        }
```

## <a name="clistctrlgetcolumnorderarray"></a><a name="getcolumnorderarray"></a>CListCtrl::GetColumnOrderArray

Ruft die Spaltenreihenfolge (von links nach rechts) eines Listenansichtssteuerelements ab.

```
BOOL GetColumnOrderArray(
    LPINT piArray,
    int iCount = -1);
```

### <a name="parameters"></a>Parameter

*piArray*<br/>
Ein Zeiger auf einen Puffer, der die Indexwerte der Spalten im Listenansichtssteuerelement enthält. Der Puffer muss groß genug sein, um die Gesamtzahl der Spalten im Listenansichtssteuerelement zu enthalten.

*iCount*<br/>
Anzahl der Spalten im Listenansichtssteuerelement. Wenn dieser Parameter -1 ist, wird die Anzahl der Spalten automatisch vom Framework abgerufen.

### <a name="return-value"></a>Rückgabewert

Ungleich 0, wenn erfolgreich, andernfalls 0.

### <a name="remarks"></a>Bemerkungen

Diese Memberfunktion implementiert das Verhalten des Win32-Makros, [ListView_GetColumnOrderArray](/windows/win32/api/commctrl/nf-commctrl-listview_getcolumnorderarray), wie im Windows SDK beschrieben.

### <a name="example"></a>Beispiel

```cpp
        // Reverse the order of the columns in the list view control
        // (i.e. make the first column the last, the last column
        // the first, and so on...).
        CHeaderCtrl* pHeaderCtrl = m_myListCtrl.GetHeaderCtrl();

        if (pHeaderCtrl != NULL)
        {
            int  nColumnCount = pHeaderCtrl->GetItemCount();
            LPINT pnOrder = (LPINT) malloc(nColumnCount*sizeof(int));
            ASSERT(pnOrder != NULL);
            m_myListCtrl.GetColumnOrderArray(pnOrder, nColumnCount);

            int i, j, nTemp;
            for (i = 0, j = nColumnCount-1; i < j; i++, j--)
            {
                nTemp = pnOrder[i];
                pnOrder[i] = pnOrder[j];
                pnOrder[j] = nTemp;
            }

            m_myListCtrl.SetColumnOrderArray(nColumnCount, pnOrder);
            free(pnOrder);
        }
```

## <a name="clistctrlgetcolumnwidth"></a><a name="getcolumnwidth"></a>CListCtrl::GetColumnWidth

Ruft die Breite einer Spalte in der Berichts- oder Listenansicht ab.

```
int GetColumnWidth(int nCol) const;
```

### <a name="parameters"></a>Parameter

*nCol*<br/>
Gibt den Index der Spalte an, deren Breite abgerufen werden soll.

### <a name="return-value"></a>Rückgabewert

Die Breite der von *nCol*angegebenen Spalte in Pixel.

### <a name="example"></a>Beispiel

```cpp
        // Increase the column width of the second column by 20.
        int nWidth = m_myListCtrl.GetColumnWidth(1);
        m_myListCtrl.SetColumnWidth(1, 20 + nWidth);
```

## <a name="clistctrlgetcountperpage"></a><a name="getcountperpage"></a>CListCtrl::GetCountPerPage

Berechnet die Anzahl der Elemente, die vertikal in den sichtbaren Bereich eines Listenansichtssteuerelements passen können, wenn sie sich in der Listen- oder Berichtsansicht befinden.

```
int GetCountPerPage() const;
```

### <a name="return-value"></a>Rückgabewert

Die Anzahl der Elemente, die vertikal in den sichtbaren Bereich eines Listenansichtssteuerelements passen können, wenn sie sich in der Listenansicht oder Berichtsansicht befinden.

### <a name="example"></a>Beispiel

Siehe Beispiel für [CListCtrl::GetTopIndex](#gettopindex).

## <a name="clistctrlgeteditcontrol"></a><a name="geteditcontrol"></a>CListCtrl::GetEditControl

Ruft das Handle des Bearbeitungssteuerelements ab, das zum Bearbeiten des Textes eines Listenansichtselements verwendet wird.

```
CEdit* GetEditControl() const;
```

### <a name="return-value"></a>Rückgabewert

Wenn erfolgreich, ein Zeiger auf das [CEdit-Objekt,](cedit-class.md) das zum Bearbeiten des Elementtexts verwendet wird; andernfalls NULL.

### <a name="example"></a>Beispiel

```cpp
        // The string replacing the text in the edit control.
        LPCTSTR lpszmyString = _T("custom label!");

        // If possible, replace the text in the label edit control.
        CEdit* pEdit = m_myListCtrl.GetEditControl();

        if (pEdit != NULL)
        {
            pEdit->SetWindowText(lpszmyString);
        }
```

## <a name="clistctrlgetemptytext"></a><a name="getemptytext"></a>CListCtrl::GetEmptyText

Ruft die Zeichenfolge ab, die angezeigt wird, wenn das aktuelle Listenansichtssteuerelement leer ist.

```
CString GetEmptyText() const;
```

### <a name="return-value"></a>Rückgabewert

Ein [CString,](../../atl-mfc-shared/reference/cstringt-class.md) der den anzuzeigenden Text enthält, wenn das Steuerelement leer ist.

### <a name="remarks"></a>Bemerkungen

Diese Methode sendet die [LVM_GETEMPTYTEXT](/windows/win32/Controls/lvm-getemptytext) Nachricht, die im Windows SDK beschrieben wird.

## <a name="clistctrlgetextendedstyle"></a><a name="getextendedstyle"></a>CListCtrl::GetExtendedStyle

Ruft die aktuellen erweiterten Stile eines Listenansichtssteuerelements ab.

```
DWORD GetExtendedStyle();
```

### <a name="return-value"></a>Rückgabewert

Eine Kombination der erweiterten Stile, die derzeit vom Listenansichtssteuerelement verwendet werden. Eine beschreibende Liste dieser erweiterten Stile finden Sie im Artikel [Erweiterte Listenansichtsformatvorlagen](/windows/win32/Controls/extended-list-view-styles) im Windows SDK.

### <a name="remarks"></a>Bemerkungen

Diese Memberfunktion implementiert das Verhalten des Win32-Makros [ListView_GetExtendedListViewStyle](/windows/win32/api/commctrl/nf-commctrl-listview_getextendedlistviewstyle), wie im Windows SDK beschrieben.

### <a name="example"></a>Beispiel

Siehe Beispiel für [CListCtrl::SetExtendedStyle](#setextendedstyle).

## <a name="clistctrlgetfirstselecteditemposition"></a><a name="getfirstselecteditemposition"></a>CListCtrl::GetFirstSelectedItemPosition

Ruft die Position des ersten ausgewählten Elements im Listenansichtssteuerelement ab.

```
POSITION GetFirstSelectedItemPosition() const;
```

### <a name="return-value"></a>Rückgabewert

Ein POSITION-Wert, der für den Iterations- oder Objektzeigerabruf verwendet werden kann; NULL, wenn keine Elemente ausgewählt sind.

### <a name="example"></a>Beispiel

Das folgende Codebeispiel veranschaulicht die Verwendung dieser Funktion.

```cpp
        POSITION pos = m_myListCtrl.GetFirstSelectedItemPosition();
        if (pos == NULL)
        {
            TRACE(_T("No items were selected!\n"));
        }
        else
        {
            while (pos)
            {
                int nItem = m_myListCtrl.GetNextSelectedItem(pos);
                TRACE(_T("Item %d was selected!\n"), nItem);
                // you could do your own processing on nItem here
            }
        }
```

## <a name="clistctrlgetfocusedgroup"></a><a name="getfocusedgroup"></a>CListCtrl::GetFocusedGroup

Ruft die Gruppe ab, die den Tastaturfokus im aktuellen Listenansichtssteuerelement hat.

```
int GetFocusedGroup() const;
```

### <a name="return-value"></a>Rückgabewert

Der Index der Gruppe, deren Status LVGS_FOCUSED ist, wenn eine solche Gruppe vorhanden ist; andernfalls -1.

### <a name="remarks"></a>Bemerkungen

Diese Methode sendet die [LVM_GETFOCUSEDGROUP](/windows/win32/Controls/lvm-getfocusedgroup) Nachricht, die im Windows SDK beschrieben wird. Weitere Informationen finden Sie im `state` LVGS_FOCUSED Wert des Elements der [LVGROUP-Struktur.](/windows/win32/api/commctrl/ns-commctrl-lvgroup)

## <a name="clistctrlgetgroupcount"></a><a name="getgroupcount"></a>CListCtrl::GetGroupCount

Ruft die Anzahl der Gruppen im aktuellen Listenansichtssteuerelement ab.

```
int GetGroupCount()const;
```

### <a name="return-value"></a>Rückgabewert

Die Anzahl der Gruppen im Listenansichtssteuerelement.

### <a name="remarks"></a>Bemerkungen

Diese Methode sendet die [LVM_GETGROUPCOUNT](/windows/win32/Controls/lvm-getgroupcount) Nachricht, die im Windows SDK --> beschrieben wird.

## <a name="clistctrlgetgroupinfo"></a><a name="getgroupinfo"></a>CListCtrl::GetGroupInfo

Ruft die Informationen für eine angegebene Gruppe des Listenansichtssteuerelements ab.

```
int GetGroupInfo(
    int iGroupId,
    PLVGROUP pgrp) const;
```

### <a name="parameters"></a>Parameter

*iGroupId*<br/>
Der Bezeichner der Gruppe, deren Informationen abgerufen werden sollen.

*pgrp*<br/>
Ein Zeiger auf die [LVGROUP,](/windows/win32/api/commctrl/ns-commctrl-lvgroup) der Informationen über die angegebene Gruppe enthält.

### <a name="return-value"></a>Rückgabewert

Gibt die ID der Gruppe zurück, wenn sie erfolgreich ist, oder -1 andernfalls.

### <a name="remarks"></a>Bemerkungen

Diese Memberfunktion emuliert die Funktionalität der [LVM_GETGROUPINFO](/windows/win32/Controls/lvm-getgroupinfo) Nachricht, wie im Windows SDK beschrieben.

## <a name="clistctrlgetgroupinfobyindex"></a><a name="getgroupinfobyindex"></a>CListCtrl::GetGroupInfoByIndex

Ruft Informationen zu einer angegebenen Gruppe im aktuellen Listenansichtssteuerelement ab.

```
BOOL GetGroupInfoByIndex(
    int iIndex,
    PLVGROUP pGroup) const;
```

### <a name="parameters"></a>Parameter

|Parameter|BESCHREIBUNG|
|---------------|-----------------|
|*iIndex*|[in] Nullbasierter Index einer Gruppe.|
|*pGruppe*|[out] Zeiger auf eine [LVGROUP-Struktur,](/windows/win32/api/commctrl/ns-commctrl-lvgroup) die Informationen über die durch den *iIndex-Parameter* angegebene Gruppe empfängt.<br /><br /> Der Aufrufer ist für die Initialisierung der Mitglieder der [LVGROUP-Struktur](/windows/win32/api/commctrl/ns-commctrl-lvgroup) verantwortlich. Legen `cbSize` Sie das Element auf die Größe der `mask` Struktur und die Flags des Elements fest, um die abzurufenden Informationen anzugeben.|

### <a name="return-value"></a>Rückgabewert

TRUE, wenn diese Methode erfolgreich ist; andernfalls FALSE.

### <a name="remarks"></a>Bemerkungen

Diese Methode sendet die [LVM_GETGROUPINFOBYINDEX](/windows/win32/controls/lvm-getgroupinfobyindex) Nachricht, die im Windows SDK --> beschrieben wird.

### <a name="example"></a>Beispiel

Im folgenden Codebeispiel wird `m_listCtrl`eine Variable definiert, , die für den Zugriff auf das aktuelle Listenansichtssteuerelement verwendet wird. Diese Variable wird im nächsten Beispiel verwendet.

```cpp
public:
    // Variable used to access the list control.
    CListCtrl m_listCtrl;
```

### <a name="example"></a>Beispiel

Im folgenden Codebeispiel `GetGroupInfoByIndex` wird die Methode veranschaulicht. In einem früheren Abschnitt dieses Codebeispiels haben wir ein Listenansichtssteuerelement erstellt, das zwei Spalten mit dem Titel "ClientID" und "Grade" in einer Berichtsansicht anzeigt. Im folgenden Codebeispiel werden Informationen über die Gruppe abgerufen, deren Index 0 ist, sofern eine solche Gruppe vorhanden ist.

```cpp
    // GetGroupInfoByIndex
    const int GROUP_HEADER_BUFFER_SIZE = 40;

// Initialize the structure
    LVGROUP gInfo = {0};
    gInfo.cbSize = sizeof(LVGROUP);
    wchar_t wstrHeadGet[GROUP_HEADER_BUFFER_SIZE] = {0};
    gInfo.cchHeader = GROUP_HEADER_BUFFER_SIZE;
    gInfo.pszHeader = wstrHeadGet;
    gInfo.mask = (LVGF_ALIGN | LVGF_STATE | LVGF_HEADER | LVGF_GROUPID);
    gInfo.state = LVGS_NORMAL;
    gInfo.uAlign  = LVGA_HEADER_LEFT;

    BOOL bRet = m_listCtrl.GetGroupInfoByIndex( 0, &gInfo );
    if (bRet == TRUE) {
        CString strHeader = CString( gInfo.pszHeader );
        CString str;
        str.Format(_T("Header: '%s'"), strHeader);
        AfxMessageBox(str, MB_ICONINFORMATION);
    }
    else
    {
        AfxMessageBox(_T("No group information was retrieved."));
    }
```

## <a name="clistctrlgetgroupmetrics"></a><a name="getgroupmetrics"></a>CListCtrl::GetGroupMetrics

Ruft die Metriken einer Gruppe ab.

```
void GetGroupMetrics(PLVGROUPMETRICS pGroupMetrics) const;
```

### <a name="parameters"></a>Parameter

*pGroupMetrics*<br/>
Ein Zeiger auf ein [LVGROUPMETRICS,](/windows/win32/api/commctrl/ns-commctrl-lvgroupmetrics) das die Gruppenmetrikinformationen enthält.

### <a name="remarks"></a>Bemerkungen

Diese Memberfunktion emuliert die Funktionalität der [LVM_GETGROUPMETRICS](/windows/win32/Controls/lvm-getgroupmetrics) Nachricht, wie im Windows SDK beschrieben.

## <a name="clistctrlgetgrouprect"></a><a name="getgrouprect"></a>CListCtrl::GetGroupRect

Ruft das umlaufende Rechteck für eine angegebene Gruppe im aktuellen Listenansichtssteuerelement ab.

```
BOOL GetGroupRect(
    int iGroupId,
    LPRECT lpRect,
    int iCoords = LVGGR_GROUP) const;
```

### <a name="parameters"></a>Parameter

|Parameter|BESCHREIBUNG|
|---------------|-----------------|
|*iGroupId*|[in] Gibt eine Gruppe an.|
|*lpRect*|[in, out] Zeiger auf eine [RECT-Struktur.](/previous-versions/dd162897\(v=vs.85\)) Wenn diese Methode erfolgreich ist, empfängt die Struktur die Rechteckkoordinaten der Gruppe, die von *iGroupId*angegeben wird.|
|*iCoords*|[in] Gibt die rechteckigen Koordinaten an, die abgerufen werden sollen. Verwenden Sie einen der folgenden Werte:<br /><br /> - LVGGR_GROUP - (Standard) Koordinaten der gesamten erweiterten Gruppe.<br />- LVGGR_HEADER - Koordinaten nur der Kopfzeile (reduzierte Gruppe).<br />- LVGGR_SUBSETLINK - Koordinaten nur der Teilmengenverknüpfung (Markup-Teilmenge).|

### <a name="return-value"></a>Rückgabewert

TRUE, wenn diese Methode erfolgreich ist; andernfalls FALSE.

### <a name="remarks"></a>Bemerkungen

Der Aufrufer ist für die Zuweisung der [RECT-Struktur](/previous-versions/dd162897\(v=vs.85\)) verantwortlich, auf die der Parameter *pRect* zeigt.

Diese Methode sendet die [LVM_GETGROUPRECT](/windows/win32/Controls/lvm-getgrouprect) Nachricht, die im Windows SDK beschrieben wird.

### <a name="example"></a>Beispiel

Im folgenden Codebeispiel wird `m_listCtrl`eine Variable definiert, , die für den Zugriff auf das aktuelle Listenansichtssteuerelement verwendet wird. Diese Variable wird im nächsten Beispiel verwendet.

```cpp
public:
    // Variable used to access the list control.
    CListCtrl m_listCtrl;
```

### <a name="example"></a>Beispiel

Im folgenden Codebeispiel `GetGroupRect` wird die Methode veranschaulicht. In einem früheren Abschnitt dieses Codebeispiels haben wir ein Listenansichtssteuerelement erstellt, das zwei Spalten mit dem Titel "ClientID" und "Grade" in einer Berichtsansicht anzeigt. Im folgenden Codebeispiel wird ein 3D-Rechteck um die Gruppe gezeichnet, deren Index 0 ist, sofern eine solche Gruppe vorhanden ist.

```cpp
    // GetGroupRect

    // Get the graphics rectangle that surrounds group 0.
    CRect rect;
    BOOL bRet = m_listCtrl.GetGroupRect( 0, &rect, LVGGR_GROUP);
    // Draw a blue rectangle around group 0.
    if (bRet == TRUE) {
        m_listCtrl.GetDC()->Draw3dRect( &rect, RGB(0, 0, 255), RGB(0, 0, 255));
    }
    else {
        AfxMessageBox(_T("No group information was retrieved."), MB_ICONINFORMATION);
    }
```

## <a name="clistctrlgetgroupstate"></a><a name="getgroupstate"></a>CListCtrl::GetGroupState

Ruft den Status für eine angegebene Gruppe im aktuellen Listenansichtssteuerelement ab.

```
UINT GetGroupState(
    int iGroupId,
    DWORD dwMask) const;
```

### <a name="parameters"></a>Parameter

|Parameter|BESCHREIBUNG|
|---------------|-----------------|
|*iGroupId*|[in] Nullbasierter Index einer Gruppe.|
|*dwMask*|[in] Maske, die den Statuswert angibt, der für die angegebene Gruppe abgerufen werden soll. Weitere Informationen finden `mask` Sie im Mitglied der [LVGROUP-Struktur.](/windows/win32/api/commctrl/ns-commctrl-lvgroup)|

### <a name="return-value"></a>Rückgabewert

Der angeforderte Status für die angegebene Gruppe oder 0, wenn die Gruppe nicht gefunden werden kann.

### <a name="remarks"></a>Bemerkungen

Der Rückgabewert ist das Ergebnis einer bitweisen UND-Operation am `state` *parameter dwMask* und des Wertes des Members einer [LVGROUP-Struktur,](/windows/win32/api/commctrl/ns-commctrl-lvgroup) die das aktuelle Listenansichtssteuerelement darstellt.

Diese Methode sendet die [LVM_GETGROUPSTATE](/windows/win32/Controls/lvm-getgroupstate) Nachricht, die im Windows SDK beschrieben wird. Weitere Informationen finden [ListView_GetGroupState](/windows/win32/api/commctrl/nf-commctrl-listview_getgroupstate) Sie im ListView_GetGroupState-Makro.

## <a name="clistctrlgetheaderctrl"></a><a name="getheaderctrl"></a>CListCtrl::GetHeaderCtrl

Ruft das Headersteuerelement eines Listenansichtssteuerelements ab.

```
CHeaderCtrl* GetHeaderCtrl();
```

### <a name="return-value"></a>Rückgabewert

Ein Zeiger auf das Headersteuerelement, der vom Listenansichtssteuerelement verwendet wird.

### <a name="remarks"></a>Bemerkungen

Diese Memberfunktion implementiert das Verhalten des Win32-Makros [ListView_GetHeader](/windows/win32/api/commctrl/nf-commctrl-listview_getheader), wie im Windows SDK beschrieben.

### <a name="example"></a>Beispiel

Siehe Beispiel für [CListCtrl::GetColumnOrderArray](#getcolumnorderarray).

## <a name="clistctrlgethotcursor"></a><a name="gethotcursor"></a>CListCtrl::GetHotCursor

Ruft den Cursor ab, der verwendet wird, wenn die Hot-Tracking-Funktion für ein Listenansichtssteuerelement aktiviert ist.

```
HCURSOR GetHotCursor();
```

### <a name="return-value"></a>Rückgabewert

Das Handle für die aktuelle Hotcursorressource, die vom Listenansichtssteuerelement verwendet wird.

### <a name="remarks"></a>Bemerkungen

Diese Memberfunktion implementiert das Verhalten des Win32-Makros [ListView_GetHotCursor](/windows/win32/api/commctrl/nf-commctrl-listview_gethotcursor), wie im Windows SDK beschrieben. Der Hotcursor, der nur sichtbar ist, wenn die Hover-Auswahl aktiviert ist, wird angezeigt, wenn der Cursor über ein listenansichtselement wechselt. Die Hover-Auswahl wird aktiviert, indem Sie den LVS_EX_TRACKSELECT erweiterten Stils festlegen.

### <a name="example"></a>Beispiel

```cpp
        // Set the hot cursor to be the system app starting cursor.
        HCURSOR hCursor = ::LoadCursor(NULL, IDC_APPSTARTING);
        m_myListCtrl.SetHotCursor(hCursor);
        ASSERT(m_myListCtrl.GetHotCursor() == hCursor);
```

## <a name="clistctrlgethotitem"></a><a name="gethotitem"></a>CListCtrl::GetHotItem

Ruft das Listenansichtselement ab, das sich derzeit unter dem Cursor befindet.

```
int GetHotItem();
```

### <a name="return-value"></a>Rückgabewert

Der Index des aktuellen Hotelements des Listenansichtssteuerelements.

### <a name="remarks"></a>Bemerkungen

Diese Memberfunktion implementiert das Verhalten des Win32-Makros [ListView_GetHotItem](/windows/win32/api/commctrl/nf-commctrl-listview_gethotitem), wie im Windows SDK beschrieben. Das heiße Element wird als das aktuell ausgewählte Element definiert, wenn die Hot-Tracking-Funktion (und die Hover-Auswahl) aktiviert ist.

Wenn die Hot-Tracking-Funktion aktiviert ist und ein Benutzer ein Listenansichtselement angehalten hat, wird die Elementbeschriftung automatisch ohne Maustaste hervorgehoben.

### <a name="example"></a>Beispiel

```cpp
    // Set the hot item to the first item only if no other item is
    // highlighted.
    if (m_myListCtrl.GetHotItem() == -1)
        m_myListCtrl.SetHotItem(0);
```

## <a name="clistctrlgethovertime"></a><a name="gethovertime"></a>CListCtrl::GetHoverTime

Ruft die aktuelle Hoverzeit eines Listenansichtssteuerelements ab.

```
DWORD GetHoverTime() const;
```

### <a name="return-value"></a>Rückgabewert

Gibt die Verzögerung in Millisekunden zurück, die der Mauszeiger über ein Element bewegen muss, bevor es ausgewählt wird. Wenn der Rückgabewert -1 ist, ist die Hoverzeit die Standardhoverzeit.

### <a name="remarks"></a>Bemerkungen

Diese Memberfunktion implementiert das Verhalten des Win32-Makros [ListView_GetHoverTime](/windows/win32/api/commctrl/nf-commctrl-listview_gethovertime), wie im Windows SDK beschrieben.

### <a name="example"></a>Beispiel

```cpp
        // If the hover time is the default set to 1 sec.
        DWORD dwTime = m_myListCtrl.GetHoverTime();
        if (dwTime == -1)
            m_myListCtrl.SetHoverTime(1000);
```

## <a name="clistctrlgetimagelist"></a><a name="getimagelist"></a>CListCtrl::GetImageList

Ruft das Handle einer Bildliste ab, die für Zeichnungslistenansichtselemente verwendet wird.

```
CImageList* GetImageList(int nImageList) const;
```

### <a name="parameters"></a>Parameter

*nImageList*<br/>
Wert, der angibt, welche Bildliste abgerufen werden soll. Dies kann einer der folgenden Werte sein:

- LVSIL_NORMAL Bildliste mit großen Symbolen.

- LVSIL_SMALL Bildliste mit kleinen Symbolen.

- LVSIL_STATE Bildliste mit Zustandsbildern.

### <a name="return-value"></a>Rückgabewert

Ein Zeiger auf die Bildliste, die für Zeichnungslistenansichtselemente verwendet wird.

### <a name="example"></a>Beispiel

```cpp
        ASSERT(m_myListCtrl.GetImageList(LVSIL_NORMAL) == NULL);
        m_myListCtrl.SetImageList(&m_lcImageList, LVSIL_NORMAL);
        ASSERT(m_myListCtrl.GetImageList(LVSIL_NORMAL) == &m_lcImageList);
```

## <a name="clistctrlgetinsertmark"></a><a name="getinsertmark"></a>CListCtrl::GetInsertMark

Ruft die aktuelle Position der Einfügemarke ab.

```
BOOL GetInsertMark(LPLVINSERTMARK plvim) const;
```

### <a name="parameters"></a>Parameter

*plvim*<br/>
Ein Zeiger auf eine [LVINSERTMARK-Struktur,](/windows/win32/api/commctrl/ns-commctrl-lvinsertmark) die die Informationen für die Einfügemarke enthält.

### <a name="return-value"></a>Rückgabewert

Gibt TRUE zurück, wenn erfolgreich, oder FALSE andernfalls. FALSE wird zurückgegeben, wenn `cbSize` die `LVINSERTMARK` Größe im Element der Struktur nicht der tatsächlichen Größe der Struktur entspricht.

### <a name="remarks"></a>Bemerkungen

Diese Memberfunktion emuliert die Funktionalität der [LVM_GETINSERTMARK](/windows/win32/Controls/lvm-getinsertmark) Nachricht, wie im Windows SDK beschrieben.

## <a name="clistctrlgetinsertmarkcolor"></a><a name="getinsertmarkcolor"></a>CListCtrl::GetInsertMarkColor

Ruft die aktuelle Farbe der Einfügemarke ab.

```
COLORREF GetInsertMarkColor() const;
```

### <a name="return-value"></a>Rückgabewert

Gibt eine [COLORREF-Struktur](/windows/win32/gdi/colorref) zurück, die die Farbe der Einfügemarke enthält.

### <a name="remarks"></a>Bemerkungen

Diese Memberfunktion emuliert die Funktionalität der [LVM_GETINSERTMARKCOLOR](/windows/win32/Controls/lvm-getinsertmarkcolor) Nachricht, wie im Windows SDK beschrieben.

## <a name="clistctrlgetinsertmarkrect"></a><a name="getinsertmarkrect"></a>CListCtrl::GetInsertMarkRect

Ruft das Rechteck ab, das die Einfügemarke begrenzt.

```
int GetInsertMarkRect(LPRECT pRect) const;
```

### <a name="parameters"></a>Parameter

*pRect*<br/>
Zeiger auf `RECT` eine Struktur, die die Koordinaten eines Rechtecks enthält, das die Einfügemarke begrenzt.

### <a name="return-value"></a>Rückgabewert

Gibt einen der folgenden Werte zurück:

- **0** Keine Einfügemarke gefunden.

- **1** Einfügemarke gefunden.

### <a name="remarks"></a>Bemerkungen

Diese Memberfunktion emuliert die Funktionalität der [LVM_GETINSERTMARKRECT](/windows/win32/Controls/lvm-getinsertmarkrect) Nachricht, wie im Windows SDK beschrieben.

## <a name="clistctrlgetitem"></a><a name="getitem"></a>CListCtrl::GetItem

Ruft einige oder alle Attribute eines Listenansichtselements ab.

```
BOOL GetItem(LVITEM* pItem) const;
```

### <a name="parameters"></a>Parameter

*pItem*<br/>
Zeiger auf eine [LVITEM-Struktur,](/windows/win32/api/commctrl/ns-commctrl-lvitemw) die die Attribute des Elements empfängt.

### <a name="return-value"></a>Rückgabewert

Ungleich 0, wenn erfolgreich, andernfalls 0.

### <a name="remarks"></a>Bemerkungen

Die `LVITEM` Struktur gibt die Attribute eines Listenansichtselements an oder empfängt sie.

## <a name="clistctrlgetitemcount"></a><a name="getitemcount"></a>CListCtrl::GetItemCount

Ruft die Anzahl der Elemente in einem Listenansichtssteuerelement ab.

```
int GetItemCount() const;
```

### <a name="return-value"></a>Rückgabewert

Die Anzahl der Elemente im Listenansichtssteuerelement.

### <a name="example"></a>Beispiel

Siehe Beispiel für [CListCtrl::DeleteItem](#deleteitem).

## <a name="clistctrlgetitemdata"></a><a name="getitemdata"></a>CListCtrl::GetItemData

Ruft den anwendungsspezifischen 32-Bit-Wert ab, `nItem`der dem von angegebenen Element zugeordnet ist.

```
DWORD_PTR GetItemData(int nItem) const;
```

### <a name="parameters"></a>Parameter

*nItem*<br/>
Index des Listenelements, dessen Daten abgerufen werden sollen.

### <a name="return-value"></a>Rückgabewert

Ein anwendungsspezifischer 32-Bit-Wert, der dem angegebenen Element zugeordnet ist.

### <a name="remarks"></a>Bemerkungen

Dieser Wert `lParam` ist das Element der [LVITEM-Struktur,](/windows/win32/api/commctrl/ns-commctrl-lvitemw) wie im Windows SDK beschrieben.

### <a name="example"></a>Beispiel

```cpp
    // If any item's data is equal to zero then reset it to -1.
    for (int i=0; i < m_myListCtrl.GetItemCount(); i++)
    {
        if (m_myListCtrl.GetItemData(i) == 0)
        {
            m_myListCtrl.SetItemData(i, (DWORD) -1);
        }
    }
```

## <a name="clistctrlgetitemindexrect"></a><a name="getitemindexrect"></a>CListCtrl::GetItemIndexRect

Ruft das umlaufende Rechteck für das gesamte oder einen Teil eines Unterelements im aktuellen Listenansichtssteuerelement ab.

```
BOOL GetItemIndexRect(
    PLVITEMINDEX pItemIndex,
    int iColumn,
    int rectType,
    LPRECT pRect) const;
```

### <a name="parameters"></a>Parameter

|Parameter|BESCHREIBUNG|
|---------------|-----------------|
|*pItemIndex*|[in] Zeiger auf eine [LVITEMINDEX-Struktur](/windows/win32/api/commctrl/ns-commctrl-lvitemindex) für das übergeordnete Element des Unterelements.<br /><br /> Der Aufrufer ist für die Zuweisung und Einstellung der Member der [LVITEMINDEX-Struktur](/windows/win32/api/commctrl/ns-commctrl-lvitemindex) verantwortlich. Dieser Parameter darf nicht NULL sein.|
|*iColumn*|[in] Nullbasierter Index einer Spalte im Steuerelement.|
|*rectType*|[in] Teil des Unterelements Listenansicht, für das das umgrenzende Rechteck abgerufen wird. Geben Sie einen der folgenden Werte an.<br /><br /> LVIR_BOUNDS - Gibt das umschließende Rechteck des gesamten Unterelements zurück, einschließlich des Symbols und der Beschriftung.<br /><br /> LVIR_ICON - Gibt das umgrenzende Rechteck des Symbols oder des kleinen Symbols des Unterelements zurück.<br /><br /> LVIR_LABEL - Gibt das umgrenzende Rechteck des Unterelementtexts zurück.|
|*pRect*|[out] Zeiger auf eine [RECT-Struktur,](/previous-versions/dd162897\(v=vs.85\)) die Informationen über das umgrenzende Rechteck des Unterelements empfängt.<br /><br /> Der Aufrufer ist für die Zuweisung der [RECT-Struktur](/previous-versions/dd162897\(v=vs.85\)) verantwortlich. Dieser Parameter darf nicht NULL sein.|

### <a name="return-value"></a>Rückgabewert

TRUE, wenn diese Methode erfolgreich ist; andernfalls FALSE.

### <a name="remarks"></a>Bemerkungen

Diese Methode sendet die [LVM_GETITEMINDEXRECT](/windows/win32/Controls/lvm-getitemindexrect) Nachricht, die im Windows SDK beschrieben wird. Weitere Informationen finden Sie [unter ListView_GetItemIndexRect Makro](/windows/win32/api/commctrl/nf-commctrl-listview_getitemindexrect).

### <a name="example"></a>Beispiel

Im folgenden Codebeispiel wird `m_listCtrl`eine Variable definiert, , die für den Zugriff auf das aktuelle Listenansichtssteuerelement verwendet wird. Diese Variable wird im nächsten Beispiel verwendet.

```cpp
public:
    // Variable used to access the list control.
    CListCtrl m_listCtrl;
```

### <a name="example"></a>Beispiel

Im folgenden Codebeispiel `GetGroupRect` wird die Methode veranschaulicht. Vor der Eingabe dieses Codebeispiels haben wir ein Listenansichtssteuerelement erstellt, das zwei Spalten mit den Titeln "ClientID" und "Grade" in einer Berichtsansicht anzeigt. Im folgenden Codebeispiel wird ein 3D-Rechteck um das zweite Unterelement in beiden Spalten gezeichnet.

```cpp
    // GetItemIndexRect
    // Get the rectangle that bounds the second item in the first group.
    LVITEMINDEX lvItemIndex;
    lvItemIndex.iGroup = 0;
    lvItemIndex.iItem = 1;
    CRect rect;
    BOOL bRet = m_listCtrl.GetItemIndexRect(
        &lvItemIndex, 0, LVIR_BOUNDS, &rect);

    // Draw a red rectangle around the item.
    m_listCtrl.GetDC()->Draw3dRect( &rect, RGB(255, 0, 0), RGB(255, 0, 0) );
```

## <a name="clistctrlgetitemposition"></a><a name="getitemposition"></a>CListCtrl::GetItemPosition

Ruft die Position eines Listenansichtselements ab.

```
BOOL GetItemPosition(
    int nItem,
    LPPOINT lpPoint) const;
```

### <a name="parameters"></a>Parameter

*nItem*<br/>
Der Index des Elements, dessen Position abgerufen werden soll.

*lpPoint*<br/>
Adresse einer [POINT](/previous-versions/dd162805\(v=vs.85\)) POINT-Struktur, die die Position der oberen linken Ecke des Elements in Ansichtskoordinaten empfängt.

### <a name="return-value"></a>Rückgabewert

Ungleich 0, wenn erfolgreich, andernfalls 0.

### <a name="example"></a>Beispiel

```cpp
        POINT pt;

        // Move all items in the list control 100 pixels to the right.
        UINT i, nCount = m_myListCtrl.GetItemCount();

        for (i=0; i < nCount; i++)
        {
            m_myListCtrl.GetItemPosition(i, &pt);
            pt.x += 100;
            m_myListCtrl.SetItemPosition(i, pt);
        }
```

## <a name="clistctrlgetitemrect"></a><a name="getitemrect"></a>CListCtrl::GetItemRect

Ruft das umlaufende Rechteck für ein Element in der aktuellen Ansicht oder einen Teil davon ab.

```
BOOL GetItemRect(
    int nItem,
    LPRECT lpRect,
    UINT nCode) const;
```

### <a name="parameters"></a>Parameter

*nItem*<br/>
Der Index des Elements, dessen Position abgerufen werden soll.

*lpRect*<br/>
Adresse einer [RECT-Struktur,](/previous-versions/dd162897\(v=vs.85\)) die das umgrenzende Rechteck empfängt.

*nCode*<br/>
Teil des Listenansichtselements, für das das umgrenzte Rechteck abgerufen werden soll. Dies kann einer der folgenden Werte sein:

- LVIR_BOUNDS Gibt das umschließende Rechteck des gesamten Elements zurück, einschließlich des Symbols und der Beschriftung.

- LVIR_ICON Gibt das umgrenzende Rechteck des Symbols oder kleinen Symbols zurück.

- LVIR_LABEL Gibt das umgrenzende Rechteck des Elementtexts zurück.

### <a name="return-value"></a>Rückgabewert

Ungleich 0, wenn erfolgreich, andernfalls 0.

### <a name="example"></a>Beispiel

```cpp
// OnClick is the handler for the NM_CLICK notification
void CListCtrlDlg::OnClick(NMHDR* pNMHDR, LRESULT* pResult)
{
    UNREFERENCED_PARAMETER(pResult);
    LPNMITEMACTIVATE pia = (LPNMITEMACTIVATE)pNMHDR;

    // Get the current mouse location and convert it to client
    // coordinates.
    CPoint pos( ::GetMessagePos() );
    ScreenToClient(&pos);

    // Get indexes of the first and last visible items in
    // the listview control.
    int index = m_myListCtrl.GetTopIndex();
    int last_visible_index = index + m_myListCtrl.GetCountPerPage();
    if (last_visible_index > m_myListCtrl.GetItemCount())
        last_visible_index = m_myListCtrl.GetItemCount();

    // Loop until number visible items has been reached.
    while (index <= last_visible_index)
    {
        // Get the bounding rectangle of an item. If the mouse
        // location is within the bounding rectangle of the item,
        // you know you have found the item that was being clicked.
        CRect r;
        m_myListCtrl.GetItemRect(index, &r, LVIR_BOUNDS);
        if (r.PtInRect(pia->ptAction))
        {
            UINT flag = LVIS_SELECTED | LVIS_FOCUSED;
            m_myListCtrl.SetItemState(index, flag, flag);
            break;
        }

        // Get the next item in listview control.
        index++;
    }
}
```

## <a name="clistctrlgetitemspacing"></a><a name="getitemspacing"></a>CListCtrl::GetItemSpacing

Berechnet den Abstand zwischen Elementen im aktuellen Listenansichtssteuerelement.

```
BOOL GetItemSpacing(
    BOOL fSmall,
    int* pnHorzSpacing,
    int* pnVertSpacing) const;
```

### <a name="parameters"></a>Parameter

|Parameter|BESCHREIBUNG|
|---------------|-----------------|
|*fKlein*|[in] Hier wird angezeigt, für die der Elementabstand abgerufen werden soll. Geben Sie TRUE für die kleine Symbolansicht oder FALSE für die Symbolansicht an.|
|*pnHorzAbstand*|[out] Enthält den horizontalen Abstand zwischen Elementen.|
|*pnVertSpacing*|[out] Enthält den vertikalen Abstand zwischen Elementen.|

### <a name="return-value"></a>Rückgabewert

TRUE, wenn diese Methode erfolgreich ist; andernfalls FALSE.

### <a name="remarks"></a>Bemerkungen

Diese Methode sendet die [LVM_GETITEMSPACING](/windows/win32/Controls/lvm-getitemspacing) Nachricht, die im Windows SDK beschrieben wird.

## <a name="clistctrlgetitemstate"></a><a name="getitemstate"></a>CListCtrl::GetItemState

Ruft den Status eines Listenansichtselements ab.

```
UINT GetItemState(
    int nItem,
    UINT nMask) const;
```

### <a name="parameters"></a>Parameter

*nItem*<br/>
Der Index des Elements, dessen Status abgerufen werden soll.

*nMaske*<br/>
Maske, die angibt, welche der Statusflags des Elements zurückgegeben werden sollen.

### <a name="return-value"></a>Rückgabewert

Die Statusflags für das angegebene Listenansichtselement.

### <a name="remarks"></a>Bemerkungen

Der Status eines Elements wird `state` vom Member der [LVITEM-Struktur](/windows/win32/api/commctrl/ns-commctrl-lvitemw) angegeben, wie im Windows SDK beschrieben. Wenn Sie den Status eines Elements `stateMask` angeben oder ändern, gibt das Element an, welche Statusbits Sie ändern möchten.

### <a name="example"></a>Beispiel

Siehe Beispiel für [CListCtrl::GetTopIndex](#gettopindex).

## <a name="clistctrlgetitemtext"></a><a name="getitemtext"></a>CListCtrl::GetItemText

Ruft den Text eines Listenansichtselements oder Unterelements ab.

```
int GetItemText(
    int nItem,
    int nSubItem,
    LPTSTR lpszText,
    int nLen) const;

CString GetItemText(
    int nItem,
    int nSubItem) const;
```

### <a name="parameters"></a>Parameter

*nItem*<br/>
Der Index des Elements, dessen Text abgerufen werden soll.

*nSubItem*<br/>
Gibt das Unterelement an, dessen Text abgerufen werden soll.

*lpszText*<br/>
Zeigen Sie auf eine Zeichenfolge, die den Elementtext empfangen soll.

*nLen*<br/>
Länge des Puffers, auf den von *lpszText*verwiesen wird.

### <a name="return-value"></a>Rückgabewert

Die Version, **die int** zurückgibt, gibt die Länge der abgerufenen Zeichenfolge zurück.

Die version, `CString` die einen zurückgibt, gibt den Elementtext zurück.

### <a name="remarks"></a>Bemerkungen

Wenn *nSubItem* Null ist, ruft diese Funktion die Artikelbezeichnung ab. Wenn *nSubItem* ungleich Null ist, ruft es den Text des Unterelements ab. Weitere Informationen zum Unterelementargument finden Sie in der Erläuterung der [LVITEM-Struktur](/windows/win32/api/commctrl/ns-commctrl-lvitemw) im Windows SDK.

## <a name="clistctrlgetnextitem"></a><a name="getnextitem"></a>CListCtrl::GetNextItem

Sucht nach einem Listenansichtselement, das die angegebenen Eigenschaften aufweist und die angegebene Beziehung zu einem bestimmten Element aufweist.

```
int GetNextItem(
    int nItem,
    int nFlags) const;
```

### <a name="parameters"></a>Parameter

*nItem*<br/>
Index des Elements, mit dem die Suche beginnen soll, oder -1, um das erste Element zu finden, das den angegebenen Flags entspricht. Das angegebene Element selbst wird von der Suche ausgeschlossen.

*nFlags*<br/>
Geometrische Beziehung des angeforderten Elements zum angegebenen Element und der Status des angeforderten Elements. Die geometrische Beziehung kann einer der folgenden Werte sein:

- LVNI_ABOVE Sucht nach einem Element, das über dem angegebenen Element liegt.

- LVNI_ALL Sucht nach einem nachfolgenden Element nach Index (Standardwert).

- LVNI_BELOW Sucht nach einem Element, das sich unterhalb des angegebenen Elements befindet.

- LVNI_TOLEFT Sucht nach einem Element links neben dem angegebenen Element.

- LVNI_TORIGHT Sucht nach einem Element rechts neben dem angegebenen Element.

Der Status kann Null sein, oder es kann einer oder mehrere dieser Werte sein:

- LVNI_DROPHILITED Für das Element ist die LVIS_DROPHILITED Statusflagge festgelegt.

- LVNI_FOCUSED Für das Element ist die LVIS_FOCUSED Statusflagge festgelegt.

- LVNI_SELECTED Für das Element ist die LVIS_SELECTED Statusflagge festgelegt.

Wenn für ein Element nicht alle angegebenen Statusflags festgelegt sind, wird die Suche mit dem nächsten Element fortgesetzt.

### <a name="return-value"></a>Rückgabewert

Der Index des nächsten Elements, wenn erfolgreich, oder -1 auf andere Weise.

## <a name="clistctrlgetnextitemindex"></a><a name="getnextitemindex"></a>CListCtrl::GetNextItemIndex

Ruft den Index des Elements im aktuellen Listenansichtssteuerelement ab, das über einen angegebenen Satz von Eigenschaften verfügt.

```
BOOL GetNextItemIndex(
    PLVITEMINDEX pItemIndex,
    int nFlags) const;
```

### <a name="parameters"></a>Parameter

|Parameter|BESCHREIBUNG|
|---------------|-----------------|
|*pItemIndex*|[in, out] Zeigen Sie auf die [LVITEMINDEX-Struktur,](/windows/win32/api/commctrl/ns-commctrl-lvitemindex) die das Element beschreibt, an dem die Suche beginnt, oder -1, um das erste Element zu finden, das den Flags im *nFlags-Parameter* entspricht.<br /><br /> Wenn diese Methode erfolgreich `LVITEMINDEX` ist, beschreibt die Struktur das Element, das bei der Suche gefunden wurde.|
|*nFlags*|[in] Eine bitweise Kombination (OR) von Flags, die angeben, wie die Suche ausgeführt werden soll.<br /><br /> Die Suche kann vom Index, dem Status oder der Darstellung des Zielelements oder der physischen Position des Zielelements relativ zu dem durch den *Parameter pItemIndex* angegebenen Element abhängen. Weitere Informationen finden Sie im *Parameter flags* in der [LVM_GETNEXTITEMINDEX-Meldung.](/windows/win32/controls/lvm-getnextitemindex)|

### <a name="return-value"></a>Rückgabewert

TRUE, wenn diese Methode erfolgreich ist; andernfalls FALSE.

### <a name="remarks"></a>Bemerkungen

Der Aufrufer ist für das Zuweisen und `LVITEMINDEX` Festlegen der Elemente der Struktur verantwortlich, auf die der *Parameter pItemIndex* zeigt.

Diese Methode sendet die [LVM_GETNEXTITEMINDEX](/windows/win32/controls/lvm-getnextitemindex) Nachricht, die im Windows SDK beschrieben wird.

## <a name="clistctrlgetnextselecteditem"></a><a name="getnextselecteditem"></a>CListCtrl::GetNextSelectedItem

Ruft den Index des Listenelements ab, das durch *pos*identifiziert wird, und legt dann *pos* auf den POSITION-Wert fest.

```
int GetNextSelectedItem(POSITION& pos) const;
```

### <a name="parameters"></a>Parameter

*Pos*<br/>
Ein Verweis auf einen POSITION-Wert, `GetNextSelectedItem` `GetFirstSelectedItemPosition`der von einem vorherigen Aufruf von oder zurückgegeben wird. Der Wert wird durch diesen Aufruf auf die nächste Position aktualisiert.

### <a name="return-value"></a>Rückgabewert

Der Index des Listenelements, das durch *pos*identifiziert wird.

### <a name="remarks"></a>Bemerkungen

Sie können `GetNextSelectedItem` in einer Vorwärtsiterationsschleife verwendet werden, `GetFirstSelectedItemPosition`wenn Sie die Ausgangsposition mit einem Aufruf von festlegen.

Sie müssen sicherstellen, dass Ihr POSITION-Wert gültig ist. Wenn sie ungültig ist, wird die Debugversion der Microsoft Foundation-Klassenbibliothek bestätigt.

### <a name="example"></a>Beispiel

Das folgende Codebeispiel veranschaulicht die Verwendung dieser Funktion.

```cpp
        POSITION pos = m_myListCtrl.GetFirstSelectedItemPosition();
        if (pos == NULL)
        {
            TRACE(_T("No items were selected!\n"));
        }
        else
        {
            while (pos)
            {
                int nItem = m_myListCtrl.GetNextSelectedItem(pos);
                TRACE(_T("Item %d was selected!\n"), nItem);
                // you could do your own processing on nItem here
            }
        }
```

## <a name="clistctrlgetnumberofworkareas"></a><a name="getnumberofworkareas"></a>CListCtrl::GetNumberOfWorkAreas

Ruft die aktuelle Anzahl von Arbeitsbereichen für ein Listenansichtssteuerelement ab.

```
UINT GetNumberOfWorkAreas() const;
```

### <a name="return-value"></a>Rückgabewert

Zu diesem Zeitpunkt nicht verwendet.

### <a name="remarks"></a>Bemerkungen

Diese Memberfunktion implementiert das Verhalten des Win32-Makros [ListView_GetNumberOfWorkAreas](/windows/win32/api/commctrl/nf-commctrl-listview_getnumberofworkareas), wie im Windows SDK beschrieben.

### <a name="example"></a>Beispiel

```cpp
        UINT i, uCount = m_myListCtrl.GetNumberOfWorkAreas();
        LPRECT lpRects = (LPRECT) malloc(uCount*sizeof(RECT));

        if (lpRects != NULL)
        {
            // Dump all of the work area dimensions.
            m_myListCtrl.GetWorkAreas(uCount, lpRects);

            for (i=0; i < uCount; i++)
            {
                TRACE(_T("Work area %d; left = %d, top = %d, right = %d, ")
                    _T("bottom = %d\r\n"),
                    i, lpRects[i].left, lpRects[i].top, lpRects[i].right,
                    lpRects[i].bottom);
            }

            free(lpRects);
        }
        else
        {
            TRACE(_T("Couldn't allocate enough memory!"));
        }
```

## <a name="clistctrlgetoutlinecolor"></a><a name="getoutlinecolor"></a>CListCtrl::GetOutlineColor

Ruft die Farbe des Rahmens eines Listenansichtssteuerelements ab.

```
COLORREF GetOutlineColor() const;
```

### <a name="return-value"></a>Rückgabewert

Gibt eine [COLORREF-Struktur zurück,](/windows/win32/gdi/colorref) die die Umrissfarbe enthält.

### <a name="remarks"></a>Bemerkungen

Diese Memberfunktion emuliert die Funktionalität der [LVM_GETOUTLINECOLOR](/windows/win32/Controls/lvm-getoutlinecolor) Nachricht, wie im Windows SDK beschrieben.

## <a name="clistctrlgetorigin"></a><a name="getorigin"></a>CListCtrl::GetOrigin

Ruft den aktuellen Ansichtsursprung für ein Listenansichtssteuerelement ab.

```
BOOL GetOrigin(LPPOINT lpPoint) const;
```

### <a name="parameters"></a>Parameter

*lpPoint*<br/>
Adresse einer [POINT](/previous-versions/dd162805\(v=vs.85\)) POINT-Struktur, die den Ansichtsursprung empfängt.

### <a name="return-value"></a>Rückgabewert

Ungleich 0, wenn erfolgreich, andernfalls 0. Wenn sich das Steuerelement jedoch in der Berichtsansicht befindet, ist der Rückgabewert immer Null.

## <a name="clistctrlgetselectedcolumn"></a><a name="getselectedcolumn"></a>CListCtrl::GetSelectedColumn

Ruft den Index der aktuell ausgewählten Spalte im Listensteuerelement ab.

```
UINT GetSelectedColumn() const;
```

### <a name="return-value"></a>Rückgabewert

Der Index der ausgewählten Spalte.

### <a name="remarks"></a>Bemerkungen

Diese Memberfunktion emuliert die Funktionalität der [LVM_GETSELECTEDCOLUMN](/windows/win32/Controls/lvm-getselectedcolumn) Nachricht, wie im Windows SDK beschrieben.

## <a name="clistctrlgetselectedcount"></a><a name="getselectedcount"></a>CListCtrl::GetSelectedCount

Ruft die Anzahl der ausgewählten Elemente im Listenansichtssteuerelement ab.

```
UINT GetSelectedCount() const;
```

### <a name="return-value"></a>Rückgabewert

Die Anzahl der ausgewählten Elemente im Listenansichtssteuerelement.

### <a name="example"></a>Beispiel

```cpp
        UINT i, uSelectedCount = m_myListCtrl.GetSelectedCount();
        int  nItem = -1;

        // Update all of the selected items.
        if (uSelectedCount > 0)
        {
            for (i=0; i < uSelectedCount; i++)
            {
                nItem = m_myListCtrl.GetNextItem(nItem, LVNI_SELECTED);
                ASSERT(nItem != -1);
                m_myListCtrl.Update(nItem);
            }
        }
```

## <a name="clistctrlgetselectionmark"></a><a name="getselectionmark"></a>CListCtrl::GetSelectionMark

Ruft das Auswahlzeichen eines Listenansichtssteuerelements ab.

```
int GetSelectionMark();
```

### <a name="return-value"></a>Rückgabewert

Die Null-basierte Auswahlmarke oder -1, wenn keine Auswahlmarkierung vorhanden ist.

### <a name="remarks"></a>Bemerkungen

Diese Memberfunktion implementiert das Verhalten des Win32-Makros [ListView_GetSelectionMark](/windows/win32/api/commctrl/nf-commctrl-listview_getselectionmark), wie im Windows SDK beschrieben.

### <a name="example"></a>Beispiel

```cpp
    // Set the selection mark to the first item only if no other item is
    // selected.
    if (m_myListCtrl.GetSelectionMark() == -1)
        m_myListCtrl.SetSelectionMark(0);
```

## <a name="clistctrlgetstringwidth"></a><a name="getstringwidth"></a>CListCtrl::GetStringWidth

Bestimmt die minimale Spaltenbreite, die erforderlich ist, um die gesamte Zeichenfolge anzuzeigen.

```
int GetStringWidth(LPCTSTR lpsz) const;
```

### <a name="parameters"></a>Parameter

*lpsz*<br/>
Adresse einer null-terminierten Zeichenfolge, deren Breite bestimmt werden soll.

### <a name="return-value"></a>Rückgabewert

Die Breite der Zeichenfolge in Pixel, auf die *lpsz*zeigt.

### <a name="remarks"></a>Bemerkungen

Die zurückgegebene Breite berücksichtigt die aktuellen Schrift- und Spaltenränder des Steuerelements, jedoch nicht die Breite eines kleinen Symbols.

### <a name="example"></a>Beispiel

```cpp
        CString strColumn;
        int nWidth;

        // Insert six columns in the list view control. Make the width of
        // the column be the width of the column header plus 50%.
        for (int i = 0; i < 6; i++)
        {
            strColumn.Format(_T("column %d"), i);
            nWidth = 3*m_myListCtrl.GetStringWidth(strColumn)/2;
            m_myListCtrl.InsertColumn(i, strColumn, LVCFMT_LEFT, nWidth);
        }
```

## <a name="clistctrlgetsubitemrect"></a><a name="getsubitemrect"></a>CListCtrl::GetSubItemRect

Ruft das umgrenzende Rechteck eines Elements in einem Listenansichtssteuerelement ab.

```
BOOL GetSubItemRect(
    int iItem,
    int iSubItem,
    int nArea,
    CRect& ref);
```

### <a name="parameters"></a>Parameter

*iItem*<br/>
Index des übergeordneten Elements des Unterelements.

*iSubItem*<br/>
Der einbasierte Index des Unterelements.

*nArea*<br/>
Bestimmt den Teil des umgrenzenden Rechtecks (des Unterelements Listenansicht), der abgerufen werden soll. Der Teil (Symbol, Beschriftung oder beides) des umgebenden Rechtecks wird angegeben, indem der bitweise ODER-Operator auf einen oder mehrere der folgenden Werte angewendet wird:

- LVIR_BOUNDS Gibt das umschließende Rechteck des gesamten Elements zurück, einschließlich des Symbols und der Beschriftung.

- LVIR_ICON Gibt das umgrenzende Rechteck des Symbols oder kleinen Symbols zurück.

- LVIR_LABEL Gibt das umschließende Rechteck des gesamten Elements zurück, einschließlich des Symbols und der Beschriftung. Das ist identisch mit LVIR_BOUNDS.

*ref*<br/>
Verweis auf ein [CRect-Objekt,](../../atl-mfc-shared/reference/crect-class.md) das die Koordinaten des umgrenzenden Rechtecks des Unterelements enthält.

### <a name="return-value"></a>Rückgabewert

Ungleich 0, wenn erfolgreich, andernfalls 0.

### <a name="remarks"></a>Bemerkungen

Diese Memberfunktion implementiert das Verhalten des Win32-Makros [ListView_GetSubItemRect](/windows/win32/api/commctrl/nf-commctrl-listview_getsubitemrect), wie im Windows SDK beschrieben.

## <a name="clistctrlgettextbkcolor"></a><a name="gettextbkcolor"></a>CListCtrl::GetTextBkColor

Ruft die Texthintergrundfarbe eines Listenansichtssteuerelements ab.

```
COLORREF GetTextBkColor() const;
```

### <a name="return-value"></a>Rückgabewert

Ein 32-Bit-Wert, der zum Angeben einer RGB-Farbe verwendet wird.

### <a name="example"></a>Beispiel

Siehe Beispiel für [CListCtrl::SetTextBkColor](#settextbkcolor).

## <a name="clistctrlgettextcolor"></a><a name="gettextcolor"></a>CListCtrl::GetTextColor

Ruft die Textfarbe eines Listenansichtssteuerelements ab.

```
COLORREF GetTextColor() const;
```

### <a name="return-value"></a>Rückgabewert

Ein 32-Bit-Wert, der zum Angeben einer RGB-Farbe verwendet wird.

### <a name="example"></a>Beispiel

Siehe Beispiel für [CListCtrl::SetTextColor](#settextcolor).

## <a name="clistctrlgettileinfo"></a><a name="gettileinfo"></a>CListCtrl::GetTileInfo

Ruft Informationen zu einer Kachel in einem Listenansichtssteuerelement ab.

```
BOOL GetTileInfo(PLVTILEINFO plvti) const;
```

### <a name="parameters"></a>Parameter

*plvti*<br/>
Ein Zeiger auf eine [LVTILEINFO-Struktur,](/windows/win32/api/commctrl/ns-commctrl-lvtileinfo) die die Kachelinformationen empfängt.

### <a name="return-value"></a>Rückgabewert

Der Rückgabewert wird nicht verwendet.

### <a name="remarks"></a>Bemerkungen

Diese Memberfunktion emuliert die Funktionalität der [LVM_GETTILEINFO](/windows/win32/Controls/lvm-gettileinfo) Nachricht, wie im Windows SDK beschrieben.

## <a name="clistctrlgettileviewinfo"></a><a name="gettileviewinfo"></a>CListCtrl::GetTileViewInfo

Ruft Informationen zu einem Listenansichtssteuerelement in der Kachelansicht ab.

```
BOOL GetTileViewInfo(PLVTILEVIEWINFO ptvi) const;
```

### <a name="parameters"></a>Parameter

*ptvi*<br/>
Ein Zeiger auf eine [LVTILEVIEWINFO-Struktur,](/windows/win32/api/commctrl/ns-commctrl-lvtileviewinfo) die die abgerufenen Informationen empfängt.

### <a name="return-value"></a>Rückgabewert

Der Rückgabewert wird nicht verwendet.

### <a name="remarks"></a>Bemerkungen

Diese Memberfunktion emuliert die Funktionalität der [LVM_GETTILEVIEWINFO](/windows/win32/Controls/lvm-gettileviewinfo) Nachricht, wie im Windows SDK beschrieben.

## <a name="clistctrlgettooltips"></a><a name="gettooltips"></a>CListCtrl::GetToolTipps

Ruft das QuickInfo-Steuerelement ab, das das Listenansichtssteuerelement zum Anzeigen von QuickInfos verwendet.

```
CToolTipCtrl* GetToolTips() const;
```

### <a name="return-value"></a>Rückgabewert

Ein Zeiger auf ein [CToolTipCtrl-Objekt,](ctooltipctrl-class.md) das vom Listensteuerelement verwendet werden soll. Wenn die Memberfunktion [Erstellen](#create) den Stil LVS_NOTOOLTIPS verwendet, werden keine QuickInfos verwendet, und NULL wird zurückgegeben.

### <a name="remarks"></a>Bemerkungen

Diese Memberfunktion implementiert das Verhalten der Win32-Meldung [LVM_GETTOOLTIPS](/windows/win32/Controls/lvm-gettooltips), wie im Windows SDK beschrieben. Die MFC-Implementierung `GetToolTips` `CToolTipCtrl` von gibt ein Objekt zurück, das vom Listensteuerelement anstelle eines Handles für ein QuickInfo-Steuerelement verwendet wird.

### <a name="example"></a>Beispiel

```cpp
        CToolTipCtrl* pTip = m_myListCtrl.GetToolTips();
        if (NULL != pTip)
        {
            pTip->UpdateTipText(_T("I'm a list view!"), &m_myListCtrl,
                IDD_MYLISTCTRL);
        }
```

## <a name="clistctrlgettopindex"></a><a name="gettopindex"></a>CListCtrl::GetTopIndex

Ruft den Index des am weitesten oben sichtbaren Elements ab, wenn es sich um eine Listen- oder Berichtsansicht handelt.

```
int GetTopIndex() const;
```

### <a name="return-value"></a>Rückgabewert

Der Index des obersten sichtbaren Elements.

### <a name="example"></a>Beispiel

```cpp
        // Make sure the focus is set to the list view control.
        m_myListCtrl.SetFocus();

        // Select all of the items that are completely visible.
        int n = m_myListCtrl.GetTopIndex();
        int nLast = n + m_myListCtrl.GetCountPerPage();

        for (; n < nLast; n++)
        {
            m_myListCtrl.SetItemState(n, LVIS_SELECTED, LVIS_SELECTED);
            ASSERT(m_myListCtrl.GetItemState(n, LVIS_SELECTED) == LVIS_SELECTED);
        }
```

## <a name="clistctrlgetview"></a><a name="getview"></a>CListCtrl::GetView

Ruft die Ansicht des Listenansichtssteuerelements ab.

```
DWORD GetView() const;
```

### <a name="return-value"></a>Rückgabewert

Die aktuelle Ansicht des Listenansichtssteuerelements.

### <a name="remarks"></a>Bemerkungen

Diese Memberfunktion emuliert die Funktionalität der [LVM_GETVIEW](/windows/win32/Controls/lvm-getview) Nachricht, wie im Windows SDK beschrieben.

## <a name="clistctrlgetviewrect"></a><a name="getviewrect"></a>CListCtrl::GetViewRect

Ruft das umgrenzende Rechteck aller Elemente im Listenansichtssteuerelement ab.

```
BOOL GetViewRect(LPRECT lpRect) const;
```

### <a name="parameters"></a>Parameter

*lpRect*<br/>
Adresse einer [RECT-Struktur.](/previous-versions/dd162897\(v=vs.85\))

### <a name="return-value"></a>Rückgabewert

Ungleich 0, wenn erfolgreich, andernfalls 0.

### <a name="remarks"></a>Bemerkungen

Die Listenansicht muss sich in der Symbolansicht oder in der kleinen Symbolansicht befinden.

## <a name="clistctrlgetworkareas"></a><a name="getworkareas"></a>CListCtrl::GetWorkAreas

Ruft die aktuellen Arbeitsbereiche eines Listenansichtssteuerelements ab.

```
void GetWorkAreas(
    int nWorkAreas,
    LPRECT pRect) const;
```

### <a name="parameters"></a>Parameter

*nArbeitsbereiche*<br/>
Die Anzahl `RECT` der im *pRect-Array* enthaltenen Strukturen.

*pRect*<br/>
Ein Zeiger auf ein `RECT` Array von Strukturen (oder [CRect-Objekten),](../../atl-mfc-shared/reference/crect-class.md) die die Arbeitsbereiche des Listenansichtssteuerelements empfangen. Werte in diesen Strukturen befinden sich in Client-Koordinaten.

### <a name="remarks"></a>Bemerkungen

Diese Memberfunktion implementiert das Verhalten des Win32-Makros [ListView_GetWorkAreas](/windows/win32/api/commctrl/nf-commctrl-listview_getworkareas), wie im Windows SDK beschrieben.

### <a name="example"></a>Beispiel

Siehe Beispiel für [CListCtrl::GetNumberOfWorkAreas](#getnumberofworkareas).

## <a name="clistctrlhasgroup"></a><a name="hasgroup"></a>CListCtrl::HasGroup

Bestimmt, ob das Listenansichtssteuerelement über die angegebene Gruppe verfügt.

```
BOOL HasGroup(int iGroupId) const;
```

### <a name="parameters"></a>Parameter

*iGroupId*<br/>
Der Bezeichner der angeforderten Gruppe.

### <a name="return-value"></a>Rückgabewert

Gibt TRUE bei Erfolg zurück, FALSE bei Fehler.

### <a name="remarks"></a>Bemerkungen

Diese Memberfunktion emuliert die Funktionalität der [LVM_HASGROUP](/windows/win32/Controls/lvm-hasgroup) Nachricht, wie im Windows SDK beschrieben.

## <a name="clistctrlhittest"></a><a name="hittest"></a>CListCtrl::HitTest

Bestimmt, welches Listenansichtselement sich ggf. an einer angegebenen Position befindet.

```
int HitTest(LVHITTESTINFO* pHitTestInfo) const;

int HitTest(
    CPoint pt,
    UINT* pFlags = NULL) const;
```

### <a name="parameters"></a>Parameter

*pHitTestInfo*<br/>
Adresse einer `LVHITTESTINFO` Struktur, die die Position enthält, um zu testen, und die Informationen über die Ergebnisse des Treffertests erhält.

*Pt*<br/>
Der zu überprüfende Punkt.

*pFlags*<br/>
Zeiger auf eine ganze Zahl, die Informationen zu den Ergebnissen des Tests erhält. Siehe die Erläuterung `flags` des Mitglieds der [LVHITTESTINFO-Struktur](/windows/win32/api/commctrl/ns-commctrl-lvhittestinfo) im Windows SDK.

### <a name="return-value"></a>Rückgabewert

Der Index des Elements an der position, die von *pHitTestInfo*angegeben wird, falls vorhanden, oder -1 auf andere Weise.

### <a name="remarks"></a>Bemerkungen

Sie können die LVHT_ABOVE-, LVHT_BELOW-, LVHT_TOLEFT- und `flag` LVHT_TORIGHT Werte des Strukturelements verwenden, um zu bestimmen, ob der Inhalt eines Listenansichtssteuerelements gescrollt werden soll. Zwei dieser Flags können kombiniert werden, z. B. wenn sich die Position über und links vom Clientbereich befindet.

Sie können den LVHT_ONITEM Wert des `flag` Strukturelements testen, um zu bestimmen, ob sich eine bestimmte Position über einem Listenansichtselement befindet. Dieser Wert ist ein bitweiser Vorgang für die LVHT_ONITEMICON, LVHT_ONITEMLABEL `flag` und LVHT_ONITEMSTATEICON Werte des Strukturelements.

### <a name="example"></a>Beispiel

```cpp
void CListCtrlDlg::OnRClick(NMHDR* pNMHDR, LRESULT* pResult)
{
    LPNMITEMACTIVATE pia = (LPNMITEMACTIVATE)pNMHDR;
    CPoint point(pia->ptAction);

    // Select the item the user clicked on.
    UINT uFlags;
    int nItem = m_myListCtrl.HitTest(point, &uFlags);

    if (uFlags & LVHT_ONITEMLABEL)
    {
        m_myListCtrl.SetItem(nItem, 0, LVIF_STATE, NULL, 0, LVIS_SELECTED,
            LVIS_SELECTED, 0);
    }

    *pResult = 0;
}
```

## <a name="clistctrlinsertcolumn"></a><a name="insertcolumn"></a>CListCtrl::InsertColumn

Fügt eine neue Spalte in ein Listenansichtssteuerelement ein.

```
int InsertColumn(
    int nCol,
    const LVCOLUMN* pColumn);

int InsertColumn(
    int nCol,
    LPCTSTR lpszColumnHeading,
    int nFormat = LVCFMT_LEFT,
    int nWidth = -1,
    int nSubItem = -1);
```

### <a name="parameters"></a>Parameter

*nCol*<br/>
Der Index der neuen Spalte.

*pColumn*<br/>
Adresse einer `LVCOLUMN` Struktur, die die Attribute der neuen Spalte enthält.

*lpszColumnHeading*<br/>
Adresse einer Zeichenfolge, die die Überschrift der Spalte enthält.

*nFormat*<br/>
Ganzzahl, die die Ausrichtung der Spalte angibt. Es kann einer dieser Werte sein: LVCFMT_LEFT, LVCFMT_RIGHT oder LVCFMT_CENTER.

*nWidth*<br/>
Breite der Spalte in Pixel. Wenn dieser Parameter -1 ist, wird die Spaltenbreite nicht festgelegt.

*nSubItem*<br/>
Index des Unterelements, das der Spalte zugeordnet ist. Wenn dieser Parameter -1 ist, ist der Spalte kein Unterelement zugeordnet.

### <a name="return-value"></a>Rückgabewert

Der Index der neuen Spalte, falls erfolgreich oder -1 auf andere Weise.

### <a name="remarks"></a>Bemerkungen

Die linke Spalte in einem Listenansichtssteuerelement muss linksbündig ausgerichtet sein.

Die [LVCOLUMN-Struktur](/windows/win32/api/commctrl/ns-commctrl-lvcolumnw) enthält die Attribute einer Spalte in der Berichtsansicht. Es wird auch verwendet, um Informationen über eine Spalte zu erhalten. Diese Struktur wird im Windows SDK beschrieben.

## <a name="clistctrlinsertgroup"></a><a name="insertgroup"></a>CListCtrl::InsertGroup

Fügt eine Gruppe in das Listenansichtssteuerelement ein.

```
LRESULT InsertGroup(
    int index,
    PLVGROUP pgrp);
```

### <a name="parameters"></a>Parameter

*Index*<br/>
Der Index des Elements, in das die Gruppe eingefügt werden soll.

*pgrp*<br/>
Ein Zeiger auf eine [LVGROUP-Struktur,](/windows/win32/api/commctrl/ns-commctrl-lvgroup) die die hinzuzufügende Gruppe enthält.

### <a name="return-value"></a>Rückgabewert

Gibt den Index des Elements zurück, dem die Gruppe hinzugefügt wurde, oder -1, wenn der Vorgang fehlgeschlagen ist.

### <a name="remarks"></a>Bemerkungen

Diese Memberfunktion emuliert die Funktionalität der [LVM_INSERTGROUP](/windows/win32/Controls/lvm-insertgroup) Nachricht, wie im Windows SDK beschrieben.

## <a name="clistctrlinsertgroupsorted"></a><a name="insertgroupsorted"></a>CListCtrl::InsertGroupSortiert

Fügt die angegebene Gruppe in eine geordnete Liste von Gruppen ein.

```
LRESULT InsertGroupSorted(PLVINSERTGROUPSORTED pStructInsert);
```

### <a name="parameters"></a>Parameter

*pStructInsert*<br/>
Ein Zeiger auf eine [LVINSERTGROUPSORTED-Struktur,](/windows/win32/api/commctrl/ns-commctrl-lvinsertgroupsorted) die die einzufügende Gruppe enthält.

### <a name="return-value"></a>Rückgabewert

Der Rückgabewert wird nicht verwendet.

### <a name="remarks"></a>Bemerkungen

Diese Memberfunktion emuliert die Funktionalität der [LVM_INSERTGROUPSORTED](/windows/win32/Controls/lvm-insertgroupsorted) Nachricht, wie im Windows SDK beschrieben.

## <a name="clistctrlinsertitem"></a><a name="insertitem"></a>CListCtrl::InsertItem

Fügt ein Element in das Listenansichtssteuerelement ein.

```
int InsertItem(const LVITEM* pItem);

int InsertItem(
    int nItem,
    LPCTSTR lpszItem);

int InsertItem(
    int nItem,
    LPCTSTR lpszItem,
    int nImage);

int InsertItem(
    UINT nMask,
    int nItem,
    LPCTSTR lpszItem,
    UINT nState,
    UINT nStateMask,
    int nImage,
    LPARAM lParam);
```

### <a name="parameters"></a>Parameter

*pItem*<br/>
Zeiger auf eine [LVITEM-Struktur,](/windows/win32/api/commctrl/ns-commctrl-lvitemw) die die Attribute des Elements angibt, wie im Windows SDK beschrieben.

*nItem*<br/>
Index des einzufügenden Elements.

*lpszItem*<br/>
Adresse einer Zeichenfolge, die die Bezeichnung des Elements enthält, oder LPSTR_TEXTCALLBACK, wenn es sich bei dem Element um ein Rückrufelement handelt. Informationen zu Rückrufelementen finden Sie unter [CListCtrl::GetCallbackMask](#getcallbackmask).

*nImage*<br/>
Index des Elements, oder I_IMAGECALLBACK, wenn es sich bei dem Element um ein Rückrufelement handelt. Informationen zu Rückrufelementen finden Sie unter [CListCtrl::GetCallbackMask](#getcallbackmask).

*nMaske*<br/>
Der Parameter *nMask* gibt an, welche Elementattribute, die als Parameter übergeben werden, gültig sind. Dabei kann es sich um einen oder mehrere der Maskenwerte handeln, die in [der LVITEM-Struktur](/windows/win32/api/commctrl/ns-commctrl-lvitemw) im Windows SDK beschrieben werden. Die gültigen Werte können mit dem bitweisen ODER-Operator kombiniert werden.

*nState*<br/>
Gibt das Status-, Zustandsbild und das Überlagerungsbild des Elements an. Weitere Informationen finden Sie in den Windows SDK-Themen [LVITEM Structure](/windows/win32/api/commctrl/ns-commctrl-lvitemw) und [List-View Item States](/windows/win32/Controls/list-view-item-states) für eine Liste gültiger Flags.

*nStateMask*<br/>
Gibt an, welche Bits des Statusmitglieds abgerufen oder geändert werden sollen. Weitere Informationen finden Sie unter [LVITEM-Struktur](/windows/win32/api/commctrl/ns-commctrl-lvitemw) im Windows SDK.

*lParam*<br/>
Ein anwendungsspezifischer 32-Bit-Wert, der dem Element zugeordnet ist. Wenn dieser Parameter angegeben ist, müssen Sie das *nMask-Attribut* LVIF_PARAM festlegen.

### <a name="return-value"></a>Rückgabewert

Der Index des neuen Elements, wenn erfolgreich oder -1 auf andere Weise.

### <a name="remarks"></a>Bemerkungen

Wenn Sie diese Methode aufrufen, kann die LVM_INSERTITEM Nachricht an das Steuerelementfenster gesendet werden. Der zugeordnete Nachrichtenhandler für das Steuerelement kann den Elementtext unter bestimmten Bedingungen (z. B. mit Fensterformatvorlagen wie LVS_OWNERDRAW) möglicherweise nicht festlegen. Weitere Informationen zu diesen Bedingungen finden Sie unter [LVM_INSERTITEM](/windows/win32/Controls/lvm-insertitem) im Windows SDK.

### <a name="example"></a>Beispiel

```cpp
        CString strText;
        int nColumnCount = m_myListCtrl.GetHeaderCtrl()->GetItemCount();

        // Insert 10 items in the list view control.
        for (int i = 0; i < 10; i++)
        {
            strText.Format(TEXT("item %d"), i);

            // Insert the item, select every other item.
            m_myListCtrl.InsertItem(LVIF_TEXT | LVIF_STATE, i, strText,
                (i % 2) == 0 ? LVIS_SELECTED : 0, LVIS_SELECTED, 0, 0);

            // Initialize the text of the subitems.
            for (int j = 1; j < nColumnCount; j++)
            {
                strText.Format(TEXT("sub-item %d %d"), i, j);
                m_myListCtrl.SetItemText(i, j, strText);
            }
        }
```

## <a name="clistctrlinsertmarkhittest"></a><a name="insertmarkhittest"></a>CListCtrl::InsertMarkHitTest

Ruft die Einfügemarke ab, die einem angegebenen Punkt am nächsten liegt.

```
int InsertMarkHitTest(
    LPPOINT pPoint,
    LPLVINSERTMARK plvim) const;
```

### <a name="parameters"></a>Parameter

*pPoint*<br/>
Ein Zeiger auf [POINT](/previous-versions/dd162805\(v=vs.85\)) eine POINT-Struktur, die die Treffertestkoordinaten relativ zum Clientbereich des Listensteuerelements enthält.

*plvim*<br/>
Ein Zeiger auf eine [LVINSERTMARK-Struktur,](/windows/win32/api/commctrl/ns-commctrl-lvinsertmark) die die Einfügemarke angibt, die den durch den Punktparameter definierten Koordinaten am nächsten kommt.

### <a name="return-value"></a>Rückgabewert

Die Einfügemarke, die dem angegebenen Punkt am nächsten liegt.

### <a name="remarks"></a>Bemerkungen

Diese Memberfunktion emuliert die Funktionalität der [LVM_INSERTMARKHITTEST](/windows/win32/Controls/lvm-insertmarkhittest) Nachricht, wie im Windows SDK beschrieben.

## <a name="clistctrlisgroupviewenabled"></a><a name="isgroupviewenabled"></a>CListCtrl::IsGroupViewEnabled

Bestimmt, ob die Gruppenansicht für ein Listenansichtssteuerelement aktiviert ist.

```
BOOL IsGroupViewEnabled() const;
```

### <a name="return-value"></a>Rückgabewert

Gibt TRUE zurück, wenn die Gruppenansicht aktiviert ist, oder FALSE andernfalls.

### <a name="remarks"></a>Bemerkungen

Diese Memberfunktion emuliert die Funktionalität der [LVM_ISGROUPVIEWENABLED](/windows/win32/Controls/lvm-isgroupviewenabled) Nachricht, wie im Windows SDK beschrieben.

## <a name="clistctrlisitemvisible"></a><a name="isitemvisible"></a>CListCtrl::IsItemVisible

Gibt an, ob ein angegebenes Element im aktuellen Listenansichtssteuerelement sichtbar ist.

```
BOOL IsItemVisible(int index) const;
```

### <a name="parameters"></a>Parameter

|Parameter|BESCHREIBUNG|
|---------------|-----------------|
|*index*|[in] Nullbasierter Index eines Elements im aktuellen Listenansichtssteuerelement.|

### <a name="return-value"></a>Rückgabewert

TRUE, wenn das angegebene Element sichtbar ist; andernfalls FALSE.

### <a name="remarks"></a>Bemerkungen

Diese Methode sendet die [LVM_ISITEMVISIBLE](/windows/win32/Controls/lvm-isitemvisible) Nachricht, die im Windows SDK beschrieben wird.

## <a name="clistctrlmapidtoindex"></a><a name="mapidtoindex"></a>CListCtrl::MapIDToIndex

Ordnet die eindeutige ID eines Elements im aktuellen Listenansichtssteuerelement einem Index zu.

```
UINT MapIDToIndex(UINT id) const;
```

### <a name="parameters"></a>Parameter

|Parameter|BESCHREIBUNG|
|---------------|-----------------|
|*id*|[in] Die eindeutige ID eines Elements.|

### <a name="return-value"></a>Rückgabewert

Der aktuelle Index für die angegebene ID.

### <a name="remarks"></a>Bemerkungen

Ein Listenansichtssteuerelement verfolgt Elemente intern nach Index. Dies kann Probleme verursachen, da sich Indizes während der Lebensdauer des Steuerelements ändern können. Das Listenansichtssteuerelement kann ein Element mit einer ID kennzeichnet, wenn das Element erstellt wird, und Sie können diese ID verwenden, um die Eindeutigkeit während der Lebensdauer des Listenansichtssteuerelements zu gewährleisten.

Beachten Sie, dass der Index in einer Multithreadumgebung nur für den Thread, der das Listenansichtssteuerelement hostet, und nicht für Hintergrundthreads garantiert ist.

Diese Methode sendet die [LVM_MAPIDTOINDEX](/windows/win32/controls/lvm-mapidtoindex) Nachricht, die im Windows SDK beschrieben wird.

## <a name="clistctrlmapindextoid"></a><a name="mapindextoid"></a>CListCtrl::MapIndexToID

Ordnet den Index eines Elements im aktuellen Listenansichtssteuerelement einer eindeutigen ID zu.

```
UINT MapIndexToID(UINT index) const;
```

### <a name="parameters"></a>Parameter

|Parameter|BESCHREIBUNG|
|---------------|-----------------|
|*index*|[in] Der nullbasierte Index eines Elements.|

### <a name="return-value"></a>Rückgabewert

Eine eindeutige ID für das angegebene Element.

### <a name="remarks"></a>Bemerkungen

Ein Listenansichtssteuerelement verfolgt Elemente intern nach Index. Dies kann Probleme verursachen, da sich Indizes während der Lebensdauer des Steuerelements ändern können. Das Listenansichtssteuerelement kann ein Element mit einer ID kennzeichnet, wenn das Element erstellt wird. Sie können diese ID verwenden, um während der Lebensdauer des Listenansichtssteuerelements auf ein bestimmtes Element zuzugreifen.

Beachten Sie, dass der Index in einer Multithreadumgebung nur für den Thread, der das Listenansichtssteuerelement hostet, und nicht für Hintergrundthreads garantiert ist.

Diese Methode sendet die [LVM_MAPINDEXTOID](/windows/win32/Controls/lvm-mapindextoid) Nachricht, die im Windows SDK beschrieben wird.

### <a name="example"></a>Beispiel

Im folgenden Codebeispiel wird `m_listCtrl`eine Variable definiert, , die für den Zugriff auf das aktuelle Listenansichtssteuerelement verwendet wird. Diese Variable wird im nächsten Beispiel verwendet.

```cpp
public:
    // Variable used to access the list control.
    CListCtrl m_listCtrl;
```

### <a name="example"></a>Beispiel

Im folgenden Codebeispiel `MapIndexToID` wird die Methode veranschaulicht. In einem früheren Abschnitt dieses Codebeispiels haben wir ein Listenansichtssteuerelement erstellt, das zwei Spalten mit dem Titel "ClientID" und "Grade" in einer Berichtsansicht anzeigt. Im folgenden Beispiel wird der Index jedes Listenansichtselements einer Identifikationsnummer zugeordnet und anschließend der Index für jede Identifikationsnummer abgerufen. Schließlich wird im Beispiel berichtet, ob die ursprünglichen Indizes abgerufen wurden.

```cpp
    // MapIndexToID
    int iCount = m_listCtrl.GetItemCount();
    UINT nId = 0;
    UINT nIndex = 0;
    for (int iIndexOriginal = 0; iIndexOriginal < iCount; iIndexOriginal++)
    {
        // Map index to ID.
        nId = m_listCtrl.MapIndexToID((UINT)iIndexOriginal);

        // Map ID to index.
        nIndex = m_listCtrl.MapIDToIndex(nId);

        if (nIndex != (UINT)(iIndexOriginal))
        {
            CString str;
            str.Format(_T("Mapped index (%d) is not equal to original index (%d)"),
                nIndex, (UINT)(iIndexOriginal));
            AfxMessageBox(str);
            return;
        }
    }
    AfxMessageBox(_T("The mapped indexes and original indexes are equal."),
        MB_ICONINFORMATION);
```

## <a name="clistctrlmovegroup"></a><a name="movegroup"></a>CListCtrl::MoveGroup

Verschiebt die angegebene Gruppe auf den angegebenen Null-basierten Index des Listenansichtssteuerelements.

```
LRESULT MoveGroup(
    int iGroupId,
    int toIndex);
```

### <a name="parameters"></a>Parameter

*iGroupId*<br/>
Der Bezeichner der zu verschiebenden Gruppe.

*toIndex*<br/>
Der Null-basierte Index, in den die Gruppe verschoben werden soll.

### <a name="return-value"></a>Rückgabewert

Der Rückgabewert wird nicht verwendet.

### <a name="remarks"></a>Bemerkungen

Diese Memberfunktion emuliert die Funktionalität der [LVM_MOVEGROUP](/windows/win32/Controls/lvm-movegroup) Nachricht, wie im Windows SDK beschrieben.

## <a name="clistctrlmoveitemtogroup"></a><a name="moveitemtogroup"></a>CListCtrl::MoveItemToGroup

Verschiebt das angegebene Element in die angegebene Gruppe.

```
void MoveItemToGroup(
    int idItemFrom,
    int idGroupTo);
```

### <a name="parameters"></a>Parameter

*idItemVon*<br/>
[in] Der Index des zu verschiebenden Elements.

*idGroupTo*<br/>
[in] Der Bezeichner der Gruppe, in die das Element verschoben wird.

### <a name="remarks"></a>Bemerkungen

> [!NOTE]
> Diese Methode ist derzeit nicht implementiert.

Diese Methode emuliert die Funktionalität der [LVM_MOVEITEMTOGROUP](/windows/win32/Controls/lvm-moveitemtogroup) Nachricht, wie im Windows SDK beschrieben.

## <a name="clistctrlredrawitems"></a><a name="redrawitems"></a>CListCtrl::RedrawItems

Erzwingt ein Listenansichtssteuerelement, um einen Bereich von Elementen neu zu zeichnen.

```
BOOL RedrawItems(
    int nFirst,
    int nLast);
```

### <a name="parameters"></a>Parameter

*nFirst*<br/>
Index des ersten Elements, das neu lackiert werden soll.

*nLast*<br/>
Index des letzten Elements, das neu lackiert werden soll.

### <a name="return-value"></a>Rückgabewert

Ungleich 0, wenn erfolgreich, andernfalls 0.

### <a name="remarks"></a>Bemerkungen

Die angegebenen Elemente werden erst neu gezeichnet, wenn das Listenansichtsfenster eine WM_PAINT Nachricht empfängt. Um diese Funktion sofort neu zu zeichnen, rufen Sie die Windows [UpdateWindow-Funktion](/windows/win32/api/winuser/nf-winuser-updatewindow) auf, nachdem Sie diese Funktion verwendet haben.

## <a name="clistctrlremoveallgroups"></a><a name="removeallgroups"></a>CListCtrl::RemoveAllGroups

Entfernt alle Gruppen aus einem Listenansichtssteuerelement.

```
void RemoveAllGroups();
```

### <a name="remarks"></a>Bemerkungen

Diese Memberfunktion emuliert die Funktionalität der [LVM_REMOVEALLGROUPS](/windows/win32/Controls/lvm-removeallgroups) Nachricht, wie im Windows SDK beschrieben.

## <a name="clistctrlremovegroup"></a><a name="removegroup"></a>CListCtrl::RemoveGroup

Entfernt die angegebene Gruppe aus dem Listenansichtssteuerelement.

```
LRESULT RemoveGroup(int iGroupId);
```

### <a name="parameters"></a>Parameter

*iGroupId*<br/>
Der Bezeichner der zu entfernenden Gruppe.

### <a name="return-value"></a>Rückgabewert

Gibt den Index der Gruppe zurück, wenn er erfolgreich ist, oder -1 andernfalls.

### <a name="remarks"></a>Bemerkungen

Diese Memberfunktion emuliert die Funktionalität der [LVM_REMOVEGROUP](/windows/win32/Controls/lvm-removegroup) Nachricht, wie im Windows SDK beschrieben.

## <a name="clistctrlscroll"></a><a name="scroll"></a>CListCtrl::Scroll

Scrollt den Inhalt eines Listenansichtssteuerelements.

```
BOOL Scroll(CSize size);
```

### <a name="parameters"></a>Parameter

*Größe*<br/>
Ein `CSize` Objekt, das die Menge des horizontalen und vertikalen Scrollens in Pixel angibt. Das `y` Element der *Größe* wird durch die Höhe (in Pixel) der Zeile des Listenansichtssteuerelements dividiert, und das Steuerelement wird durch die resultierende Anzahl von Zeilen gescrollt.

### <a name="return-value"></a>Rückgabewert

Ungleich 0, wenn erfolgreich, andernfalls 0.

## <a name="clistctrlsetbkcolor"></a><a name="setbkcolor"></a>CListCtrl::SetBkColor

Legt die Hintergrundfarbe des Listenansichtssteuerelements fest.

```
BOOL SetBkColor(COLORREF cr);
```

### <a name="parameters"></a>Parameter

*Cr*<br/>
Hintergrundfarbe, die festgelegt werden soll, oder der CLR_NONE Wert für keine Hintergrundfarbe. Listenansichtssteuerelemente mit Hintergrundfarben zeichnen sich deutlich schneller neu als solche ohne Hintergrundfarben. Weitere Informationen finden Sie unter [COLORREF](/windows/win32/gdi/colorref) im Windows SDK.

### <a name="return-value"></a>Rückgabewert

Ungleich 0, wenn erfolgreich, andernfalls 0.

### <a name="example"></a>Beispiel

```cpp
        // Use the 3D button face color for the background.
        COLORREF crBkColor = ::GetSysColor(COLOR_3DFACE);
        m_myListCtrl.SetBkColor(crBkColor);
        ASSERT(m_myListCtrl.GetBkColor() == crBkColor);
```

## <a name="clistctrlsetbkimage"></a><a name="setbkimage"></a>CListCtrl::SetBkImage

Legt das Hintergrundbild eines Listenansichtssteuerelements fest.

```
BOOL SetBkImage(LVBKIMAGE* plvbkImage);

BOOL SetBkImage(
    HBITMAP hBitmap,
    BOOL fTile = TRUE,
    int xOffsetPercent = 0,
    int yOffsetPercent = 0);

BOOL SetBkImage(
    LPTSTR pszUrl,
    BOOL fTile = TRUE,
    int xOffsetPercent = 0,
    int yOffsetPercent = 0);
```

### <a name="parameters"></a>Parameter

*plvbkImage*<br/>
Adresse einer `LVBKIMAGE` Struktur, die die neuen Hintergrundbildinformationen enthält.

*hBitmap*<br/>
Handle zu einer Bitmap.

*pszUrl*<br/>
Eine NULL-terminierte Zeichenfolge, die die URL des Hintergrundbilds enthält.

*fTile*<br/>
Ein Wert ungleich Null, wenn das Bild im Hintergrund des Listenansichtssteuerelements gekachelt werden soll. andernfalls 0.

*xOffsetPercent*<br/>
Der Versatz (in Pixel) des linken Bildrands vom Ursprung des Listenansichtssteuerelements.

*yOffsetPercent*<br/>
Der Versatz (in Pixel) des oberen Rands des Bildes vom Ursprung des Listenansichtssteuerelements.

### <a name="return-value"></a>Rückgabewert

Gibt einen Wert ungleich Null zurück, wenn er erfolgreich ist, oder andernfalls Null.

### <a name="remarks"></a>Bemerkungen

> [!NOTE]
> Da `CListCtrl::SetBkImage` die OLE COM-Funktionalität verwendet wird, müssen die `SetBkImage`OLE-Bibliotheken initialisiert werden, bevor sie . Es ist am besten, die COM-Bibliotheken zu initialisieren, wenn die Anwendung initialisiert wird, und die Initialisierung der Bibliotheken zu unterziehen, wenn die Anwendung beendet wird. Dies geschieht automatisch in MFC-Anwendungen, die ActiveX-Technologie, OLE-Automatisierung, OLE-Verknüpfung/Einbettung oder ODBC/DAO-Vorgänge verwenden.

### <a name="example"></a>Beispiel

Siehe Beispiel für [CListCtrl::GetBkImage](#getbkimage).

## <a name="clistctrlsetcallbackmask"></a><a name="setcallbackmask"></a>CListCtrl::SetCallbackMask

Legt die Rückrufmaske für ein Listenansichtssteuerelement fest.

```
BOOL SetCallbackMask(UINT nMask);
```

### <a name="parameters"></a>Parameter

*nMaske*<br/>
Neuer Wert der Rückrufmaske.

### <a name="return-value"></a>Rückgabewert

Ungleich 0, wenn erfolgreich, andernfalls 0.

### <a name="example"></a>Beispiel

```cpp
    // Set the callback mask so that only the selected and focused states
    // are stored for each item.
    m_myListCtrl.SetCallbackMask(LVIS_SELECTED|LVIS_FOCUSED);
    ASSERT(m_myListCtrl.GetCallbackMask() ==
        (LVIS_SELECTED|LVIS_FOCUSED));
```

## <a name="clistctrlsetcheck"></a><a name="setcheck"></a>CListCtrl::SetCheck

Bestimmt, ob das Statusbild eines Listensteuerelements sichtbar ist.

```
BOOL SetCheck(
    int nItem,
    BOOL fCheck = TRUE);
```

### <a name="parameters"></a>Parameter

*nItem*<br/>
Der nullbasierte Index eines Listensteuerelements.

*fCheck*<br/>
Gibt an, ob das Statusbild des Elements sichtbar sein soll oder nicht. Standardmäßig ist *fCheck* TRUE und das Statusbild ist sichtbar. Wenn *fCheck* FALSE ist, ist es nicht sichtbar.

### <a name="return-value"></a>Rückgabewert

Ein Wert ungleich Null, wenn der Artikel aktiviert ist, andernfalls 0.

### <a name="example"></a>Beispiel

```cpp
        int nCount = m_myListCtrl.GetItemCount();
        BOOL fCheck = FALSE;

        // Set the check state of every other item to TRUE and
        // all others to FALSE.
        for (int i = 0; i < nCount; i++)
        {
            m_myListCtrl.SetCheck(i, fCheck);
            ASSERT((m_myListCtrl.GetCheck(i) && fCheck) ||
                (!m_myListCtrl.GetCheck(i) && !fCheck));
            fCheck = !fCheck;
        }
```

## <a name="clistctrlsetcolumn"></a><a name="setcolumn"></a>CListCtrl::SetColumn

Legt die Attribute einer Listenansichtsspalte fest.

```
BOOL SetColumn(
    int nCol,
    const LVCOLUMN* pColumn);
```

### <a name="parameters"></a>Parameter

*nCol*<br/>
Index der Spalte, deren Attribute festgelegt werden sollen.

*pColumn*<br/>
Adresse einer [LVCOLUMN-Struktur,](/windows/win32/api/commctrl/ns-commctrl-lvcolumnw) die die neuen Spaltenattribute enthält, wie im Windows SDK beschrieben. Der Member `mask` der Struktur gibt an, welche Spaltenattribute festgelegt werden sollen. Wenn `mask` das Element den LVCF_TEXT-Wert angibt, ist der `pszText` Member der Struktur die Adresse `cchTextMax` einer null-terminierten Zeichenfolge, und der Member der Struktur wird ignoriert.

### <a name="return-value"></a>Rückgabewert

Ungleich 0, wenn erfolgreich, andernfalls 0.

### <a name="example"></a>Beispiel

Siehe beispielfür [CListCtrl::GetColumn](#getcolumn).

## <a name="clistctrlsetcolumnorderarray"></a><a name="setcolumnorderarray"></a>CListCtrl::SetColumnOrderArray

Legt die Spaltenreihenfolge (von links nach rechts) eines Listenansichtssteuerelements fest.

```
BOOL SetColumnOrderArray(
    int iCount,
    LPINT piArray);
```

### <a name="parameters"></a>Parameter

*piArray*<br/>
Ein Zeiger auf einen Puffer, der die Indexwerte der Spalten im Listenansichtssteuerelement enthält (von links nach rechts). Der Puffer muss groß genug sein, um die Gesamtzahl der Spalten im Listenansichtssteuerelement zu enthalten.

*iCount*<br/>
Anzahl der Spalten im Listenansichtssteuerelement.

### <a name="return-value"></a>Rückgabewert

Ungleich 0, wenn erfolgreich, andernfalls 0.

### <a name="remarks"></a>Bemerkungen

Diese Memberfunktion implementiert das Verhalten des Win32-Makros [ListView_SetColumnOrderArray](/windows/win32/api/commctrl/nf-commctrl-listview_setcolumnorderarray), wie im Windows SDK beschrieben.

### <a name="example"></a>Beispiel

Siehe Beispiel für [CListCtrl::GetColumnOrderArray](#getcolumnorderarray).

## <a name="clistctrlsetcolumnwidth"></a><a name="setcolumnwidth"></a>CListCtrl::SetColumnWidth

Ändert die Breite einer Spalte in der Berichts- oder Listenansicht.

```
BOOL SetColumnWidth(
    int nCol,
    int cx);
```

### <a name="parameters"></a>Parameter

*nCol*<br/>
Index der Spalte, für die die Breite festgelegt werden soll. In der Listenansicht muss dieser Parameter 0 sein.

*Cx*<br/>
Die neue Breite der Spalte. Kann entweder LVSCW_AUTOSIZE oder LVSCW_AUTOSIZE_USEHEADER sein, wie in [LVM_SETCOLUMNWIDTH](/windows/win32/Controls/lvm-setcolumnwidth) im Windows SDK beschrieben.

### <a name="return-value"></a>Rückgabewert

Ungleich 0, wenn erfolgreich, andernfalls 0.

## <a name="clistctrlsetextendedstyle"></a><a name="setextendedstyle"></a>CListCtrl::SetExtendedStyle

Legt die aktuellen erweiterten Stile eines Listenansichtssteuerelements fest.

```
DWORD SetExtendedStyle(DWORD dwNewStyle);
```

### <a name="parameters"></a>Parameter

*dwNewStyle*<br/>
Eine Kombination erweiterter Stile, die vom Listenansichtssteuerelement verwendet werden sollen. Eine beschreibende Liste dieser Stile finden Sie im Thema [Erweiterte Listenansichtsformatvorlagen](/windows/win32/Controls/extended-list-view-styles) im Windows SDK.

### <a name="return-value"></a>Rückgabewert

Eine Kombination der vorherigen erweiterten Stile, die vom Listenansichtssteuerelement verwendet wurden.

### <a name="remarks"></a>Bemerkungen

Diese Memberfunktion implementiert das Verhalten des Win32-Makros [ListView_SetExtendedListViewStyle](/windows/win32/api/commctrl/nf-commctrl-listview_setextendedlistviewstyle), wie im Windows SDK beschrieben.

### <a name="example"></a>Beispiel

```cpp
    // Allow the header controls item to be movable by the user.
    m_myListCtrl.SetExtendedStyle
        (m_myListCtrl.GetExtendedStyle()|LVS_EX_HEADERDRAGDROP);
```

## <a name="clistctrlsetgroupinfo"></a><a name="setgroupinfo"></a>CListCtrl::SetGroupInfo

Legt die Informationen fest, die die angegebene Gruppe des aktuellen Listenansichtssteuerelements beschreiben.

```
int SetGroupInfo(
    int iGroupId,
    PLVGROUP pgrp);
```

### <a name="parameters"></a>Parameter

*iGroupId*<br/>
Der Bezeichner der Gruppe, deren Informationen festgelegt sind.

*pgrp*<br/>
Zeiger auf eine [LVGROUP-Struktur,](/windows/win32/api/commctrl/ns-commctrl-lvgroup) die die festzulegenden Informationen enthält. Der Aufrufer ist für die Zuweisung dieser Struktur und das Festlegen seiner Member verantwortlich.

### <a name="return-value"></a>Rückgabewert

Die ID der Gruppe, wenn die Methode erfolgreich ist; andernfalls -1.

### <a name="remarks"></a>Bemerkungen

Diese Methode sendet die [LVM_SETGROUPINFO](/windows/win32/Controls/lvm-setgroupinfo) Nachricht, die im Windows SDK beschrieben wird.

## <a name="clistctrlsetgroupmetrics"></a><a name="setgroupmetrics"></a>CListCtrl::SetGroupMetrics

Legt die Gruppenmetriken eines Listenansichtssteuerelements fest.

```
void SetGroupMetrics(PLVGROUPMETRICS pGroupMetrics);
```

### <a name="parameters"></a>Parameter

*pGroupMetrics*<br/>
Ein Zeiger auf eine [LVGROUPMETRICS-Struktur,](/windows/win32/api/commctrl/ns-commctrl-lvgroupmetrics) die die festzulegenden Gruppenmetrikeninformationen enthält.

### <a name="remarks"></a>Bemerkungen

Diese Memberfunktion emuliert die Funktionalität der [LVM_SETGROUPMETRICS](/windows/win32/Controls/lvm-setgroupmetrics) Nachricht, wie im Windows SDK beschrieben.

## <a name="clistctrlsethotcursor"></a><a name="sethotcursor"></a>CListCtrl::SetHotCursor

Legt den Cursor fest, der verwendet wird, wenn die Hot-Tracking-Funktion für ein Listenansichtssteuerelement aktiviert ist.

```
HCURSOR SetHotCursor(HCURSOR hc);
```

### <a name="parameters"></a>Parameter

*Hc*<br/>
Ein Handle für eine Cursorressource, das zur Darstellung des Hotcursors verwendet wird.

### <a name="return-value"></a>Rückgabewert

Das Handle für die vorherige Hotcursorressource, die vom Listenansichtssteuerelement verwendet wird.

### <a name="remarks"></a>Bemerkungen

Diese Memberfunktion implementiert das Verhalten des Win32-Makros [ListView_SetHotCursor](/windows/win32/api/commctrl/nf-commctrl-listview_sethotcursor), wie im Windows SDK beschrieben.

Der Hotcursor, der nur sichtbar ist, wenn die Hover-Auswahl aktiviert ist, wird angezeigt, wenn der Cursor über ein beliebiges Listenansichtselement wechselt. Die Hover-Auswahl wird aktiviert, indem Sie den LVS_EX_TRACKSELECT erweiterten Stils festlegen.

### <a name="example"></a>Beispiel

Siehe Beispiel für [CListCtrl::GetHotCursor](#gethotcursor).

## <a name="clistctrlsethotitem"></a><a name="sethotitem"></a>CListCtrl::SetHotItem

Legt das aktuelle heiße Element eines Listenansichtssteuerelements fest.

```
int SetHotItem(int iIndex);
```

### <a name="parameters"></a>Parameter

*iIndex*<br/>
Nullbasierter Index des Elements, das als heißes Element festgelegt werden soll.

### <a name="return-value"></a>Rückgabewert

Der nullbasierte Index des zuvor heißen Elements.

### <a name="remarks"></a>Bemerkungen

Diese Memberfunktion implementiert das Verhalten des Win32-Makros [ListView_SetHotItem](/windows/win32/api/commctrl/nf-commctrl-listview_sethotitem), wie im Windows SDK beschrieben.

### <a name="example"></a>Beispiel

Siehe Beispiel für [CListCtrl::GetHotItem](#gethotitem).

## <a name="clistctrlsethovertime"></a><a name="sethovertime"></a>CListCtrl::SetHoverTime

Legt die aktuelle Hoverzeit eines Listenansichtssteuerelements fest.

```
DWORD SetHoverTime(DWORD dwHoverTime = (DWORD)-1);
```

### <a name="parameters"></a>Parameter

*dwHoverTime*<br/>
Die neue Verzögerung in Millisekunden, die der Mauszeiger über ein Element bewegen muss, bevor es ausgewählt wird. Wenn der Standardwert übergeben wird, wird die Zeit auf die Standardhoverzeit festgelegt.

### <a name="return-value"></a>Rückgabewert

Die vorherige Hoverzeit in Millisekunden.

### <a name="remarks"></a>Bemerkungen

Diese Memberfunktion implementiert das Verhalten des Win32-Makros [ListView_SetHoverTime](/windows/win32/api/commctrl/nf-commctrl-listview_sethovertime), wie im Windows SDK beschrieben.

### <a name="example"></a>Beispiel

Siehe Beispiel für [CListCtrl::GetHoverTime](#gethovertime).

## <a name="clistctrlseticonspacing"></a><a name="seticonspacing"></a>CListCtrl::SetIconSpacing

Legt den Abstand zwischen Symbolen in einem Listenansichtssteuerelement fest.

```
CSize SetIconSpacing(
    int cx,
    int cy);

CSize SetIconSpacing(CSize size);
```

### <a name="parameters"></a>Parameter

*Cx*<br/>
Der Abstand (in Pixel) zwischen Symbolen auf der x-Achse.

*Cy*<br/>
Der Abstand (in Pixel) zwischen Symbolen auf der y-Achse.

*Größe*<br/>
Ein `CSize` Objekt, das den Abstand (in Pixel) zwischen Symbolen auf der x- und y-Achse angibt.

### <a name="return-value"></a>Rückgabewert

Ein [CSize-Objekt,](../../atl-mfc-shared/reference/csize-class.md) das die vorherigen Werte für den Symbolabstand enthält.

### <a name="remarks"></a>Bemerkungen

Diese Memberfunktion implementiert das Verhalten des Win32-Makros [ListView_SetIconSpacing](/windows/win32/api/commctrl/nf-commctrl-listview_seticonspacing), wie im Windows SDK beschrieben.

### <a name="example"></a>Beispiel

```cpp
    // Leave lots of space between icons.
    m_myListCtrl.SetIconSpacing(CSize(100, 100));
```

## <a name="clistctrlsetimagelist"></a><a name="setimagelist"></a>CListCtrl::SetImageList

Weist einem Listenansichtssteuerelement eine Bildliste zu.

```
CImageList* SetImageList(
    CImageList* pImageList,
    int nImageListType);
```

### <a name="parameters"></a>Parameter

*pImageList*<br/>
Zeiger auf die zuzuweisende Bildliste.

*nImageListType*<br/>
Typ der Bildliste. Dies kann einer der folgenden Werte sein:

- LVSIL_NORMAL Bildliste mit großen Symbolen.

- LVSIL_SMALL Bildliste mit kleinen Symbolen.

- LVSIL_STATE Bildliste mit Zustandsbildern.

### <a name="return-value"></a>Rückgabewert

Ein Zeiger auf die vorherige Bildliste.

### <a name="example"></a>Beispiel

Siehe Beispiel für [CListCtrl::GetImageList](#getimagelist).

## <a name="clistctrlsetinfotip"></a><a name="setinfotip"></a>CListCtrl::SetInfoTip

Legt den QuickInfo-Text fest.

```
BOOL SetInfoTip(PLVSETINFOTIP plvInfoTip);
```

### <a name="parameters"></a>Parameter

*plvInfoTip*<br/>
Ein Zeiger auf eine [LVFSETINFOTIP-Struktur,](/windows/win32/api/commctrl/ns-commctrl-lvsetinfotip) die die festzulegenden Informationen enthält.

### <a name="return-value"></a>Rückgabewert

Gibt TRUE bei Erfolg zurück, FALSE bei Fehler.

### <a name="remarks"></a>Bemerkungen

Diese Memberfunktion emuliert die Funktionalität der [LVM_SETINFOTIP](/windows/win32/Controls/lvm-setinfotip) Nachricht, wie im Windows SDK beschrieben.

## <a name="clistctrlsetinsertmark"></a><a name="setinsertmark"></a>CListCtrl::SetInsertMark

Legt die Einfügemarke auf die definierte Position fest.

```
BOOL SetInsertMark(LPLVINSERTMARK plvim);
```

### <a name="parameters"></a>Parameter

*plvim*<br/>
Ein Zeiger auf eine [LVINSERTMARK-Struktur,](/windows/win32/api/commctrl/ns-commctrl-lvinsertmark) die angibt, wo die Einfügemarke festgelegt werden soll.

### <a name="return-value"></a>Rückgabewert

Gibt TRUE zurück, wenn erfolgreich, oder FALSE andernfalls. FALSE wird zurückgegeben, wenn `cbSize` die `LVINSERTMARK` Größe im Element der Struktur nicht der tatsächlichen Größe der Struktur entspricht oder wenn eine Einfügemarke in der aktuellen Ansicht nicht angewendet wird.

### <a name="remarks"></a>Bemerkungen

Diese Memberfunktion emuliert die Funktionalität der [LVM_SETINSERTMARK](/windows/win32/Controls/lvm-setinsertmark) Nachricht, wie im Windows SDK beschrieben.

## <a name="clistctrlsetinsertmarkcolor"></a><a name="setinsertmarkcolor"></a>CListCtrl::SetInsertMarkColor

Legt die Farbe der Einfügemarke fest.

```
COLORREF SetInsertMarkColor(COLORREF color);
```

### <a name="parameters"></a>Parameter

*Farbe*<br/>
Eine [COLORREF-Struktur,](/windows/win32/gdi/colorref) die die Farbe zum Festlegen der Einfügemarke angibt.

### <a name="return-value"></a>Rückgabewert

Gibt `COLORREF` eine Struktur zurück, die die vorherige Farbe enthält.

### <a name="remarks"></a>Bemerkungen

Diese Memberfunktion emuliert die Funktionalität der [LVM_SETINSERTMARKCOLOR](/windows/win32/Controls/lvm-setinsertmarkcolor) Nachricht, wie im Windows SDK beschrieben.

## <a name="clistctrlsetitem"></a><a name="setitem"></a>CListCtrl::SetItem

Legt einige oder alle Attribute eines Listenansichtselements fest.

```
BOOL SetItem(const LVITEM* pItem);

BOOL SetItem(
    int nItem,
    int nSubItem,
    UINT nMask,
    LPCTSTR lpszItem,
    int nImage,
    UINT nState,
    UINT nStateMask,
    LPARAM lParam);

BOOL SetItem(
    int nItem,
    int nSubItem,
    UINT nMask,
    LPCTSTR lpszItem,
    int nImage,
    UINT nState,
    UINT nStateMask,
    LPARAM lParam,
    int nIndent);
```

### <a name="parameters"></a>Parameter

*pItem*<br/>
Adresse einer [LVITEM-Struktur,](/windows/win32/api/commctrl/ns-commctrl-lvitemw) die die neuen Elementattribute enthält, wie im Windows SDK beschrieben. Die Struktur `iItem` und `iSubItem` die Member identifizieren das Element oder `mask` Unterelement, und das Element der Struktur gibt an, welche Attribute festgelegt werden sollen. Weitere Informationen zum `mask` Mitglied finden Sie unter **Hinweise**.

*nItem*<br/>
Index des Elements, dessen Attribute festgelegt werden sollen.

*nSubItem*<br/>
Index des Unterelements, dessen Attribute festgelegt werden sollen.

*nMaske*<br/>
Gibt an, welche Attribute festgelegt werden sollen (siehe Hinweise).

*lpszItem*<br/>
Adresse einer null-terminierten Zeichenfolge, die die Bezeichnung des Elements angibt.

*nImage*<br/>
Index des Elements bild in der Bildliste.

*nState*<br/>
Gibt Werte für zu ändernde Zustände an (siehe Hinweise).

*nStateMask*<br/>
Gibt an, welche Zustände geändert werden sollen (siehe Hinweise).

*lParam*<br/>
Ein anwendungsspezifischer 32-Bit-Wert, der dem Element zugeordnet werden soll.

*nIndent*<br/>
Breite des Einzugs in Pixel. Wenn *nIndent* kleiner als die systemdefinierte Mindestbreite ist, wird die neue Breite auf das systemdefinierte Minimum

### <a name="return-value"></a>Rückgabewert

Ungleich 0, wenn erfolgreich, andernfalls 0.

### <a name="remarks"></a>Bemerkungen

Die `iItem` `iSubItem` und-Elemente `LVITEM` der Struktur und der Parameter *nItem* und *nSubItem* identifizieren das Element und unteritem, deren Attribute festgelegt werden sollen.

Das `mask` Element `LVITEM` der Struktur und der Parameter *nMask* geben an, welche Elementattribute festgelegt werden sollen:

- LVIF_TEXT `pszText` Der Member oder der *lpszItem-Parameter* ist die Adresse einer null-terminierten Zeichenfolge; das `cchTextMax` Mitglied wird ignoriert.

- LVIF_STATE `stateMask` Der Parameter member oder *nStateMask* gibt an, welche Elementzustände geändert werden sollen, und der `state` Member- oder *nState-Parameter* enthält die Werte für diese Zustände.

### <a name="example"></a>Beispiel

Siehe Beispiel für [CListCtrl::HitTest](#hittest).

## <a name="clistctrlsetitemcount"></a><a name="setitemcount"></a>CListCtrl::SetItemCount

Bereitet ein Listenansichtssteuerelement zum Hinzufügen einer großen Anzahl von Elementen vor.

```
void SetItemCount(int nItems);
```

### <a name="parameters"></a>Parameter

*nItems*<br/>
Die Anzahl der Elemente, die das Steuerelement letztendlich enthalten wird.

### <a name="remarks"></a>Bemerkungen

Informationen zum Festlegen der Elementanzahl für ein steuerelement für die virtuelle Listenansicht finden Sie unter [CListCtrl::SetItemCountEx](#setitemcountex).

### <a name="remarks"></a>Bemerkungen

Diese Memberfunktion implementiert das Verhalten des Win32-Makros [ListView_SetItemCount](/windows/win32/api/commctrl/nf-commctrl-listview_setitemcount), wie im Windows SDK beschrieben.

### <a name="example"></a>Beispiel

```cpp
        CString str;

        // Add 1024 items to the list view control.
        m_myListCtrl.SetItemCount(1024);

        for (int i = 0; i < 1024; i++)
        {
            str.Format(TEXT("item %d"), i);
            m_myListCtrl.InsertItem(i, str);
        }
```

## <a name="clistctrlsetitemcountex"></a><a name="setitemcountex"></a>CListCtrl::SetItemCountEx

Legt die Elementanzahl für ein virtuelles Listenansichtssteuerelement fest.

```
BOOL SetItemCountEx(
    int iCount,
    DWORD dwFlags = LVSICF_NOINVALIDATEALL);
```

### <a name="parameters"></a>Parameter

*iCount*<br/>
Die Anzahl der Elemente, die das Steuerelement letztendlich enthalten wird.

*dwFlags*<br/>
Gibt das Verhalten des Listenansichtssteuerelements nach dem Zurücksetzen der Elementanzahl an. Dieser Wert kann eine Kombination der folgenden sein:

- LVSICF_NOINVALIDATEALL Das Listenansichtssteuerelement wird nicht neu gezeichnet, es sei denn, die betroffenen Elemente sind derzeit sichtbar. Dies ist der Standardwert.

- LVSICF_NOSCROLL Das Listenansichtssteuerelement ändert die Bildlaufposition nicht, wenn sich die Elementanzahl ändert.

### <a name="return-value"></a>Rückgabewert

Ungleich 0, wenn erfolgreich, andernfalls 0.

### <a name="remarks"></a>Bemerkungen

Diese Memberfunktion implementiert das Verhalten des Win32-Makros, [ListView_SetItemCountEx](/windows/win32/api/commctrl/nf-commctrl-listview_setitemcountex), wie in Windows SDK beschrieben, sollte nur für virtuelle Listenansichten aufgerufen werden.

### <a name="example"></a>Beispiel

```cpp
        CString str;

        // Add 1024 items to the list view control.

        // Force my virtual list view control to allocate
        // enough memory for my 1024 items.
        m_myVirtualListCtrl.SetItemCountEx(1024, LVSICF_NOSCROLL|
            LVSICF_NOINVALIDATEALL);

        for (int i = 0; i < 1024; i++)
        {
            str.Format(TEXT("item %d"), i);
            m_myVirtualListCtrl.InsertItem(i, str);
        }
```

## <a name="clistctrlsetitemdata"></a><a name="setitemdata"></a>CListCtrl::SetItemData

Legt den anwendungsspezifischen 32-Bit-Wert fest, der dem von *nItem*angegebenen Element zugeordnet ist.

```
BOOL SetItemData(int nItem, DWORD_PTR dwData);
```

### <a name="parameters"></a>Parameter

*nItem*<br/>
Index des Listenelements, dessen Daten festgelegt werden sollen.

*dwData*<br/>
Ein 32-Bit-Wert, der dem Element zugeordnet werden soll.

### <a name="return-value"></a>Rückgabewert

Ungleich Null, wenn erfolgreich, andernfalls 0 (Null).

### <a name="remarks"></a>Bemerkungen

Dieser Wert `lParam` ist das Element der [LVITEM-Struktur,](/windows/win32/api/commctrl/ns-commctrl-lvitemw) wie im Windows SDK beschrieben.

### <a name="example"></a>Beispiel

```cpp
    // Set the data of each item to be equal to its index.
    for (int i = 0; i < m_myListCtrl.GetItemCount(); i++)
    {
        m_myListCtrl.SetItemData(i, i);
    }
```

## <a name="clistctrlsetitemindexstate"></a><a name="setitemindexstate"></a>CListCtrl::SetItemIndexState

Legt den Status eines Elements im aktuellen Listenansichtssteuerelement fest.

```
BOOL SetItemIndexState(
    PLVITEMINDEX pItemIndex,
    DWORD dwState,
    DWORD dwMask) const;
```

### <a name="parameters"></a>Parameter

|Parameter|BESCHREIBUNG|
|---------------|-----------------|
|*pItemIndex*|[in] Zeiger auf eine [LVITEMINDEX-Struktur,](/windows/win32/api/commctrl/ns-commctrl-lvitemindex) die ein Element beschreibt. Der Aufrufer ist für die Zuweisung dieser Struktur und das Festlegen seiner Member verantwortlich.|
|*dwState*|[in] Der Zustand zum Festlegen des Elements, bei dem es sich um eine bitweise Kombination von [Listenansichtselementzuständen handelt.](/windows/win32/Controls/list-view-item-states) Geben Sie Null an, um einen Zustand zurückzusetzen, oder einen, um ihn festzulegen.|
|*dwMask*|[in] Eine Maske der gültigen Bits des Status, der durch den *Parameter dwState* angegeben wird. Geben Sie eine bitweise Kombination (OR) von [Listenansichtselementzuständen](/windows/win32/Controls/list-view-item-states)an.|

### <a name="return-value"></a>Rückgabewert

TRUE, wenn diese Methode erfolgreich ist; andernfalls FALSE.

### <a name="remarks"></a>Bemerkungen

Weitere Informationen zum *parameter dwState* finden Sie unter [Listenansichtselementzustände](/windows/win32/Controls/list-view-item-states).

Weitere Informationen zum *parameter dwMask* finden Sie im *stateMask-Member* der [LVITEM-Struktur.](/windows/win32/api/commctrl/ns-commctrl-lvitemw)

Diese Methode sendet die [LVM_SETITEMINDEXSTATE](/windows/win32/Controls/lvm-setitemindexstate) Nachricht, die im Windows SDK beschrieben wird.

## <a name="clistctrlsetitemposition"></a><a name="setitemposition"></a>CListCtrl::SetItemPosition

Verschiebt ein Element an eine angegebene Position in einem Listenansichtssteuerelement.

```
BOOL SetItemPosition(
    int nItem,
    POINT pt);
```

### <a name="parameters"></a>Parameter

*nItem*<br/>
Index des Artikels, dessen Position festgelegt werden soll.

*Pt*<br/>
Eine [POINT](/previous-versions/dd162805\(v=vs.85\)) POINT-Struktur, die die neue Position der oberen linken Ecke des Elements in Ansichtskoordinaten angibt.

### <a name="return-value"></a>Rückgabewert

Ungleich 0, wenn erfolgreich, andernfalls 0.

### <a name="remarks"></a>Bemerkungen

Das Steuerelement muss sich in der Symbol- oder kleinansichts- oder kleinansichtsumso sein.

Wenn das Listenansichtssteuerelement die LVS_AUTOARRANGE Stils hat, wird die Listenansicht angeordnet, nachdem die Position des Elements festgelegt wurde.

### <a name="example"></a>Beispiel

Siehe Beispiel für [CListCtrl::GetItemPosition](#getitemposition).

## <a name="clistctrlsetitemstate"></a><a name="setitemstate"></a>CListCtrl::SetItemState

Ändert den Status eines Elements in einem Listenansichtssteuerelement.

```
BOOL SetItemState(
    int nItem,
    LVITEM* pItem);

BOOL SetItemState(
    int nItem,
    UINT nState,
    UINT nMask);
```

### <a name="parameters"></a>Parameter

*nItem*<br/>
Index des Elements, dessen Status festgelegt werden soll.

*pItem*<br/>
Adresse einer [LVITEM-Struktur,](/windows/win32/api/commctrl/ns-commctrl-lvitemw) wie im Windows SDK beschrieben. Der Member `stateMask` der Struktur gibt an, welche Statusbits `state` geändert werden sollen, und der Element der Struktur enthält die neuen Werte für diese Bits. Die anderen Member werden ignoriert.

*nState*<br/>
Neue Werte für die Statusbits. Eine Liste möglicher Werte finden Sie unter [CListCtrl::GetNextItem](#getnextitem) und das [LVITEM-Statusmitglied.](/windows/win32/api/commctrl/ns-commctrl-lvitemw)

*nMaske*<br/>
Maske, die angibt, welche Statusbits geändert werden sollen. Dieser Wert entspricht dem stateMask-Member der [LVITEM-Struktur.](/windows/win32/api/commctrl/ns-commctrl-lvitemw)

### <a name="return-value"></a>Rückgabewert

Ungleich 0, wenn erfolgreich, andernfalls 0.

### <a name="remarks"></a>Bemerkungen

Der "Status" eines Elements ist ein Wert, der die Verfügbarkeit des Elements angibt, Benutzeraktionen angibt oder auf andere Weise den Status des Elements angibt. Ein Listenansichtssteuerelement ändert einige Statusbits, z. B. wenn der Benutzer ein Element auswählt. Eine Anwendung kann andere Statusbits ändern, um das Element zu deaktivieren oder auszublenden oder ein Überlagerungsbild oder Statusbild anzugeben.

### <a name="example"></a>Beispiel

Siehe Beispiel für [CListCtrl::GetTopIndex](#gettopindex).

## <a name="clistctrlsetitemtext"></a><a name="setitemtext"></a>CListCtrl::SetItemText

Ändert den Text eines Listenansichtselements oder Unterelements.

```
BOOL SetItemText(
    int nItem,
    int nSubItem,
    LPCTSTR lpszText);
```

### <a name="parameters"></a>Parameter

*nItem*<br/>
Index des Elements, dessen Text festgelegt werden soll.

*nSubItem*<br/>
Index des Unterelements oder Null, um die Artikelbeschriftung festzulegen.

*lpszText*<br/>
Zeiger auf eine Zeichenfolge, die den neuen Elementtext enthält.

### <a name="return-value"></a>Rückgabewert

Ungleich 0, wenn erfolgreich, andernfalls 0.

### <a name="remarks"></a>Bemerkungen

Diese Methode ist nicht für die Verwendung mit Steuerelementen vorgesehen, die den LVS_OWNERDATA Fensterstil enthalten (dies führt in der Tat zu einer Assertion in Debugbuilds). Weitere Informationen zu diesem Listensteuerelementstil finden Sie unter Übersicht mit [Listensteuerelementen](/windows/win32/Controls/list-view-controls-overview).

### <a name="example"></a>Beispiel

Siehe Beispiel für [CListCtrl::InsertItem](#insertitem).

## <a name="clistctrlsetoutlinecolor"></a><a name="setoutlinecolor"></a>CListCtrl::SetOutlineColor

Legt die Farbe des Rahmens eines Listenansichtssteuerelements fest, wenn der [LVS_EX_BORDERSELECT](/windows/win32/Controls/list-view-window-styles) erweiterten Fensterstil festgelegt ist.

```
COLORREF SetOutlineColor(COLORREF color);
```

### <a name="parameters"></a>Parameter

*Farbe*<br/>
Die neue [COLORREF-Struktur,](/windows/win32/gdi/colorref) die die Umrissfarbe enthält.

### <a name="return-value"></a>Rückgabewert

Die `COLORREF` vorherige Struktur, die die Umrissfarbe enthält

### <a name="remarks"></a>Bemerkungen

Diese Memberfunktion emuliert die Funktionalität der [LVM_SETOUTLINECOLOR](/windows/win32/Controls/lvm-setoutlinecolor) Nachricht, wie im Windows SDK beschrieben.

## <a name="clistctrlsetselectedcolumn"></a><a name="setselectedcolumn"></a>CListCtrl::SetSelectedColumn

Legt die ausgewählte Spalte des Listenansichtssteuerelements fest.

```
LRESULT SetSelectedColumn(int iCol);
```

### <a name="parameters"></a>Parameter

*iCol*<br/>
Der Index der auszuwählenden Spalte.

### <a name="return-value"></a>Rückgabewert

Der Rückgabewert wird nicht verwendet.

### <a name="remarks"></a>Bemerkungen

Diese Memberfunktion emuliert die Funktionalität der [LVM_SETSELECTEDCOLUMN](/windows/win32/Controls/lvm-setselectedcolumn) Nachricht, wie im Windows SDK beschrieben.

## <a name="clistctrlsetselectionmark"></a><a name="setselectionmark"></a>CListCtrl::SetSelectionMark

Legt das Auswahlzeichen eines Listenansichtssteuerelements fest.

```
int SetSelectionMark(int iIndex);
```

### <a name="parameters"></a>Parameter

*iIndex*<br/>
Der nullbasierte Index des ersten Elements in einer Mehrfachauswahl.

### <a name="return-value"></a>Rückgabewert

Die vorherige Auswahlmarke oder -1, wenn keine Auswahlmarkierung vorhanden ist.

### <a name="remarks"></a>Bemerkungen

Diese Memberfunktion implementiert das Verhalten des Win32-Makros [ListView_SetSelectionMark](/windows/win32/api/commctrl/nf-commctrl-listview_setselectionmark), wie im Windows SDK beschrieben.

### <a name="example"></a>Beispiel

Siehe Beispiel für [CListCtrl::GetSelectionMark](#getselectionmark).

## <a name="clistctrlsettextbkcolor"></a><a name="settextbkcolor"></a>CListCtrl::SetTextBkColor

Legt die Hintergrundfarbe von Text in einem Listenansichtssteuerelement fest.

```
BOOL SetTextBkColor(COLORREF cr);
```

### <a name="parameters"></a>Parameter

*Cr*<br/>
Ein COLORREF, der die neue Texthintergrundfarbe angibt. Weitere Informationen finden Sie unter [COLORREF](/windows/win32/gdi/colorref) im Windows SDK.

### <a name="return-value"></a>Rückgabewert

Ungleich 0, wenn erfolgreich, andernfalls 0.

### <a name="example"></a>Beispiel

```cpp
        // Use the 3D button face color for the background.
        COLORREF crBkColor = ::GetSysColor(COLOR_3DFACE);
        m_myListCtrl.SetTextBkColor(crBkColor);
        ASSERT(m_myListCtrl.GetTextBkColor() == crBkColor);
```

## <a name="clistctrlsettextcolor"></a><a name="settextcolor"></a>CListCtrl::SetTextColor

Legt die Textfarbe eines Listenansichtssteuerelements fest.

```
BOOL SetTextColor(COLORREF cr);
```

### <a name="parameters"></a>Parameter

*Cr*<br/>
Ein COLORREF, der die neue Textfarbe angibt. Weitere Informationen finden Sie unter [COLORREF](/windows/win32/gdi/colorref) im Windows SDK.

### <a name="return-value"></a>Rückgabewert

Ungleich 0, wenn erfolgreich, andernfalls 0.

### <a name="example"></a>Beispiel

```cpp
    // Use the window text color for
    // the item text of the list view control.
    COLORREF crTextColor = ::GetSysColor(COLOR_WINDOWTEXT);
    m_myListCtrl.SetTextColor(crTextColor);
    ASSERT(m_myListCtrl.GetTextColor() == crTextColor);
```

## <a name="clistctrlsettileinfo"></a><a name="settileinfo"></a>CListCtrl::SetTileInfo

Legt die Informationen für eine Kachel des Listenansichtssteuerelements fest.

```
BOOL SetTileInfo(PLVTILEINFO pTileInfo);
```

### <a name="parameters"></a>Parameter

*pTileInfo*<br/>
Ein Zeiger auf eine [LVTILEINFO-Struktur,](/windows/win32/api/commctrl/ns-commctrl-lvtileinfo) die die festzulegenden Informationen enthält.

### <a name="return-value"></a>Rückgabewert

Gibt TRUE bei Erfolg zurück, FALSE bei Fehler.

### <a name="remarks"></a>Bemerkungen

Diese Memberfunktion emuliert die Funktionalität der [LVM_SETTILEINFO](/windows/win32/Controls/lvm-settileinfo) Nachricht, wie im Windows SDK beschrieben.

## <a name="clistctrlsettileviewinfo"></a><a name="settileviewinfo"></a>CListCtrl::SetTileViewInfo

Legt Informationen fest, die ein Listenansichtssteuerelement in der Kachelansicht verwendet.

```
BOOL SetTileViewInfo(PLVTILEVIEWINFO ptvi);
```

### <a name="parameters"></a>Parameter

*ptvi*<br/>
Ein Zeiger auf eine [LVTILEVIEWINFO-Struktur,](/windows/win32/api/commctrl/ns-commctrl-lvtileviewinfo) die die festzulegenden Informationen enthält.

### <a name="return-value"></a>Rückgabewert

Gibt TRUE bei Erfolg zurück, FALSE bei Fehler.

### <a name="remarks"></a>Bemerkungen

Diese Memberfunktion emuliert die Funktionalität der [LVM_SETTILEVIEWINFO](/windows/win32/Controls/lvm-settileviewinfo) Nachricht, wie im Windows SDK beschrieben.

## <a name="clistctrlsettooltips"></a><a name="settooltips"></a>CListCtrl::SetToolTips

Legt das QuickInfo-Steuerelement fest, das das Listenansichtssteuerelement zum Anzeigen von QuickInfos verwendet.

```
CToolTipCtrl* SetToolTips(CToolTipCtrl* pWndTip);
```

### <a name="parameters"></a>Parameter

*pWndTip*<br/>
Ein Zeiger auf `CToolTipCtrl` ein Objekt, das vom Listensteuerelement verwendet wird.

### <a name="return-value"></a>Rückgabewert

Ein Zeiger auf ein [CToolTipCtrl-Objekt,](ctooltipctrl-class.md) das die zuvor vom Steuerelement verwendete Quick-Taste enthält, oder NULL, wenn zuvor keine QuickInfos verwendet wurden.

### <a name="remarks"></a>Bemerkungen

Diese Memberfunktion implementiert das Verhalten der [LVM_SETTOOLTIPS](/windows/win32/Controls/lvm-settooltips)Win32-LVM_SETTOOLTIPS , wie im Windows SDK beschrieben.

Um keine QuickInfos zu verwenden, geben `CListCtrl` Sie beim Erstellen des Objekts den LVS_NOTOOLTIPS Stil an.

## <a name="clistctrlsetview"></a><a name="setview"></a>CListCtrl::SetView

Legt die Ansicht des Listenansichtssteuerelements fest.

```
DWORD SetView(int iView);
```

### <a name="parameters"></a>Parameter

*Iview*<br/>
Die ausgewählte Ansicht.

### <a name="return-value"></a>Rückgabewert

Gibt 1 zurück, wenn erfolgreich, oder -1 auf andere Weise. Beispielsweise wird -1 zurückgegeben, wenn die Ansicht ungültig ist.

### <a name="remarks"></a>Bemerkungen

Diese Memberfunktion emuliert die Funktionalität der [LVM_SETVIEW](/windows/win32/Controls/lvm-setview) Nachricht, wie im Windows SDK beschrieben.

## <a name="clistctrlsetworkareas"></a><a name="setworkareas"></a>CListCtrl::SetWorkAreas

Legt den Bereich fest, in dem Symbole in einem Listenansichtssteuerelement angezeigt werden können.

```
void SetWorkAreas(
    int nWorkAreas,
    LPRECT lpRect);
```

### <a name="parameters"></a>Parameter

*nArbeitsbereiche*<br/>
Die Anzahl `RECT` der Strukturen (oder [CRect-Objekte)](../../atl-mfc-shared/reference/crect-class.md) im Array, auf die *lpRect*zeigt.

*lpRect*<br/>
Die Adresse eines `RECT` Arrays `CRect` von Strukturen (oder Objekten), die die neuen Arbeitsbereiche des Listenansichtssteuerelements angeben. Diese Bereiche müssen in Clientkoordinaten angegeben werden. Wenn dieser Parameter NULL ist, wird der Arbeitsbereich auf den Clientbereich des Steuerelements festgelegt.

### <a name="remarks"></a>Bemerkungen

Diese Memberfunktion implementiert das Verhalten des Win32-Makros [ListView_SetWorkAreas](/windows/win32/api/commctrl/nf-commctrl-listview_setworkareas), wie im Windows SDK beschrieben.

### <a name="example"></a>Beispiel

```cpp
    // Remove all working areas.
    m_myListCtrl.SetWorkAreas(0, NULL);
```

## <a name="clistctrlsortgroups"></a><a name="sortgroups"></a>CListCtrl::SortierenGruppen

Verwendet eine anwendungsdefinierte Vergleichsfunktion, um Gruppen nach ID innerhalb eines Listenansichtssteuerelements zu sortieren.

```
BOOL SortGroups(
    PFNLVGROUPCOMPARE _pfnGroupCompare,
    LPVOID _plv);
```

### <a name="parameters"></a>Parameter

*_pfnGroupCompare*<br/>
Ein Zeiger auf die Gruppenvergleichsfunktion.

*_plv*<br/>
Ein leerer Zeiger.

### <a name="return-value"></a>Rückgabewert

Gibt TRUE bei Erfolg zurück, FALSE bei Fehler.

### <a name="remarks"></a>Bemerkungen

Diese Memberfunktion emuliert die Funktionalität der [LVM_SORTGROUPS](/windows/win32/Controls/lvm-sortgroups) Nachricht, wie im Windows SDK beschrieben.

## <a name="clistctrlsortitems"></a><a name="sortitems"></a>CListCtrl::SortItems

Sortiert Listenansichtselemente mithilfe einer anwendungsdefinierten Vergleichsfunktion.

```
BOOL SortItems(
    PFNLVCOMPARE pfnCompare,
    DWORD_PTR dwData);
```

### <a name="parameters"></a>Parameter

*pfnCompare*<br/>
[in] Adresse der anwendungsdefinierten Vergleichsfunktion.

Der Sortiervorgang ruft die Vergleichsfunktion jedes Mal auf, wenn die relative Reihenfolge von zwei Listenelementen bestimmt werden muss. Die Vergleichsfunktion muss entweder ein statischer Member einer Klasse oder eine eigenständige Funktion sein, die kein Member einer Klasse ist.

*dwData*<br/>
[in] Anwendungsdefinierter Wert, der an die Vergleichsfunktion übergeben wird.

### <a name="return-value"></a>Rückgabewert

TRUE, wenn die Methode erfolgreich ist; andernfalls FALSE.

### <a name="remarks"></a>Bemerkungen

Diese Methode ändert den Index jedes Elements, um die neue Sequenz widerzuspiegeln.

Die Vergleichsfunktion *pfnCompare*hat die folgende Form:

```
int CALLBACK CompareFunc(LPARAM lParam1,
    LPARAM lParam2,
    LPARAM lParamSort);
```

Die Vergleichsfunktion muss einen negativen Wert zurückgeben, wenn das erste Element dem zweiten vorangestellt werden soll, ein positiver Wert, wenn das erste Element dem zweiten folgen soll, oder Null, wenn die beiden Elemente gleich sind.

Der *Parameter lParam1* ist der 32-Bit-Wert, der dem ersten verglichenen Element zugeordnet ist, und der *lParam2-Parameter* ist der Wert, der dem zweiten Element zugeordnet ist. Dies sind die Werte, die im *lParam-Member* der [LVITEM-Struktur](/windows/win32/api/commctrl/ns-commctrl-lvitemw) der Elemente angegeben wurden, als sie in die Liste eingefügt wurden. Der Parameter *lParamSort* entspricht dem *dwData-Wert.*

Diese Methode sendet die [LVM_SORTITEMS](/windows/win32/Controls/lvm-sortitems) Nachricht, die im Windows SDK beschrieben wird.

### <a name="example"></a>Beispiel

Im Folgenden finden Sie eine einfache Vergleichsfunktion, die dazu führt, dass Elemente nach ihren *lParam-Werten* sortiert werden.

```cpp
// Sort items by associated lParam
int CALLBACK CListCtrlDlg::MyCompareProc(LPARAM lParam1, LPARAM lParam2,
    LPARAM lParamSort)
{
    UNREFERENCED_PARAMETER(lParamSort);
    return (int)(lParam1 - lParam2);
}
```

```cpp
// Sort the items by passing in the comparison function.
void CListCtrlDlg::Sort()
{
    m_myListCtrl.SortItems(&CListCtrlDlg::MyCompareProc, 0);
}
```

## <a name="clistctrlsortitemsex"></a><a name="sortitemsex"></a>CListCtrl::SortItemsEx

Sortiert die Elemente des aktuellen Listenansichtssteuerelements mithilfe einer anwendungsdefinierten Vergleichsfunktion.

```
BOOL SortItemsEx(
    PFNLVCOMPARE pfnCompare,
    DWORD_PTR dwData);
```

### <a name="parameters"></a>Parameter

|Parameter|BESCHREIBUNG|
|---------------|-----------------|
|*pfnCompare*|[in] Adresse der anwendungsdefinierten Vergleichsfunktion.<br /><br /> Der Sortiervorgang ruft die Vergleichsfunktion jedes Mal auf, wenn die relative Reihenfolge von zwei Listenelementen bestimmt werden muss. Die Vergleichsfunktion muss entweder ein statischer Member einer Klasse oder eine eigenständige Funktion sein, die kein Member einer Klasse ist.|
|*dwData*|[in] Anwendungsdefinierter Wert, der an die Vergleichsfunktion übergeben wird.|

### <a name="return-value"></a>Rückgabewert

TRUE, wenn diese Methode erfolgreich ist; andernfalls FALSE.

### <a name="remarks"></a>Bemerkungen

Diese Methode ändert den Index jedes Elements, um die neue Sequenz widerzuspiegeln.

Die Vergleichsfunktion *pfnCompare*hat die folgende Form:

```
int CALLBACK CompareFunc(LPARAM lParam1,
    LPARAM lParam2,
    LPARAM lParamSort);
```

Diese Meldung ist wie [LVM_SORTITEMS](/windows/win32/Controls/lvm-sortitems), mit Ausnahme des Informationstyps, der an die Vergleichsfunktion übergeben wird. In [LVM_SORTITEMS](/windows/win32/Controls/lvm-sortitems) *sind lParam1* und *lParam2* die Werte der zu vergleichenden Elemente. In [LVM_SORTITEMSEX](/windows/win32/Controls/lvm-sortitemsex)ist *lParam1* der aktuelle Index des ersten zu vergleichenden Elements und *lParam2* der aktuelle Index des zweiten Elements. Sie können eine [LVM_GETITEMTEXT](/windows/win32/Controls/lvm-getitemtext) Nachricht senden, um weitere Informationen zu einem Element abzurufen.

Die Vergleichsfunktion muss einen negativen Wert zurückgeben, wenn das erste Element dem zweiten vorangestellt werden soll, ein positiver Wert, wenn das erste Element dem zweiten folgen soll, oder Null, wenn die beiden Elemente gleich sind.

> [!NOTE]
> Während des Sortiervorgangs sind die Listenansichtsinhalte instabil. Wenn die Rückruffunktion andere Nachrichten an das Listenansichtssteuerelement als [LVM_GETITEM](/windows/win32/Controls/lvm-getitem)sendet, sind die Ergebnisse unvorhersehbar.

Diese Methode sendet die [LVM_SORTITEMSEX](/windows/win32/Controls/lvm-sortitemsex) Nachricht, die im Windows SDK beschrieben wird.

### <a name="example"></a>Beispiel

Im folgenden Codebeispiel wird `m_listCtrl`eine Variable definiert, , die für den Zugriff auf das aktuelle Listenansichtssteuerelement verwendet wird. Diese Variable wird im nächsten Beispiel verwendet.

```cpp
public:
    // Variable used to access the list control.
    CListCtrl m_listCtrl;
```

### <a name="example"></a>Beispiel

Im folgenden Codebeispiel `SortItemEx` wird die Methode veranschaulicht. In einem früheren Abschnitt dieses Codebeispiels haben wir ein Listenansichtssteuerelement erstellt, das zwei Spalten mit dem Titel "ClientID" und "Grade" in einer Berichtsansicht anzeigt. Im folgenden Codebeispiel wird die Tabelle mithilfe der Werte in der Spalte "Grade" sortiert.

```cpp
// The ListCompareFunc() method is a global function used by SortItemEx().
int CALLBACK ListCompareFunc(
                             LPARAM lParam1,
                             LPARAM lParam2,
                             LPARAM lParamSort)
{
    CListCtrl* pListCtrl = (CListCtrl*) lParamSort;
    CString    strItem1 = pListCtrl->GetItemText(static_cast<int>(lParam1), 1);
    CString    strItem2 = pListCtrl->GetItemText(static_cast<int>(lParam2), 1)
    int x1 = _tstoi(strItem1.GetBuffer());
    int x2 = _tstoi(strItem2.GetBuffer());
    int result = 0;
    if ((x1 - x2) < 0)
        result = -1;
    else if ((x1 - x2) == 0)
        result = 0;
    else
        result = 1;

    return result;
}

void CCListCtrl_s2Dlg::OnBnClickedButton1()
{
    // SortItemsEx
    m_listCtrl.SortItemsEx( ListCompareFunc, (LPARAM)&m_listCtrl );
}
```

## <a name="clistctrlsubitemhittest"></a><a name="subitemhittest"></a>CListCtrl::SubItemHitTest

Bestimmt, welches Listenansichtselement sich ggf. an einer bestimmten Position befindet.

```
int SubItemHitTest(LPLVHITTESTINFO pInfo);
```

### <a name="parameters"></a>Parameter

*Pinfo*<br/>
Ein Zeiger auf die [LVHITTESTINFO-Struktur.](/windows/win32/api/commctrl/ns-commctrl-lvhittestinfo)

### <a name="return-value"></a>Rückgabewert

Der einbasierte Index des Elements oder Unterelements, das getestet wird (falls vorhanden), oder -1 auf andere Weise.

### <a name="remarks"></a>Bemerkungen

Diese Memberfunktion implementiert das Verhalten des Win32-Makros [ListView_SubItemHitTest](/windows/win32/api/commctrl/nf-commctrl-listview_subitemhittest), wie im Windows SDK beschrieben.

### <a name="example"></a>Beispiel

```cpp
void CListCtrlDlg::OnDblClk(NMHDR* pNMHDR, LRESULT* pResult)
{
    UNREFERENCED_PARAMETER(pResult);
    LPNMITEMACTIVATE pia = (LPNMITEMACTIVATE)pNMHDR;
    LVHITTESTINFO lvhti;

    // Clear the subitem text the user clicked on.
    lvhti.pt = pia->ptAction;
    m_myListCtrl.SubItemHitTest(&lvhti);

    if (lvhti.flags & LVHT_ONITEMLABEL)
    {
        m_myListCtrl.SetItemText(lvhti.iItem, lvhti.iSubItem, NULL);
    }
}
```

## <a name="clistctrlupdate"></a><a name="update"></a>CListCtrl::Update

Erzwingt, dass das Listenansichtssteuerelement das von *nItem*angegebene Element neu zeichnet.

```
BOOL Update(int nItem);
```

### <a name="parameters"></a>Parameter

*nItem*<br/>
Index des zu aktualisierenden Elements.

### <a name="return-value"></a>Rückgabewert

Ungleich 0, wenn erfolgreich, andernfalls 0.

### <a name="remarks"></a>Bemerkungen

Diese Funktion ordnet auch das Listenansichtssteuerelement an, wenn es den stil LVS_AUTOARRANGE hat.

### <a name="example"></a>Beispiel

Siehe Beispiel für [CListCtrl::GetSelectedCount](#getselectedcount).

## <a name="see-also"></a>Siehe auch

[MFC-Beispiel ROWLIST](../../overview/visual-cpp-samples.md)<br/>
[CWnd-Klasse](cwnd-class.md)<br/>
[Hierarchiediagramm](../hierarchy-chart.md)<br/>
[CImageList-Klasse](cimagelist-class.md)
