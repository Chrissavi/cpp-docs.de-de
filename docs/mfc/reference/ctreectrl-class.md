---
title: CTreeCtrl Class
ms.date: 11/04/2016
f1_keywords:
- CTreeCtrl
- AFXCMN/CTreeCtrl
- AFXCMN/CTreeCtrl::CTreeCtrl
- AFXCMN/CTreeCtrl::Create
- AFXCMN/CTreeCtrl::CreateDragImage
- AFXCMN/CTreeCtrl::CreateEx
- AFXCMN/CTreeCtrl::DeleteAllItems
- AFXCMN/CTreeCtrl::DeleteItem
- AFXCMN/CTreeCtrl::EditLabel
- AFXCMN/CTreeCtrl::EndEditLabelNow
- AFXCMN/CTreeCtrl::EnsureVisible
- AFXCMN/CTreeCtrl::Expand
- AFXCMN/CTreeCtrl::GetBkColor
- AFXCMN/CTreeCtrl::GetCheck
- AFXCMN/CTreeCtrl::GetChildItem
- AFXCMN/CTreeCtrl::GetCount
- AFXCMN/CTreeCtrl::GetDropHilightItem
- AFXCMN/CTreeCtrl::GetEditControl
- AFXCMN/CTreeCtrl::GetExtendedStyle
- AFXCMN/CTreeCtrl::GetFirstVisibleItem
- AFXCMN/CTreeCtrl::GetImageList
- AFXCMN/CTreeCtrl::GetIndent
- AFXCMN/CTreeCtrl::GetInsertMarkColor
- AFXCMN/CTreeCtrl::GetItem
- AFXCMN/CTreeCtrl::GetItemData
- AFXCMN/CTreeCtrl::GetItemExpandedImageIndex
- AFXCMN/CTreeCtrl::GetItemHeight
- AFXCMN/CTreeCtrl::GetItemImage
- AFXCMN/CTreeCtrl::GetItemPartRect
- AFXCMN/CTreeCtrl::GetItemRect
- AFXCMN/CTreeCtrl::GetItemState
- AFXCMN/CTreeCtrl::GetItemStateEx
- AFXCMN/CTreeCtrl::GetItemText
- AFXCMN/CTreeCtrl::GetLastVisibleItem
- AFXCMN/CTreeCtrl::GetLineColor
- AFXCMN/CTreeCtrl::GetNextItem
- AFXCMN/CTreeCtrl::GetNextSiblingItem
- AFXCMN/CTreeCtrl::GetNextVisibleItem
- AFXCMN/CTreeCtrl::GetParentItem
- AFXCMN/CTreeCtrl::GetPrevSiblingItem
- AFXCMN/CTreeCtrl::GetPrevVisibleItem
- AFXCMN/CTreeCtrl::GetRootItem
- AFXCMN/CTreeCtrl::GetScrollTime
- AFXCMN/CTreeCtrl::GetSelectedCount
- AFXCMN/CTreeCtrl::GetSelectedItem
- AFXCMN/CTreeCtrl::GetTextColor
- AFXCMN/CTreeCtrl::GetToolTips
- AFXCMN/CTreeCtrl::GetVisibleCount
- AFXCMN/CTreeCtrl::HitTest
- AFXCMN/CTreeCtrl::InsertItem
- AFXCMN/CTreeCtrl::ItemHasChildren
- AFXCMN/CTreeCtrl::MapAccIdToItem
- AFXCMN/CTreeCtrl::MapItemToAccID
- AFXCMN/CTreeCtrl::Select
- AFXCMN/CTreeCtrl::SelectDropTarget
- AFXCMN/CTreeCtrl::SelectItem
- AFXCMN/CTreeCtrl::SelectSetFirstVisible
- AFXCMN/CTreeCtrl::SetAutoscrollInfo
- AFXCMN/CTreeCtrl::SetBkColor
- AFXCMN/CTreeCtrl::SetCheck
- AFXCMN/CTreeCtrl::SetExtendedStyle
- AFXCMN/CTreeCtrl::SetImageList
- AFXCMN/CTreeCtrl::SetIndent
- AFXCMN/CTreeCtrl::SetInsertMark
- AFXCMN/CTreeCtrl::SetInsertMarkColor
- AFXCMN/CTreeCtrl::SetItem
- AFXCMN/CTreeCtrl::SetItemData
- AFXCMN/CTreeCtrl::SetItemExpandedImageIndex
- AFXCMN/CTreeCtrl::SetItemHeight
- AFXCMN/CTreeCtrl::SetItemImage
- AFXCMN/CTreeCtrl::SetItemState
- AFXCMN/CTreeCtrl::SetItemStateEx
- AFXCMN/CTreeCtrl::SetItemText
- AFXCMN/CTreeCtrl::SetLineColor
- AFXCMN/CTreeCtrl::SetScrollTime
- AFXCMN/CTreeCtrl::SetTextColor
- AFXCMN/CTreeCtrl::SetToolTips
- AFXCMN/CTreeCtrl::ShowInfoTip
- AFXCMN/CTreeCtrl::SortChildren
- AFXCMN/CTreeCtrl::SortChildrenCB
helpviewer_keywords:
- CTreeCtrl [MFC], CTreeCtrl
- CTreeCtrl [MFC], Create
- CTreeCtrl [MFC], CreateDragImage
- CTreeCtrl [MFC], CreateEx
- CTreeCtrl [MFC], DeleteAllItems
- CTreeCtrl [MFC], DeleteItem
- CTreeCtrl [MFC], EditLabel
- CTreeCtrl [MFC], EndEditLabelNow
- CTreeCtrl [MFC], EnsureVisible
- CTreeCtrl [MFC], Expand
- CTreeCtrl [MFC], GetBkColor
- CTreeCtrl [MFC], GetCheck
- CTreeCtrl [MFC], GetChildItem
- CTreeCtrl [MFC], GetCount
- CTreeCtrl [MFC], GetDropHilightItem
- CTreeCtrl [MFC], GetEditControl
- CTreeCtrl [MFC], GetExtendedStyle
- CTreeCtrl [MFC], GetFirstVisibleItem
- CTreeCtrl [MFC], GetImageList
- CTreeCtrl [MFC], GetIndent
- CTreeCtrl [MFC], GetInsertMarkColor
- CTreeCtrl [MFC], GetItem
- CTreeCtrl [MFC], GetItemData
- CTreeCtrl [MFC], GetItemExpandedImageIndex
- CTreeCtrl [MFC], GetItemHeight
- CTreeCtrl [MFC], GetItemImage
- CTreeCtrl [MFC], GetItemPartRect
- CTreeCtrl [MFC], GetItemRect
- CTreeCtrl [MFC], GetItemState
- CTreeCtrl [MFC], GetItemStateEx
- CTreeCtrl [MFC], GetItemText
- CTreeCtrl [MFC], GetLastVisibleItem
- CTreeCtrl [MFC], GetLineColor
- CTreeCtrl [MFC], GetNextItem
- CTreeCtrl [MFC], GetNextSiblingItem
- CTreeCtrl [MFC], GetNextVisibleItem
- CTreeCtrl [MFC], GetParentItem
- CTreeCtrl [MFC], GetPrevSiblingItem
- CTreeCtrl [MFC], GetPrevVisibleItem
- CTreeCtrl [MFC], GetRootItem
- CTreeCtrl [MFC], GetScrollTime
- CTreeCtrl [MFC], GetSelectedCount
- CTreeCtrl [MFC], GetSelectedItem
- CTreeCtrl [MFC], GetTextColor
- CTreeCtrl [MFC], GetToolTips
- CTreeCtrl [MFC], GetVisibleCount
- CTreeCtrl [MFC], HitTest
- CTreeCtrl [MFC], InsertItem
- CTreeCtrl [MFC], ItemHasChildren
- CTreeCtrl [MFC], MapAccIdToItem
- CTreeCtrl [MFC], MapItemToAccID
- CTreeCtrl [MFC], Select
- CTreeCtrl [MFC], SelectDropTarget
- CTreeCtrl [MFC], SelectItem
- CTreeCtrl [MFC], SelectSetFirstVisible
- CTreeCtrl [MFC], SetAutoscrollInfo
- CTreeCtrl [MFC], SetBkColor
- CTreeCtrl [MFC], SetCheck
- CTreeCtrl [MFC], SetExtendedStyle
- CTreeCtrl [MFC], SetImageList
- CTreeCtrl [MFC], SetIndent
- CTreeCtrl [MFC], SetInsertMark
- CTreeCtrl [MFC], SetInsertMarkColor
- CTreeCtrl [MFC], SetItem
- CTreeCtrl [MFC], SetItemData
- CTreeCtrl [MFC], SetItemExpandedImageIndex
- CTreeCtrl [MFC], SetItemHeight
- CTreeCtrl [MFC], SetItemImage
- CTreeCtrl [MFC], SetItemState
- CTreeCtrl [MFC], SetItemStateEx
- CTreeCtrl [MFC], SetItemText
- CTreeCtrl [MFC], SetLineColor
- CTreeCtrl [MFC], SetScrollTime
- CTreeCtrl [MFC], SetTextColor
- CTreeCtrl [MFC], SetToolTips
- CTreeCtrl [MFC], ShowInfoTip
- CTreeCtrl [MFC], SortChildren
- CTreeCtrl [MFC], SortChildrenCB
ms.assetid: 96e20031-6161-4143-8c12-8d1816c66d90
ms.openlocfilehash: 2428c94eaa5dd371d58680f6317173709f684507
ms.sourcegitcommit: 28eae422049ac3381c6b1206664455dbb56cbfb6
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 05/31/2019
ms.locfileid: "66449573"
---
# <a name="ctreectrl-class"></a>CTreeCtrl Class

Stellt die Funktionalität des allgemeinen Windows-Strukturansicht-Steuerelements bereit.

## <a name="syntax"></a>Syntax

```
class CTreeCtrl : public CWnd
```

## <a name="members"></a>Member

### <a name="public-constructors"></a>Öffentliche Konstruktoren

|Name|Beschreibung|
|----------|-----------------|
|[CTreeCtrl::CTreeCtrl](#ctreectrl)|Erstellt ein `CTreeCtrl`-Objekt.|

### <a name="public-methods"></a>Öffentliche Methoden

|Name|Beschreibung|
|----------|-----------------|
|[CTreeCtrl::Create](#create)|Erstellt ein Strukturansicht-Steuerelement, und fügt sie an einer `CTreeCtrl` Objekt.|
|[CTreeCtrl::CreateDragImage](#createdragimage)|Erstellt eine Bitmap ziehen, für das angegebene Strukturansichtselement.|
|[CTreeCtrl::CreateEx](#createex)|Erstellt ein Strukturansicht-Steuerelement mit dem angegebenen erweiterten Stile für Windows und fügt sie an einer `CTreeCtrl` Objekt.|
|[CTreeCtrl::DeleteAllItems](#deleteallitems)|Löscht alle Elemente in einem Strukturansicht-Steuerelement.|
|[CTreeCtrl::DeleteItem](#deleteitem)|Löscht ein neues Element in einem Strukturansicht-Steuerelement.|
|[CTreeCtrl::EditLabel](#editlabel)|Eine angegebene Struktur Ansicht Element direkt bearbeitet wird.|
|[CTreeCtrl::EndEditLabelNow](#endeditlabelnow)|Bricht den Bearbeitungsvorgang für die Bezeichnung eines Baumansicht-Elements im aktuellen Strukturansicht Steuerelement ab.|
|[CTreeCtrl::EnsureVisible](#ensurevisible)|Stellt sicher, dass ein Strukturansichtselement in der Strukturansicht-Steuerelement angezeigt wird.|
|[CTreeCtrl::Expand](#expand)|Erweitert oder reduziert, die untergeordneten Elemente der angegebenen Strukturansichtselements.|
|[CTreeCtrl::GetBkColor](#getbkcolor)|Ruft die aktuelle Hintergrundfarbe des Steuerelements ab.|
|[CTreeCtrl::GetCheck](#getcheck)|Ruft den Aktivierungszustand des ein Strukturelement-Steuerelement ab.|
|[CTreeCtrl::GetChildItem](#getchilditem)|Ruft das untergeordnete Element eines angegebenen Strukturansichtselements ab.|
|[CTreeCtrl::GetCount](#getcount)|Ruft die Anzahl der Strukturelemente, die einem Strukturansicht-Steuerelement zugeordnet.|
|[CTreeCtrl::GetDropHilightItem](#getdrophilightitem)|Ruft das Ziel eines Drag & Drop-Vorgangs ab.|
|[CTreeCtrl::GetEditControl](#geteditcontrol)|Ruft das Handle des Bearbeitungssteuerelements verwendet, um das angegebene Strukturansichtselement zu bearbeiten.|
|[CTreeCtrl::GetExtendedStyle](#getextendedstyle)|Ruft die erweiterten Stile, die das aktuelle Strukturansicht-Steuerelement verwendet wird.|
|[CTreeCtrl::GetFirstVisibleItem](#getfirstvisibleitem)|Ruft das erste sichtbare Element der angegebenen Strukturansichtselements ab.|
|[CTreeCtrl::GetImageList](#getimagelist)|Ruft das Handle der Bildliste zugeordneten einem Strukturansicht-Steuerelement ab.|
|[CTreeCtrl::GetIndent](#getindent)|Ruft den Offset (in Pixel) des ein Strukturansichtselement aus seinem übergeordneten Element ab.|
|[CTreeCtrl::GetInsertMarkColor](#getinsertmarkcolor)|Ruft die Farbe für die Einfügemarke für die Strukturansicht gezeichnet werden soll.|
|[CTreeCtrl::GetItem](#getitem)|Ruft die Attribute eines angegebenen Strukturansichtselements ab.|
|[CTreeCtrl::GetItemData](#getitemdata)|Gibt den 32-Bit-anwendungsspezifische Wert einem Element zugeordnet.|
|[CTreeCtrl::GetItemExpandedImageIndex](#getitemexpandedimageindex)|Ruft den Index des Bildes, das angezeigt wird, wenn das angegebene Element des aktuellen Baumansicht-Steuerelements im erweiterten Zustand befindet.|
|[CTreeCtrl::GetItemHeight](#getitemheight)|Ruft die aktuelle Höhe der Liste die Struktur ab.|
|[CTreeCtrl::GetItemImage](#getitemimage)|Ruft ab, die einem Element zugeordneten Bilder.|
|[CTreeCtrl::GetItemPartRect](#getitempartrect)|Ruft das umschließende Rechteck für einen bestimmten Abschnitt eines angegebenen Elements in das aktuelle Strukturansicht-Steuerelement ab.|
|[CTreeCtrl::GetItemRect](#getitemrect)|Ruft das umschließende Rechteck des ein Strukturansichtselement ab.|
|[CTreeCtrl::GetItemState](#getitemstate)|Gibt den Status eines Elements zurück.|
|[CTreeCtrl::GetItemStateEx](#getitemstateex)|Ruft den erweiterten Status des angegebenen Elements in das aktuelle Strukturansicht-Steuerelement ab.|
|[CTreeCtrl::GetItemText](#getitemtext)|Gibt den Text eines Elements zurück.|
|[CTreeCtrl::GetLastVisibleItem](#getlastvisibleitem)|Ruft die erweiterten letzten Element im aktuellen Strukturansicht Steuerelement ab.|
|[CTreeCtrl::GetLineColor](#getlinecolor)|Ruft die aktuelle Zeile Farbe für das Strukturansicht-Steuerelement ab.|
|[CTreeCtrl::GetNextItem](#getnextitem)|Ruft das nächste Strukturansichtselement, das eine bestimmte Beziehung entspricht.|
|[CTreeCtrl::GetNextSiblingItem](#getnextsiblingitem)|Ruft das nächste gleichgeordnete der angegebenen Strukturansichtselements ab.|
|[CTreeCtrl::GetNextVisibleItem](#getnextvisibleitem)|Ruft das nächste sichtbare Element der angegebenen Strukturansichtselements ab.|
|[CTreeCtrl::GetParentItem](#getparentitem)|Ruft das übergeordnete Element der angegebenen Strukturansichtselements ab.|
|[CTreeCtrl::GetPrevSiblingItem](#getprevsiblingitem)|Ruft das vorhergehende nebengeordnete Element der angegebenen Strukturansichtselements ab.|
|[CTreeCtrl::GetPrevVisibleItem](#getprevvisibleitem)|Ruft das vorherige sichtbare Element der angegebenen Strukturansichtselements ab.|
|[CTreeCtrl::GetRootItem](#getrootitem)|Ruft den Stamm der angegebenen Strukturansichtselements ab.|
|[CTreeCtrl::GetScrollTime](#getscrolltime)|Ruft den maximalen Bildlauf Uhrzeit für das Strukturansicht-Steuerelement ab.|
|[CTreeCtrl::GetSelectedCount](#getselectedcount)|Ruft die Anzahl der ausgewählten Elemente in das aktuelle Strukturansicht-Steuerelement.|
|[CTreeCtrl::GetSelectedItem](#getselecteditem)|Ruft das aktuell ausgewählte Strukturansichtselement ab.|
|[CTreeCtrl::GetTextColor](#gettextcolor)|Ruft die aktuelle Textfarbe des Steuerelements ab.|
|[CTreeCtrl::GetToolTips](#gettooltips)|Ruft das Handle für das untergeordnete Element von einem Strukturansicht-Steuerelement verwendete QuickInfo-Steuerelement ab.|
|[CTreeCtrl::GetVisibleCount](#getvisiblecount)|Ruft die Anzahl der sichtbaren Strukturelemente, die einem Strukturansicht-Steuerelement zugeordnet.|
|[CTreeCtrl::HitTest](#hittest)|Gibt die aktuelle Position des Cursors im Zusammenhang mit der `CTreeCtrl` Objekt.|
|[CTreeCtrl::InsertItem](#insertitem)|Fügt ein neues Element in einem Strukturansicht-Steuerelement.|
|[CTreeCtrl::ItemHasChildren](#itemhaschildren)|Gibt, die ungleich NULL, wenn das angegebene Element über untergeordnete Elemente verfügt.|
|[CTreeCtrl::MapAccIdToItem](#mapaccidtoitem)|Ordnet den Bezeichner angegebene Zugriff auf das Handle für ein Strukturansichtselement im aktuellen Strukturansicht Steuerelement.|
|[CTreeCtrl::MapItemToAccID](#mapitemtoaccid)|Ordnet das angegebene Handle ein Strukturansichtselement im aktuellen Strukturansicht Steuerelement auf einen Bezeichner für die Barrierefreiheit.|
|[CTreeCtrl::Select](#select)|Auswählt, führt einen Bildlauf in der Ansicht oder ein angegebenen Strukturansichtselements zeichnet.|
|[CTreeCtrl::SelectDropTarget](#selectdroptarget)|Zeichnet das Strukturelement als Ziel eines Drag & Drop-Vorgangs an.|
|[CTreeCtrl::SelectItem](#selectitem)|Wählt aus einer angegebenen Strukturansichtselement.|
|[CTreeCtrl::SelectSetFirstVisible](#selectsetfirstvisible)|Wählt aus einer angegebenen Strukturansichtselement als das erste sichtbare Element.|
|[CTreeCtrl::SetAutoscrollInfo](#setautoscrollinfo)|Legt die Rate der automatischen Bildlauf des aktuellen Baumansicht-Steuerelements fest.|
|[CTreeCtrl::SetBkColor](#setbkcolor)|Legt die Hintergrundfarbe des Steuerelements fest.|
|[CTreeCtrl::SetCheck](#setcheck)|Legt den Aktivierungszustand des ein Strukturelement-Steuerelement fest.|
|[CTreeCtrl::SetExtendedStyle](#setextendedstyle)|Legt fest, die erweiterten Stile für das aktuelle Strukturansicht-Steuerelement.|
|[CTreeCtrl::SetImageList](#setimagelist)|Legt das Handle der Bildliste mit einem Strukturansicht-Steuerelement verknüpft ist.|
|[CTreeCtrl::SetIndent](#setindent)|Legt den Offset (in Pixel) ein Strukturansichtselement von seinem übergeordneten Element fest.|
|[CTreeCtrl::SetInsertMark](#setinsertmark)|Legt die Einfügemarke in einem Strukturansicht-Steuerelement fest.|
|[CTreeCtrl::SetInsertMarkColor](#setinsertmarkcolor)|Legt die Farbe für die Einfügemarke für die Strukturansicht gezeichnet werden soll.|
|[CTreeCtrl::SetItem](#setitem)|Legt die Attribute eines angegebenen Strukturansichtselements fest.|
|[CTreeCtrl::SetItemData](#setitemdata)|Legt den 32-Bit-anwendungsspezifische Wert einem Element zugeordnet.|
|[CTreeCtrl::SetItemExpandedImageIndex](#setitemexpandedimageindex)|Legt fest, den Index des Bildes, das angezeigt wird, wenn das angegebene Element des aktuellen Baumansicht-Steuerelements im erweiterten Zustand befindet.|
|[CTreeCtrl::SetItemHeight](#setitemheight)|Legt die Höhe der Struktur Elemente anzeigen.|
|[CTreeCtrl::SetItemImage](#setitemimage)|Ordnet die Bilder zu einem Element.|
|[CTreeCtrl::SetItemState](#setitemstate)|Legt den Zustand eines Elements.|
|[CTreeCtrl::SetItemStateEx](#setitemstateex)|Legt den erweiterten Zustand des angegebenen Elements in das aktuelle Strukturansicht-Steuerelement fest.|
|[CTreeCtrl::SetItemText](#setitemtext)|Legt den Text eines Elements fest.|
|[CTreeCtrl::SetLineColor](#setlinecolor)|Legt die aktuelle Zeile Farbe für das Strukturansicht-Steuerelement fest.|
|[CTreeCtrl::SetScrollTime](#setscrolltime)|Legt den maximalen Bildlauf Zeit für das Strukturansicht-Steuerelement fest.|
|[CTreeCtrl::SetTextColor](#settextcolor)|Legt die Textfarbe des Steuerelements fest.|
|[CTreeCtrl::SetToolTips](#settooltips)|Legt ein Strukturansicht-Steuerelement die untergeordneten QuickInfo-Steuerelement fest.|
|[CTreeCtrl::ShowInfoTip](#showinfotip)|Zeigt den Infotipp für das angegebene Element im aktuellen Strukturansicht Steuerelement.|
|[CTreeCtrl::SortChildren](#sortchildren)|Sortiert die untergeordneten Elemente eines angegebenen übergeordneten Elements.|
|[CTreeCtrl::SortChildrenCB](#sortchildrencb)|Sortiert die untergeordneten Elemente eines angegebenen übergeordneten Elements mithilfe einer Funktion der Anwendung definierte Sortierung an.|

## <a name="remarks"></a>Hinweise

Ein "Strukturansicht-Steuerelement" ist ein Fenster, in dem eine hierarchische Liste der Elemente, z. B. die Spaltenüberschriften in einem Dokument, die Einträge in einem Index oder die Dateien und Verzeichnisse auf einem Datenträger angezeigt. Jedes Element besteht aus einer Bezeichnung und einem optionalen als Bitmap verfügbares Bild aus kann, und jedes Element eine Liste von Unterelementen zugeordnet. Durch Klicken auf ein Element aus, kann der Benutzer erweitern und Reduzieren der zugehörigen Unterelemente.

Dieses Steuerelement (und somit die `CTreeCtrl` Klasse) ist nur für Programme, die unter Windows 98 und Windows NT, Version 4 und höher.

Weitere Informationen zur Verwendung von `CTreeCtrl`, finden Sie unter:

- [Steuerelemente](../../mfc/controls-mfc.md)

- [Verwenden von CTreeCtrl](../../mfc/using-ctreectrl.md)

- [Struktur anzeigen Steuerelementverweis](/windows/desktop/Controls/tree-view-control-reference) in das Windows SDK.

## <a name="inheritance-hierarchy"></a>Vererbungshierarchie

[CObject](../../mfc/reference/cobject-class.md)

[CCmdTarget](../../mfc/reference/ccmdtarget-class.md)

[CWnd](../../mfc/reference/cwnd-class.md)

`CTreeCtrl`

## <a name="requirements"></a>Anforderungen

**Header:** afxcmn.h

##  <a name="create"></a>  CTreeCtrl::Create

Wenn Sie die Strukturansicht-Steuerelement in einer Dialogfeldvorlage angeben oder bei Verwendung von [CTreeView](../../mfc/reference/ctreeview-class.md), Ihre Strukturansicht-Steuerelement wird automatisch erstellt, wenn das Dialogfeld oder eine Sicht erstellt wird.

```
virtual BOOL Create(
    DWORD dwStyle,
    const RECT& rect,
    CWnd* pParentWnd,
    UINT nID);
```

### <a name="parameters"></a>Parameter

*dwStyle*<br/>
Gibt den Strukturansicht-Steuerelement Stil. Anwenden von Window-Stile, die in beschriebenen [CreateWindow](/windows/desktop/api/winuser/nf-winuser-createwindowa), und eine beliebige Kombination von [Struktur Ansicht der Stile von Listensteuerelementen](/windows/desktop/Controls/tree-view-control-window-styles) wie beschrieben in das Windows SDK.

*rect*<br/>
Gibt an, des Strukturansicht-Steuerelements die Größe und Position. Es kann sein, entweder eine [CRect](../../atl-mfc-shared/reference/crect-class.md) Objekt oder ein [RECT](/previous-versions/dd162897\(v=vs.85\)) Struktur.

*pParentWnd*<br/>
Gibt an, dem Strukturansicht-Steuerelement des übergeordneten Fensters, in der Regel eine `CDialog`. Es darf nicht NULL sein.

*nID*<br/>
Gibt den Strukturansicht-Steuerelement ID an.

### <a name="return-value"></a>Rückgabewert

Ungleich NULL, wenn die Initialisierung erfolgreich war; andernfalls 0.

### <a name="remarks"></a>Hinweise

Wenn Sie die Strukturansicht-Steuerelement als untergeordnetes Fenster eines anderen Fensters erstellen möchten, verwenden Sie die `Create` Member-Funktion. Bei der Erstellung dem Strukturansicht-Steuerelement mit `Create`, müssen Sie übergeben sie WS_VISIBLE, zusätzlich zu anderen Formate der Struktur anzeigen.

Sie erstellen eine `CTreeCtrl` in zwei Schritten. Beim ersten Aufruf der Konstruktor, rufen Sie anschließend `Create`, die das Strukturansicht-Steuerelement erstellt, und fügt es der `CTreeCtrl` Objekt.

Rufen Sie zum Erstellen ein Strukturansicht-Steuerelement mit erweiterten Fensterstile [CreateEx](#createex) anstelle von `Create`.

### <a name="example"></a>Beispiel

[!code-cpp[NVC_MFC_CTreeCtrl#1](../../mfc/reference/codesnippet/cpp/ctreectrl-class_1.cpp)]

##  <a name="createex"></a>  CTreeCtrl::CreateEx

Mit dieser Funktion wird zum Erstellen eines Steuerelements (ein untergeordnetes Fenster), und ordnen sie die `CTreeCtrl` Objekt.

```
virtual BOOL CreateEx(
    DWORD dwExStyle,
    DWORD dwStyle,
    const RECT& rect,
    CWnd* pParentWnd,
    UINT nID);
```

### <a name="parameters"></a>Parameter

*dwExStyle*<br/>
Gibt den erweiterten Stil des Steuerelements erstellt wird. Eine Liste der erweiterten Windows-Stile, finden Sie unter den *DwExStyle* -Parameter für [CreateWindowEx](/windows/desktop/api/winuser/nf-winuser-createwindowexa) im Windows SDK.

*dwStyle*<br/>
Gibt den Strukturansicht-Steuerelement Stil. Anwenden von Window-Stile, die in beschriebenen [CreateWindow](/windows/desktop/api/winuser/nf-winuser-createwindowa), und eine beliebige Kombination von [Struktur Ansicht der Stile von Listensteuerelementen](/windows/desktop/Controls/tree-view-control-window-styles) wie beschrieben in das Windows SDK.

*rect*<br/>
Ein Verweis auf eine [RECT](/previous-versions/dd162897\(v=vs.85\)) Struktur, die die Größe und Position des Fensters erstellt werden, in Clientkoordinaten des beschreibt *pParentWnd*.

*pParentWnd*<br/>
Ein Zeiger auf das Fenster, das übergeordnete Element des Steuerelements ist.

*nID*<br/>
Der ID des Steuerelements untergeordneten Fensters mit.

### <a name="return-value"></a>Rückgabewert

Ungleich NULL, wenn erfolgreich, andernfalls 0.

### <a name="remarks"></a>Hinweise

Verwendung `CreateEx` anstelle von [erstellen](#create) anzuwendende Erweiterte Windows-Stile, angegeben durch den Wert der Windows-erweiterten Stil **WS_EX_** .

##  <a name="createdragimage"></a>  CTreeCtrl::CreateDragImage

Mit dieser Funktion können eine ziehen Bitmap für das angegebene Element in einem Strukturansicht-Steuerelement erstellen, erstellen eine Bildliste für die Bitmap und fügen die Bitmap der Bildliste.

```
CImageList* CreateDragImage(HTREEITEM hItem);
```

### <a name="parameters"></a>Parameter

*hItem*<br/>
Handle des Strukturelements gezogen werden.

### <a name="return-value"></a>Rückgabewert

Zeiger auf die Liste der Bilder, die die Bitmap ziehen hinzugefügt wurde, wenn erfolgreich; andernfalls NULL.

### <a name="remarks"></a>Hinweise

Eine Anwendung verwendet die Bildliste Funktionen zur Anzeige des Bilds, wenn das Element gezogen wird.

Die `CImageList` Objekt wird dauerhaft ausgeführt, und Sie müssen es löschen, Abschluss. Zum Beispiel:

[!code-cpp[NVC_MFC_CTreeCtrl#2](../../mfc/reference/codesnippet/cpp/ctreectrl-class_2.cpp)]

##  <a name="ctreectrl"></a>  CTreeCtrl::CTreeCtrl

Erstellt ein `CTreeCtrl`-Objekt.

```
CTreeCtrl();
```

##  <a name="deleteallitems"></a>  CTreeCtrl::DeleteAllItems

Rufen Sie diese Funktion, um alle Elemente aus dem Strukturansicht-Steuerelement löschen.

```
BOOL DeleteAllItems();
```

### <a name="return-value"></a>Rückgabewert

Ungleich Null, wenn erfolgreich, andernfalls 0 (Null).

### <a name="example"></a>Beispiel

[!code-cpp[NVC_MFC_CTreeCtrl#3](../../mfc/reference/codesnippet/cpp/ctreectrl-class_3.cpp)]

##  <a name="deleteitem"></a>  CTreeCtrl::DeleteItem

Rufen Sie diese Funktion, um ein Element aus dem Strukturansicht-Steuerelement löschen.

```
BOOL DeleteItem(HTREEITEM hItem);
```

### <a name="parameters"></a>Parameter

*hItem*<br/>
Handle des Strukturelements gelöscht werden soll. Wenn *Hitem* hat den Wert TVI_ROOT alle Elemente aus dem Strukturansicht-Steuerelement gelöscht werden.

### <a name="return-value"></a>Rückgabewert

Ungleich Null, wenn erfolgreich, andernfalls 0 (Null).

### <a name="example"></a>Beispiel

[!code-cpp[NVC_MFC_CTreeCtrl#4](../../mfc/reference/codesnippet/cpp/ctreectrl-class_4.cpp)]

##  <a name="editlabel"></a>  CTreeCtrl::EditLabel

Mit dieser Funktion können Sie beginnen, ein direktes Bearbeiten von Text für das angegebene Element.

```
CEdit* EditLabel(HTREEITEM hItem);
```

### <a name="parameters"></a>Parameter

*hItem*<br/>
Handle des Strukturelements bearbeitet werden.

### <a name="return-value"></a>Rückgabewert

Bei Erfolg einen Zeiger auf die `CEdit` -Objekt, das zum Bearbeiten von Text des Elements verwendet wird, andernfalls NULL.

### <a name="remarks"></a>Hinweise

Die Bearbeitung erfolgt durch den Text des Elements mit einem einzeiligen Bearbeitungssteuerelement, das mit dem Text ersetzen.

### <a name="example"></a>Beispiel

[!code-cpp[NVC_MFC_CTreeCtrl#5](../../mfc/reference/codesnippet/cpp/ctreectrl-class_5.cpp)]

##  <a name="endeditlabelnow"></a>  CTreeCtrl::EndEditLabelNow

Schließt den Bearbeitungsvorgang für die Bezeichnung eines Baumansicht-Elements im aktuellen Strukturansicht Steuerelement.

```
BOOL EndEditLabelNow(BOOL fCancelWithoutSave);
```

### <a name="parameters"></a>Parameter

|Parameter|Beschreibung|
|---------------|-----------------|
|*fCancelWithoutSave*|[in] TRUE, um Änderungen an dem Strukturansicht-Element zu verwerfen, bevor Sie mit dem Abschluss der Bearbeitung oder "false", um Änderungen an das Strukturansichtselement zu speichern, vor dem Abschluss des Vorgangs.|

### <a name="return-value"></a>Rückgabewert

True, wenn diese Methode erfolgreich ist. andernfalls "false".

### <a name="remarks"></a>Hinweise

Diese Methode sendet die [TVM_ENDEDITLABELNOW](/windows/desktop/Controls/tvm-endeditlabelnow) -Nachricht, die im Windows SDK beschrieben wird.

##  <a name="ensurevisible"></a>  CTreeCtrl::EnsureVisible

Rufen Sie diese Funktion, um sicherzustellen, dass ein Strukturansichtselement angezeigt wird.

```
BOOL EnsureVisible(HTREEITEM hItem);
```

### <a name="parameters"></a>Parameter

*hItem*<br/>
Handle für das Konsolenstrukturelement, der sichtbar gemacht wird.

### <a name="return-value"></a>Rückgabewert

Gibt TRUE zurück, wenn das System ein Bildlauf, die Elemente in der Strukturansicht-Steuerelement durchgeführt, um sicherzustellen, dass das angegebene Element sichtbar ist. Der zurückgegebene Wert ist, andernfalls "false".

### <a name="remarks"></a>Hinweise

Falls erforderlich, wird die Funktion erweitert das übergeordnete Element oder führt einen Bildlauf im Strukturansicht-Steuerelement, sodass das Element sichtbar ist.

### <a name="example"></a>Beispiel

[!code-cpp[NVC_MFC_CTreeCtrl#6](../../mfc/reference/codesnippet/cpp/ctreectrl-class_6.cpp)]

##  <a name="expand"></a>  CTreeCtrl::Expand

Rufen Sie diese Funktion zum Erweitern oder reduzieren die Liste der untergeordneten Elemente aus, wenn vorhanden, mit dem angegebenen übergeordneten Element verknüpft ist.

```
BOOL Expand(
    HTREEITEM hItem,
    UINT nCode);
```

### <a name="parameters"></a>Parameter

*hItem*<br/>
Handle des Strukturelements, die erweitert wird.

*nCode*<br/>
Ein Flag, der angibt, der des Typs der Aktion an, die ausgeführt werden. Dieses Flag kann es sich um einen der folgenden Werte aufweisen:

- TVE_COLLAPSE reduziert die Liste.

- TVE_COLLAPSERESET reduziert die Liste und entfernt die untergeordneten Elemente. Das Statusflag TVIS_EXPANDEDONCE wird zurückgesetzt. Dieses Flag muss mit dem Flag TVE_COLLAPSE verwendet werden.

- TVE_EXPAND wird die Liste erweitert.

- TVE_TOGGLE reduziert die Liste aus, wenn es gerade erweitert wird, oder wird diese erweitert, wenn es derzeit reduziert ist.

### <a name="return-value"></a>Rückgabewert

Ungleich Null, wenn erfolgreich, andernfalls 0 (Null).

### <a name="example"></a>Beispiel

  Siehe das Beispiel für [CTreeCtrl::EnsureVisible](#ensurevisible).

##  <a name="getbkcolor"></a>  CTreeCtrl::GetBkColor

Diese Memberfunktion implementiert das Verhalten der Win32-Nachricht [TVM_GETBKCOLOR](/windows/desktop/Controls/tvm-getbkcolor), wie im Windows SDK beschrieben.

```
COLORREF GetBkColor() const;
```

### <a name="return-value"></a>Rückgabewert

Eine COLORREF-Wert, der die aktuelle Fenster Hintergrundfarbe für das Steuerelement darstellt. Wenn dieser Wert-1 ist, wird das Steuerelement die Systemfarbe für Fenster verwendet. In diesem Fall können Sie `::GetSysColor(COLOR_WINDOW)` um die aktuelle Systemfarbe abzurufen, die das Steuerelement verwendet.

### <a name="example"></a>Beispiel

  Siehe das Beispiel für [CTreeCtrl::SetTextColor](#settextcolor).

##  <a name="getcheck"></a>  CTreeCtrl::GetCheck

Rufen Sie diese Memberfunktion zum Abrufen der Aktivierungszustand eines Elements.

```
BOOL GetCheck(HTREEITEM hItem) const;
```

### <a name="parameters"></a>Parameter

*hItem*<br/>
Die HTREEITEM zu dem die Statusinformationen zu erhalten.

### <a name="return-value"></a>Rückgabewert

Ungleich NULL ist, wenn das Strukturelement-Steuerelement aktiviert ist; andernfalls 0.

### <a name="example"></a>Beispiel

  Siehe das Beispiel für [CTreeCtrl::SetCheck](#setcheck).

##  <a name="getchilditem"></a>  CTreeCtrl::GetChildItem

Aufruf dieser Funktion zum Abrufen der Struktur anzeigen Element, wird das untergeordnete Element des angegebenen Elements vom *hItem*.

```
HTREEITEM GetChildItem(HTREEITEM hItem) const;
```

### <a name="parameters"></a>Parameter

*hItem*<br/>
Handle für ein Strukturelement.

### <a name="return-value"></a>Rückgabewert

Das Handle des untergeordneten Elements bei erfolgreicher Ausführung; andernfalls NULL.

### <a name="example"></a>Beispiel

[!code-cpp[NVC_MFC_CTreeCtrl#7](../../mfc/reference/codesnippet/cpp/ctreectrl-class_7.cpp)]

##  <a name="getcount"></a>  CTreeCtrl::GetCount

Rufen Sie diese Funktion zum Abrufen der Anzahl der Elemente in einem Strukturansicht-Steuerelement.

```
UINT GetCount() const;
```

### <a name="return-value"></a>Rückgabewert

Die Anzahl der Elemente im Strukturansicht-Steuerelement.

### <a name="example"></a>Beispiel

[!code-cpp[NVC_MFC_CTreeCtrl#8](../../mfc/reference/codesnippet/cpp/ctreectrl-class_8.cpp)]

##  <a name="getdrophilightitem"></a>  CTreeCtrl::GetDropHilightItem

Rufen Sie diese Funktion zum Abrufen des Elements, das Ziel eines Drag & Drop-Vorgangs ist.

```
HTREEITEM GetDropHilightItem() const;
```

### <a name="return-value"></a>Rückgabewert

Das Handle des Elements gelöscht, wenn erfolgreich; andernfalls NULL.

### <a name="example"></a>Beispiel

[!code-cpp[NVC_MFC_CTreeCtrl#9](../../mfc/reference/codesnippet/cpp/ctreectrl-class_9.cpp)]

##  <a name="geteditcontrol"></a>  CTreeCtrl::GetEditControl

Rufen Sie diese Funktion zum Abrufen der Handles des Bearbeitungssteuerelements zum Bearbeiten von Text für ein Strukturansichtselement verwendet wird.

```
CEdit* GetEditControl() const;
```

### <a name="return-value"></a>Rückgabewert

Ein Zeiger auf das Steuerelement zum Bearbeiten verwendet, um den Elementtext im Erfolgsfall bearbeiten; andernfalls NULL.

### <a name="example"></a>Beispiel

[!code-cpp[NVC_MFC_CTreeCtrl#10](../../mfc/reference/codesnippet/cpp/ctreectrl-class_10.cpp)]

##  <a name="getextendedstyle"></a>  CTreeCtrl::GetExtendedStyle

Ruft die erweiterten Stile, die das aktuelle Strukturansicht-Steuerelement verwendet wird.

```
DWORD GetExtendedStyle() const;
```

### <a name="return-value"></a>Rückgabewert

Ein Wert, der eine bitweise Kombination (OR) von der aktuellen Strukturansicht-Steuerelement enthält die Stile erweitert. Weitere Informationen finden Sie unter [Strukturansicht Steuerelement Erweiterte Stile](/windows/desktop/Controls/tree-view-control-window-extended-styles).

### <a name="remarks"></a>Hinweise

Diese Methode sendet die [TVM_GETEXTENDEDSTYLE](/windows/desktop/Controls/tvm-getextendedstyle) -Nachricht, die im Windows SDK beschrieben wird.

##  <a name="getfirstvisibleitem"></a>  CTreeCtrl::GetFirstVisibleItem

Rufen Sie diese Funktion zum Abrufen der ersten sichtbaren Elements des Strukturansicht-Steuerelement.

```
HTREEITEM GetFirstVisibleItem() const;
```

### <a name="return-value"></a>Rückgabewert

Das Handle des ersten sichtbaren Elements andernfalls NULL.

### <a name="example"></a>Beispiel

  Siehe das Beispiel für [CTreeCtrl::SetCheck](#setcheck).

##  <a name="getimagelist"></a>  CTreeCtrl::GetImageList

Rufen Sie diese Funktion, um das Handle der normalen oder Status Bildliste, die dem Strukturansicht-Steuerelement zugeordnete abzurufen.

```
CImageList* GetImageList(UINT nImageList) const;
```

### <a name="parameters"></a>Parameter

*nImageList*<br/>
Typ der Bildliste abgerufen. Liste der Bilder ist einer der folgenden Werte möglich:

- TVSIL_NORMAL Ruft die Liste der normalen Bilder, die die ausgewählte und nicht ausgewählten Images für das Strukturansichtselement enthält.

- TVSIL_STATE Ruft die Bildliste Status, die die Images für Strukturelemente für die Sicht enthält, die in einem benutzerdefinierten Zustand befinden.

### <a name="return-value"></a>Rückgabewert

Zeiger auf die Bildliste des Steuerelements, wenn erfolgreich; andernfalls NULL.

### <a name="remarks"></a>Hinweise

Jedes Element in einem Strukturansicht-Steuerelement kann ein Paar von Bitmapbildern zugeordnet haben. Ein Bild wird angezeigt, wenn das Element ist ausgewählt, und der andere wird angezeigt, wenn das Element nicht ausgewählt ist. Beispielsweise kann ein Element anzuzeigen einen geöffneten Ordner, wenn diese Option ausgewählt ist und einen geschlossenen Ordner, wenn es nicht aktiviert ist.

Weitere Informationen zu Bildlisten, finden Sie unter den [CImageList](../../mfc/reference/cimagelist-class.md) Klasse.

### <a name="example"></a>Beispiel

[!code-cpp[NVC_MFC_CTreeCtrl#11](../../mfc/reference/codesnippet/cpp/ctreectrl-class_11.cpp)]

##  <a name="getindent"></a>  CTreeCtrl::GetIndent

Rufen Sie diese Funktion, um den Umfang, in Pixel, dieses untergeordnete Element abzurufen, die Elemente relativ zu ihrer übergeordneten Elemente eingerückt werden.

```
UINT GetIndent() const;
```

### <a name="return-value"></a>Rückgabewert

Die Größe des Einzugs in Pixel gemessen wird.

### <a name="example"></a>Beispiel

[!code-cpp[NVC_MFC_CTreeCtrl#12](../../mfc/reference/codesnippet/cpp/ctreectrl-class_12.cpp)]

##  <a name="getinsertmarkcolor"></a>  CTreeCtrl::GetInsertMarkColor

Diese Memberfunktion implementiert das Verhalten der Win32-Nachricht [TVM_GETINSERTMARKCOLOR](/windows/desktop/Controls/tvm-getinsertmarkcolor), wie im Windows SDK beschrieben.

```
COLORREF GetInsertMarkColor() const;
```

### <a name="return-value"></a>Rückgabewert

Eine COLORREF-Wert, der die Farbe der aktuellen Einfügemarke enthält.

### <a name="example"></a>Beispiel

[!code-cpp[NVC_MFC_CTreeCtrl#13](../../mfc/reference/codesnippet/cpp/ctreectrl-class_13.cpp)]

##  <a name="getitem"></a>  CTreeCtrl::GetItem

Rufen Sie diese Funktion, um die Attribute der angegebenen Strukturansichtselements abzurufen.

```
BOOL GetItem(TVITEM* pItem) const;
```

### <a name="parameters"></a>Parameter

*pItem*<br/>
Ein Zeiger auf eine [TVITEM](/windows/desktop/api/commctrl/ns-commctrl-tagtvitema) Struktur, wie im Windows SDK beschrieben.

### <a name="return-value"></a>Rückgabewert

Ungleich Null, wenn erfolgreich, andernfalls 0 (Null).

### <a name="example"></a>Beispiel

  Siehe das Beispiel für [CTreeCtrl::DeleteItem](#deleteitem).

##  <a name="getitemdata"></a>  CTreeCtrl::GetItemData

Rufen Sie diese Funktion zum Abrufen des 32-Bit-anwendungsspezifische-Werts, die dem angegebenen Element zugeordnet.

```
DWORD_PTR GetItemData(HTREEITEM hItem) const;
```

### <a name="parameters"></a>Parameter

*hItem*<br/>
Handle des Elements, dessen Daten abgerufen werden sollen.

### <a name="return-value"></a>Rückgabewert

Eine 32-Bit-anwendungsspezifische-Wert dem Element anhand des zugeordneten *hItem*.

### <a name="example"></a>Beispiel

[!code-cpp[NVC_MFC_CTreeCtrl#14](../../mfc/reference/codesnippet/cpp/ctreectrl-class_14.cpp)]

##  <a name="getitemexpandedimageindex"></a>  CTreeCtrl::GetItemExpandedImageIndex

Ruft den Index des Bildes, das angezeigt wird, wenn das angegebene Element des aktuellen Baumansicht-Steuerelements im erweiterten Zustand befindet.

```
int GetItemExpandedImageIndex(HTREEITEM hItem)const;
```

### <a name="parameters"></a>Parameter

|Parameter|Beschreibung|
|---------------|-----------------|
|*hItem*|[in] Handle zu einem Baumansicht-Steuerelement ein Element.|

### <a name="return-value"></a>Rückgabewert

Der Index des Bildes, das angezeigt wird, wenn das angegebene Element im erweiterten Zustand befindet.

### <a name="remarks"></a>Hinweise

Diese Methode sendet die [TVM_GETITEM](/windows/desktop/Controls/tvm-getitem) -Nachricht, die im Windows SDK beschrieben wird. Fehlermeldung gibt die [TVITEMEX](/windows/desktop/api/commctrl/ns-commctrl-tagtvitemexa) Struktur, die dem Strukturansicht-Steuerelement ein Element, und klicken Sie dann auf diese Methode ruft die `iExpandedImage` Member aus dieser Struktur.

##  <a name="getitemheight"></a>  CTreeCtrl::GetItemHeight

Diese Memberfunktion implementiert das Verhalten der Win32-Nachricht [TVM_GETITEMHEIGHT](/windows/desktop/Controls/tvm-getitemheight), wie im Windows SDK beschrieben.

```
SHORT GetItemHeight() const;
```

### <a name="return-value"></a>Rückgabewert

Die Höhe des Elements in Pixel.

### <a name="example"></a>Beispiel

[!code-cpp[NVC_MFC_CTreeCtrl#15](../../mfc/reference/codesnippet/cpp/ctreectrl-class_15.cpp)]

##  <a name="getitemimage"></a>  CTreeCtrl::GetItemImage

Jedes Element in einem Strukturansicht-Steuerelement kann ein Paar von Bitmapbildern zugeordnet haben.

```
BOOL GetItemImage(
    HTREEITEM hItem,
    int& nImage,
    int& nSelectedImage) const;
```

### <a name="parameters"></a>Parameter

*hItem*<br/>
Das Handle des Elements, dessen Bild abgerufen werden sollen.

*nImage*<br/>
Eine ganze Zahl, die den Index des Elements Bildes in der Strukturansicht-Steuerelement die Bildliste empfängt.

*nSelectedImage*<br/>
Eine ganze Zahl, die den Index des Elements ausgewählten Bildes in der Strukturansicht-Steuerelement die Bildliste empfängt.

### <a name="return-value"></a>Rückgabewert

Ungleich Null, wenn erfolgreich, andernfalls 0 (Null).

### <a name="remarks"></a>Hinweise

Die Bilder werden auf der linken Seite der die Bezeichnung eines Elements angezeigt. Ein Bild wird angezeigt, wenn das Element ist ausgewählt, und der andere wird angezeigt, wenn das Element nicht ausgewählt ist. Beispielsweise kann ein Element anzuzeigen einen geöffneten Ordner, wenn diese Option ausgewählt ist und einen geschlossenen Ordner, wenn es nicht aktiviert ist.

Rufen Sie diese Funktion zum Abrufen des Index, der das Bild des Elements und dem ausgewählten Bild im Strukturansicht-Steuerelement der Bildliste.

### <a name="example"></a>Beispiel

[!code-cpp[NVC_MFC_CTreeCtrl#16](../../mfc/reference/codesnippet/cpp/ctreectrl-class_16.cpp)]

##  <a name="getitempartrect"></a>  CTreeCtrl::GetItemPartRect

Ruft das umschließende Rechteck für einen bestimmten Abschnitt eines angegebenen Elements in das aktuelle Strukturansicht-Steuerelement ab.

```
BOOL GetItemPartRect(
    HTREEITEM hItem,
    int nPart,
    LPRECT lpRect)const;
```

### <a name="parameters"></a>Parameter

|Parameter|Beschreibung|
|---------------|-----------------|
|*hItem*|[in] Handle zu einem Baumansicht-Steuerelement ein Element.|
|*nPart*|[in] Der Bezeichner für das Part. Muss auf TVGIPR_BUTTON festgelegt werden.|
|*lpRect*|[out] Zeiger auf eine [RECT](/previous-versions/dd162897\(v=vs.85\)) Struktur. Wenn diese Methode erfolgreich ist, erhält die Struktur die Rechteckkoordinaten, der die Komponente, *hItem* und *nPart*.|

### <a name="return-value"></a>Rückgabewert

True, wenn diese Methode erfolgreich ist. andernfalls "false".

### <a name="remarks"></a>Hinweise

Jedes Strukturelement-Steuerelement wird durch ein Rechteck Grafiken begrenzt. Wann immer ein Punkt in diesem Rechteck geklickt wird, das Element wird als *erreicht*. Diese Methode gibt das größte Rechteck zurück, wenn ein Punkts in das Rechteck geklickt wird, das durch bezeichnete Element, das *hItem* Parameter erreicht wird.

Diese Methode sendet die TVM_GETITEMPARTRECT-Nachricht, die im Windows SDK beschrieben wird. Weitere Informationen finden Sie unter den [TreeView_GetItemPartRect](/windows/desktop/api/commctrl/nf-commctrl-treeview_getitempartrect) Makro.

### <a name="example"></a>Beispiel

Das folgende Codebeispiel definiert eine Variable, `m_treeCtrl`, d. h. für den Zugriff auf das aktuelle Strukturansicht-Steuerelement. Im Codebeispiel wird definiert auch eine Ganzzahl ohne Vorzeichen und mehreren HTREEITEM-Variablen. Diese Variablen werden im nächsten Beispiel verwendet.

[!code-cpp[NVC_MFC_CTreeCtrl_s1#1](../../mfc/reference/codesnippet/cpp/ctreectrl-class_17.h)]

### <a name="example"></a>Beispiel

Das folgende Codebeispiel verwendet einen Bezeichner für die Barrierefreiheit und [CTreeCtrl::MapAccIdToItem](#mapaccidtoitem) Methode, um ein Handle für das Stammelement der Strukturansicht abzurufen. Das Handle wird verwendet, und die [CTreeCtrl::GetItemPartRect](#getitempartrect) Methode, um ein 3D-Objekt Rechteck aus, um das Element gezeichnet werden soll. In einem vorherigen Abschnitt des Codebeispiels, der nicht angezeigt wird, haben wir eine Strukturansicht, die besteht aus einem Land/Region-Stammknoten für den Vereinigten Staaten, untergeordnete Knoten für die Bundesstaaten Pennsylvania und Washington und Strukturelemente für Städte in diesen Staaten dargestellt. Verwendet die [CTreeCtrl::MapItemToAccID](#mapitemtoaccid) Methode, einen Bezeichner für die Barrierefreiheit des Strukturansicht-Stammelements zugeordnet werden soll.

[!code-cpp[NVC_MFC_CTreeCtrl_s1#5](../../mfc/reference/codesnippet/cpp/ctreectrl-class_18.cpp)]

##  <a name="getitemrect"></a>  CTreeCtrl::GetItemRect

Mit dieser Funktion wird zum Abrufen des umschließenden Rechtecks für *hItem* und bestimmen, ob es angezeigt oder nicht wird.

```
BOOL GetItemRect(
    HTREEITEM hItem,
    LPRECT lpRect,
    BOOL bTextOnly) const;
```

### <a name="parameters"></a>Parameter

*hItem*<br/>
Der Handle für ein Strukturansichtselement-Steuerelement.

*lpRect*<br/>
Zeiger auf eine [RECT](/previous-versions/dd162897\(v=vs.85\)) Struktur, die das umschließende Rechteck empfängt. Die Koordinaten sind relativ zur oberen linken Ecke des Strukturansicht-Steuerelement.

*bTextOnly*<br/>
Wenn dieser Parameter ungleich NULL ist, enthält das umschließende Rechteck nur den Text des Elements an. Andernfalls enthält es die gesamte Zeile, die belegt, das Element in der Strukturansicht-Steuerelement.

### <a name="return-value"></a>Rückgabewert

Ungleich NULL, wenn das Element sichtbar, mit dem umschließenden Rechteck ist in enthaltenen *LpRect*. Andernfalls 0 mit *LpRect* nicht initialisiert.

### <a name="example"></a>Beispiel

[!code-cpp[NVC_MFC_CTreeCtrl#17](../../mfc/reference/codesnippet/cpp/ctreectrl-class_19.cpp)]

##  <a name="getitemstate"></a>  CTreeCtrl::GetItemState

Gibt den Status des angegebenen Elements vom *hItem*.

```
UINT GetItemState(
    HTREEITEM hItem,
    UINT nStateMask) const;
```

### <a name="parameters"></a>Parameter

*hItem*<br/>
Handle des Elements, dessen Status abgerufen werden sollen.

*nStateMask*<br/>
Eine Bitmaske zurück, die eine oder mehrere Zustände abgerufen werden sollen. Weitere Informationen zu den möglichen Werten für *nStateMask*, finden Sie unter der Erläuterung der `state` und `stateMask` Mitglied der [TVITEM](/windows/desktop/api/commctrl/ns-commctrl-tagtvitema) Struktur im Windows SDK.

### <a name="return-value"></a>Rückgabewert

UINT, die das bitweise OR der die angegebenen Werte von nStateMask enthält. Weitere Informationen zu den möglichen Werten finden Sie unter [CTreeCtrl::GetItem](#getitem). Führen Sie eine bitweise AND-Operation der Status und der Rückgabewert, um den Wert für einen bestimmten Status zu ermitteln, wie im folgenden Beispiel gezeigt.

### <a name="example"></a>Beispiel

[!code-cpp[NVC_MFC_CTreeCtrl#18](../../mfc/reference/codesnippet/cpp/ctreectrl-class_20.cpp)]

##  <a name="getitemstateex"></a>  CTreeCtrl::GetItemStateEx

Ruft den erweiterten Status des angegebenen Elements in das aktuelle Strukturansicht-Steuerelement ab.

```
UINT GetItemStateEx(HTREEITEM hItem) const;
```

### <a name="parameters"></a>Parameter

|Parameter|Beschreibung|
|---------------|-----------------|
|*hItem*|[in] Handle zu einem Baumansicht-Steuerelement ein Element.|

### <a name="return-value"></a>Rückgabewert

Die erweiterten Zustand des Elements. Weitere Informationen finden Sie unter den `uStateEx` Mitglied der [TVITEMEX](/windows/desktop/api/commctrl/ns-commctrl-tagtvitemexa) Struktur.

### <a name="remarks"></a>Hinweise

Diese Methode sendet die [TVM_GETITEM](/windows/desktop/Controls/tvm-getitem) -Nachricht, die im Windows SDK beschrieben wird. Fehlermeldung gibt die [TVITEMEX](/windows/desktop/api/commctrl/ns-commctrl-tagtvitemexa) Struktur, die dem Strukturansicht-Steuerelement ein Element, und diese Methode ruft die `uStateEx` Member aus dieser Struktur.

##  <a name="getitemtext"></a>  CTreeCtrl::GetItemText

Gibt den Text des Elements gemäß *hItem*.

```
CString GetItemText(HTREEITEM hItem) const;
```

### <a name="parameters"></a>Parameter

*hItem*<br/>
Handle des Elements, dessen Text abgerufen werden sollen.

### <a name="return-value"></a>Rückgabewert

Ein `CString` -Objekt, das den Text des Elements enthält.

### <a name="example"></a>Beispiel

  Siehe das Beispiel für [CTreeCtrl::GetNextItem](#getnextitem).

##  <a name="getlastvisibleitem"></a>  CTreeCtrl::GetLastVisibleItem

Ruft das letzte Knotenelement der nicht aufgeklappter des aktuellen Baumansicht-Steuerelements ab.

```
HTREEITEM GetLastVisibleItem() const;
```

### <a name="return-value"></a>Rückgabewert

Das Handle, das letzte nicht aufgeklappter Knotenelement aus, wenn die Methode erfolgreich ist; andernfalls NULL.

### <a name="remarks"></a>Hinweise

Diese Methode sendet die [TVM_GETNEXTITEM](/windows/desktop/Controls/tvm-getnextitem) -Nachricht, die im Windows SDK beschrieben wird. Weitere Informationen finden Sie in das TVGN_LASTVISIBLE-Kennzeichen in der *Flag* Parameter der Nachricht.

### <a name="example"></a>Beispiel

Das folgende Codebeispiel definiert eine Variable, `m_treeCtrl`, d. h. für den Zugriff auf das aktuelle Strukturansicht-Steuerelement. Im Codebeispiel wird definiert auch eine Ganzzahl ohne Vorzeichen und mehreren HTREEITEM-Variablen. Im folgenden Beispiel werden eine oder mehrere dieser Variablen verwendet.

[!code-cpp[NVC_MFC_CTreeCtrl_s1#1](../../mfc/reference/codesnippet/cpp/ctreectrl-class_17.h)]

### <a name="example"></a>Beispiel

Im folgenden Codebeispiel wird ein Handle für das letzte Element der Strukturansicht nicht aufgeklappter Knoten abgerufen, und klicken Sie dann zeichnet ein 3D-Rechteck, um das Element. In einem vorherigen Abschnitt des Codebeispiels, der nicht angezeigt wird, haben wir eine Strukturansicht, die besteht aus einem Land/Region-Stammknoten für den Vereinigten Staaten, untergeordnete Knoten für die Bundesstaaten Pennsylvania und Washington und Strukturelemente für Städte in diesen Staaten dargestellt.

[!code-cpp[NVC_MFC_CTreeCtrl_s1#6](../../mfc/reference/codesnippet/cpp/ctreectrl-class_21.cpp)]

##  <a name="getlinecolor"></a>  CTreeCtrl::GetLineColor

Diese Memberfunktion implementiert das Verhalten der Win32-Nachricht [TVM_GETLINECOLOR](/windows/desktop/Controls/tvm-getlinecolor), wie im Windows SDK beschrieben.

```
COLORREF GetLineColor() const;
```

### <a name="return-value"></a>Rückgabewert

Die aktuelle Linienfarbe.

### <a name="example"></a>Beispiel

[!code-cpp[NVC_MFC_CTreeCtrl#19](../../mfc/reference/codesnippet/cpp/ctreectrl-class_22.cpp)]

##  <a name="getnextitem"></a>  CTreeCtrl::GetNextItem

Aufruf dieser Funktion zum Abrufen der Struktur Element anzeigen, die verfügt über die angegebene Beziehung, angegeben durch die *nCode* Parameter zu *hItem*.

```
HTREEITEM GetNextItem(
    HTREEITEM hItem,
    UINT nCode) const;
```

### <a name="parameters"></a>Parameter

*hItem*<br/>
Handle für ein Strukturelement.

*nCode*<br/>
Ein Flag, der angibt, des Typs der Beziehung um *hItem*. Dieses Flag ist einer der folgenden Werte möglich:

- TVGN_CARET Ruft das aktuell ausgewählte Element ab.

- TVGN_CHILD Ruft das erste untergeordnete Element des angegebenen Elements durch den *hItem* Parameter.

- TVGN_DROPHILITE Ruft das Element, das das Ziel eines Drag & Drop-Vorgangs ab.

- TVGN_FIRSTVISIBLE Ruft das erste sichtbare Element ab.

- TVGN_LASTVISIBLE Ruft ab, mit der letzten Element in der Struktur erweitert. Dies ist das letzte Element in der Strukturansicht im Fenster sichtbar nicht abgerufen werden.

- TVGN_NEXT Ruft das nächste nebengeordnete Element ab.

- TVGN_NEXTVISIBLE Ruft das nächste sichtbare Element, das das angegebene Element folgt.

- TVGN_PARENT Ruft das übergeordnete Element des angegebenen Elements ab.

- TVGN_PREVIOUS Ruft das vorherige gleichgeordnete Element ab.

- TVGN_PREVIOUSVISIBLE Ruft das erste sichtbare Element, das das angegebene Element vorangestellt ist.

- TVGN_ROOT Ruft das erste untergeordnete Element des Stammelements, der das angegebene Element gehört.

### <a name="return-value"></a>Rückgabewert

Das Handle des nächsten Elements, wenn erfolgreich; andernfalls NULL.

### <a name="remarks"></a>Hinweise

Diese Funktion gibt NULL zurück, wenn das Element abgerufen wird der Stammknoten der Struktur. Wenn Sie diese Meldung mit dem Flag TVGN_PARENT auf untergeordnetes Element auf oberster Ebene der Stammknoten der Strukturansicht verwenden, wird die Nachricht z. B. NULL zurück.

### <a name="example"></a>Beispiel

Ein Beispiel der Verwendung von `GetNextItem` in einer Schleife finden Sie unter [CTreeCtrl::DeleteItem](#deleteitem).

[!code-cpp[NVC_MFC_CTreeCtrl#20](../../mfc/reference/codesnippet/cpp/ctreectrl-class_23.cpp)]

##  <a name="getnextsiblingitem"></a>  CTreeCtrl::GetNextSiblingItem

Mit dieser Funktion können Sie das nächste gleichgeordnete abrufen *hItem*.

```
HTREEITEM GetNextSiblingItem(HTREEITEM hItem) const;
```

### <a name="parameters"></a>Parameter

*hItem*<br/>
Handle für ein Strukturelement.

### <a name="return-value"></a>Rückgabewert

Das Handle des nächsten nebengeordneten Elements andernfalls NULL.

### <a name="example"></a>Beispiel

[!code-cpp[NVC_MFC_CTreeCtrl#21](../../mfc/reference/codesnippet/cpp/ctreectrl-class_24.cpp)]

##  <a name="getnextvisibleitem"></a>  CTreeCtrl::GetNextVisibleItem

Mit dieser Funktion wird zum Abrufen der nächsten sichtbaren Elements der *hItem*.

```
HTREEITEM GetNextVisibleItem(HTREEITEM hItem) const;
```

### <a name="parameters"></a>Parameter

*hItem*<br/>
Handle für ein Strukturelement.

### <a name="return-value"></a>Rückgabewert

Das Handle des nächsten sichtbaren Elements andernfalls NULL.

### <a name="example"></a>Beispiel

  Siehe das Beispiel für [CTreeCtrl::SetCheck](#setcheck).

##  <a name="getparentitem"></a>  CTreeCtrl::GetParentItem

Mit dieser Funktion können Sie das übergeordnete Element des abrufen *hItem*.

```
HTREEITEM GetParentItem(HTREEITEM hItem) const;
```

### <a name="parameters"></a>Parameter

*hItem*<br/>
Handle für ein Strukturelement.

### <a name="return-value"></a>Rückgabewert

Das Handle des übergeordneten Elements andernfalls NULL.

### <a name="remarks"></a>Hinweise

Diese Funktion gibt NULL zurück, wenn das übergeordnete Element des angegebenen Elements auf den Stammknoten der Struktur ist.

### <a name="example"></a>Beispiel

  Siehe das Beispiel für [CTreeCtrl::EnsureVisible](#ensurevisible).

##  <a name="getprevsiblingitem"></a>  CTreeCtrl::GetPrevSiblingItem

Mit dieser Funktion können Sie das vorherige gleichgeordnete abrufen *hItem*.

```
HTREEITEM GetPrevSiblingItem(HTREEITEM hItem) const;
```

### <a name="parameters"></a>Parameter

*hItem*<br/>
Handle für ein Strukturelement.

### <a name="return-value"></a>Rückgabewert

Das Handle des vorhergehenden gleichgeordneten Objekts andernfalls NULL.

### <a name="example"></a>Beispiel

[!code-cpp[NVC_MFC_CTreeCtrl#22](../../mfc/reference/codesnippet/cpp/ctreectrl-class_25.cpp)]

##  <a name="getprevvisibleitem"></a>  CTreeCtrl::GetPrevVisibleItem

Mit dieser Funktion können Sie das vorherige sichtbare Element der abrufen *hItem*.

```
HTREEITEM GetPrevVisibleItem(HTREEITEM hItem) const;
```

### <a name="parameters"></a>Parameter

*hItem*<br/>
Handle für ein Strukturelement.

### <a name="return-value"></a>Rückgabewert

Das Handle des vorherigen sichtbaren Elements andernfalls NULL.

### <a name="example"></a>Beispiel

[!code-cpp[NVC_MFC_CTreeCtrl#23](../../mfc/reference/codesnippet/cpp/ctreectrl-class_26.cpp)]

##  <a name="getrootitem"></a>  CTreeCtrl::GetRootItem

Rufen Sie diese Funktion zum Abrufen des Stammelements der Strukturansicht-Steuerelement.

```
HTREEITEM GetRootItem() const;
```

### <a name="return-value"></a>Rückgabewert

Das Handle des dem Stammelement andernfalls NULL.

### <a name="example"></a>Beispiel

  Siehe das Beispiel für [CTreeCtrl::EditLabel](#editlabel).

##  <a name="getscrolltime"></a>  CTreeCtrl::GetScrollTime

Rufen Sie diese Memberfunktion zum Abrufen der maximalen Bildlauf Uhrzeit für das Strukturansicht-Steuerelement.

```
UINT GetScrollTime() const;
```

### <a name="return-value"></a>Rückgabewert

Die maximale Bildlauf Zeit in Millisekunden.

### <a name="remarks"></a>Hinweise

Diese Memberfunktion implementiert das Verhalten der Win32-Nachricht [TVM_GETSCROLLTIME](/windows/desktop/Controls/tvm-getscrolltime), wie im Windows SDK beschrieben.

##  <a name="getselectedcount"></a>  CTreeCtrl::GetSelectedCount

Ruft die Anzahl der ausgewählten Elemente in das aktuelle Strukturansicht-Steuerelement.

```
UINT GetSelectedCount();
```

### <a name="return-value"></a>Rückgabewert

Die Anzahl der ausgewählten Elemente.

### <a name="remarks"></a>Hinweise

Diese Methode sendet die [TVM_GETSELECTEDCOUNT](/windows/desktop/Controls/tvm-getselectedcount) -Nachricht, die im Windows SDK beschrieben wird.

##  <a name="getselecteditem"></a>  CTreeCtrl::GetSelectedItem

Rufen Sie diese Funktion zum Abrufen des Strukturansicht-Steuerelement des aktuell ausgewählten Elements.

```
HTREEITEM GetSelectedItem() const;
```

### <a name="return-value"></a>Rückgabewert

Das Handle des ausgewählten Elements andernfalls NULL.

### <a name="example"></a>Beispiel

[!code-cpp[NVC_MFC_CTreeCtrl#24](../../mfc/reference/codesnippet/cpp/ctreectrl-class_27.cpp)]

##  <a name="gettextcolor"></a>  CTreeCtrl::GetTextColor

Diese Memberfunktion implementiert das Verhalten der Win32-Nachricht [TVM_GETTEXTCOLOR](/windows/desktop/Controls/tvm-gettextcolor), wie im Windows SDK beschrieben.

```
COLORREF GetTextColor() const;
```

### <a name="return-value"></a>Rückgabewert

Eine COLORREF-Wert, der die aktuelle Farbe des Texts darstellt. Wenn dieser Wert-1 ist, wird das Steuerelement die Systemfarbe für die Farbe des Textes verwendet.

### <a name="example"></a>Beispiel

  Siehe das Beispiel für [CTreeCtrl::SetTextColor](#settextcolor).

##  <a name="gettooltips"></a>  CTreeCtrl::GetToolTips

Diese Memberfunktion implementiert das Verhalten der Win32-Nachricht [TVM_GETTOOLTIPS](/windows/desktop/Controls/tvm-gettooltips), wie im Windows SDK beschrieben.

```
CToolTipCtrl* GetToolTips() const;
```

### <a name="return-value"></a>Rückgabewert

Ein Zeiger auf eine [CToolTipCtrl](../../mfc/reference/ctooltipctrl-class.md) Objekt, das von der Strukturansicht-Steuerelement verwendet werden. Wenn die [erstellen](#create) Memberfunktion verwendet das Format TVS_NOTOOLTIPS und keine QuickInfos werden verwendet, wird NULL zurückgegeben.

### <a name="remarks"></a>Hinweise

Die MFC-Implementierung von `GetToolTips` gibt eine `CToolTipCtrl` -Objekt, das von der Strukturansicht, anstatt ein Handle für ein QuickInfo-Steuerelement verwendet wird.

### <a name="example"></a>Beispiel

[!code-cpp[NVC_MFC_CTreeCtrl#25](../../mfc/reference/codesnippet/cpp/ctreectrl-class_28.cpp)]

##  <a name="getvisiblecount"></a>  CTreeCtrl::GetVisibleCount

Rufen Sie diese Funktion, um die Anzahl der sichtbaren Elemente in einem Strukturansicht-Steuerelement abzurufen.

```
UINT GetVisibleCount() const;
```

### <a name="return-value"></a>Rückgabewert

Die Anzahl der sichtbaren Elemente in der Strukturansicht-Steuerelement; andernfalls - 1.

### <a name="example"></a>Beispiel

  Siehe das Beispiel für [CTreeCtrl::SetCheck](#setcheck).

##  <a name="hittest"></a>  CTreeCtrl::HitTest

Mit dieser Funktion können Sie die Bestimmung des Speicherorts für den angegebenen Punkt relativ zum Clientbereich von einem Strukturansicht-Steuerelement.

```
HTREEITEM HitTest(
    CPoint pt,
    UINT* pFlags = NULL) const;

HTREEITEM HitTest(TVHITTESTINFO* pHitTestInfo) const;
```

### <a name="parameters"></a>Parameter

*pt*<br/>
Clientkoordinaten des Punkts um zu testen.

*pFlags*<br/>
Zeiger auf eine ganze Zahl, die Informationen zu den Ergebnissen des Treffertests empfängt. Es kann eine oder mehrere der Werte aufgeführt, unter der `flags` Element im Abschnitt "Hinweise".

*pHitTestInfo*<br/>
Adresse von einem [TVHITTESTINFO](/windows/desktop/api/commctrl/ns-commctrl-tagtvhittestinfo) Struktur, die die Position zum Testen und die Treffer enthält Informationen über die Ergebnisse des Treffertests empfängt.

### <a name="return-value"></a>Rückgabewert

Das Handle des Strukturansichtselements an, die der angegebene Punkt oder NULL, belegt, wenn kein Element mit den Zeitpunkt belegt.

### <a name="remarks"></a>Hinweise

Wenn diese Funktion aufgerufen wird, die *pt* Parameter gibt an, die Koordinaten des Punkts, um zu testen. Die Funktion gibt das Handle für das Element am angegebenen Punkt oder NULL, wenn kein Element mit den Zeitpunkt belegt. Darüber hinaus die *pFlags* -Parameter enthält einen Wert, der den Speicherort des angegebenen Punkts angibt. Dabei sind folgende Werte möglich:

|||
|-|-|
|Wert|Bedeutung|
|TVHT_ABOVE|Oberhalb des Clientbereichs.|
|TVHT_BELOW|Unterhalb des Clientbereichs.|
|TVHT_NOWHERE|In den Clientbereich, jedoch unterhalb des letzten Elements.|
|TVHT_ONITEM|Auf dem Bitmap oder ein Element zugeordnete Bezeichnung.|
|TVHT_ONITEMBUTTON|Klicken Sie auf die Schaltfläche, die einem Element zugeordnet wird.|
|TVHT_ONITEMICON|Klicken Sie auf die Bitmap, die einem Element zugeordnet wird.|
|TVHT_ONITEMINDENT|In den Einzug, der einem Element zugeordnet wird.|
|TVHT_ONITEMLABEL|Klicken Sie auf die Bezeichnung (Zeichenfolge), einem Element zugeordnet.|
|TVHT_ONITEMRIGHT|Im Bereich rechts neben einem Element.|
|TVHT_ONITEMSTATEICON|Klicken Sie auf das Symbol für den Status für ein Strukturansicht-Element, das in einem benutzerdefinierten Zustand befindet.|
|TVHT_TOLEFT|Auf der linken Seite des Clientbereichs.|
|TVHT_TORIGHT|Klicken Sie auf der rechten Seite des Clientbereichs.|
|||

### <a name="example"></a>Beispiel

[!code-cpp[NVC_MFC_CTreeCtrl#26](../../mfc/reference/codesnippet/cpp/ctreectrl-class_29.cpp)]

##  <a name="insertitem"></a>  CTreeCtrl::InsertItem

Rufen Sie diese Funktion zum Einfügen eines neuen Elements in einem Strukturansicht-Steuerelement.

```
HTREEITEM InsertItem(LPTVINSERTSTRUCT lpInsertStruct);

HTREEITEM InsertItem(
    UINT nMask,
    LPCTSTR lpszItem,
    int nImage,
    int nSelectedImage,
    UINT nState,
    UINT nStateMask,
    LPARAM lParam,
    HTREEITEM hParent,
    HTREEITEM hInsertAfter);

HTREEITEM InsertItem(
    LPCTSTR lpszItem,
    HTREEITEM hParent = TVI_ROOT,
    HTREEITEM hInsertAfter = TVI_LAST);

HTREEITEM InsertItem(
    LPCTSTR lpszItem,
    int nImage,
    int nSelectedImage,
    HTREEITEM hParent = TVI_ROOT,
    HTREEITEM hInsertAfter = TVI_LAST);
```

### <a name="parameters"></a>Parameter

*lpInsertStruct*<br/>
Ein Zeiger auf eine `TVINSERTSTRUCT` , angibt, dass die Attribute des das Strukturansichtselement eingefügt werden soll.

*nMask*<br/>
Ganze Zahl, welche Attribute festlegen. Finden Sie unter den `TVITEM` Struktur im Windows SDK.

*lpszItem*<br/>
Die Adresse einer Zeichenfolge, die den Text des Elements enthält.

*nImage*<br/>
Index des Elements Bildes in der Strukturansicht-Steuerelement die Bildliste.

*nSelectedImage*<br/>
Der Index des ausgewählten Images von des Elements in der Strukturansicht-Steuerelement die Bildliste.

*nState*<br/>
Gibt Werte für das Element-Zustände. Finden Sie unter Ansicht Steuerelement Elementzustände des Struktursteuerung im Windows SDK für eine Liste der entsprechenden Status.

*nStateMask*<br/>
Gibt an, welche Zustände festgelegt werden. Finden Sie unter den `TVITEM` Struktur im Windows SDK.

*lParam*<br/>
32-Bit-anwendungsspezifische-Wert, das dem Element zugeordnet ist.

*hParent*<br/>
Handle das eingefügte Element übergeordneten Elements.

*hInsertAfter*<br/>
Handle des Elements nach dem das neue Element eingefügt werden soll.

### <a name="return-value"></a>Rückgabewert

Handle des neuen Elements, wenn erfolgreich; andernfalls NULL.

### <a name="remarks"></a>Hinweise

Das Beispiel zeigt die Situationen, in denen Sie jede Version der Funktion zu verwenden, wenn Sie ein Strukturelement-Steuerelement einfügen möchten.

### <a name="example"></a>Beispiel

[!code-cpp[NVC_MFC_CTreeCtrl#27](../../mfc/reference/codesnippet/cpp/ctreectrl-class_30.cpp)]

##  <a name="itemhaschildren"></a>  CTreeCtrl::ItemHasChildren

Diese Funktion verwenden, um zu bestimmen, ob das Strukturelement vom angegeben *hItem* über untergeordnete Elemente verfügt.

```
BOOL ItemHasChildren(HTREEITEM hItem) const;
```

### <a name="parameters"></a>Parameter

*hItem*<br/>
Handle für ein Strukturelement.

### <a name="return-value"></a>Rückgabewert

Ungleich NULL, wenn das Strukturelement vom angegebenen *hItem* enthält untergeordnete Elemente; 0, wenn dies nicht der Fall.

### <a name="remarks"></a>Hinweise

Wenn also, dann können Sie [CTreeCtrl::GetChildItem](#getchilditem) diese untergeordneten Elemente abgerufen werden sollen.

### <a name="example"></a>Beispiel

  Siehe das Beispiel für [CTreeCtrl::GetSelectedItem](#getselecteditem).

##  <a name="mapaccidtoitem"></a>  CTreeCtrl::MapAccIdToItem

Ordnet den Bezeichner angegebene Zugriff auf das Handle für ein Strukturansichtselement im aktuellen Strukturansicht Steuerelement.

```
HTREEITEM MapAccIdToItem(UINT uAccId) const;
```

### <a name="parameters"></a>Parameter

|Parameter|Beschreibung|
|---------------|-----------------|
|*uAccId*|[in] Ein Bezeichner der Barrierefreiheit für ein Element in der Strukturansicht-Element.|

### <a name="return-value"></a>Rückgabewert

Das Handle für ein Strukturansichtselement ( `HTREEITEM`), entspricht die *uAccId* Parameter. Weitere Informationen finden Sie unter den *hItem* Mitglied der [TVITEMEX](/windows/desktop/api/commctrl/ns-commctrl-tagtvitemexa) Struktur.

### <a name="remarks"></a>Hinweise

Eingabehilfen sind, dass Anwendungen, die Personen mit behinderungen ermöglichen Computern verwenden. Ein Bezeichner für die Barrierefreiheit wird verwendet, durch die `IAccessible` Schnittstelle eindeutig an ein Element in einem Fenster. Weitere Informationen zu Eingabehilfen-IDs, suchen Sie nach dem Thema "Informationen zu Active Accessibility-Unterstützung" unter [Microsoft Developer Network](https://go.microsoft.com/fwlink/p/?linkid=56322).

Diese Methode sendet die [TVM_MAPACCIDTOHTREEITEM](/windows/desktop/Controls/tvm-mapaccidtohtreeitem) -Nachricht, die im Windows SDK beschrieben wird.

### <a name="example"></a>Beispiel

Das folgende Codebeispiel definiert eine Variable, `m_treeCtrl`, d. h. für den Zugriff auf das aktuelle Strukturansicht-Steuerelement. Im Codebeispiel wird definiert auch eine Ganzzahl ohne Vorzeichen und mehreren HTREEITEM-Variablen. Diese Variablen werden im nächsten Beispiel verwendet.

[!code-cpp[NVC_MFC_CTreeCtrl_s1#1](../../mfc/reference/codesnippet/cpp/ctreectrl-class_17.h)]

### <a name="example"></a>Beispiel

Das folgende Codebeispiel verwendet einen Bezeichner für die Barrierefreiheit und [CTreeCtrl::MapAccIdToItem](#mapaccidtoitem) Methode, um ein Handle für das Stammelement der Strukturansicht abzurufen. Im Beispiel wird das Handle und die [CTreeCtrl::GetItemPartRect](#getitempartrect) Methode, um ein 3D-Objekt Rechteck aus, um das Element gezeichnet werden soll. In einem vorherigen Abschnitt des Codebeispiels, der nicht angezeigt wird, haben wir eine Strukturansicht, die besteht aus einem Land/Region-Stammknoten für den Vereinigten Staaten, untergeordnete Knoten für die Bundesstaaten Pennsylvania und Washington und Strukturelemente für Städte in diesen Staaten dargestellt. Verwendet die [CTreeCtrl::MapItemToAccID](#mapitemtoaccid) Methode, einen Bezeichner für die Barrierefreiheit des Strukturansicht-Stammelements zugeordnet werden soll.

[!code-cpp[NVC_MFC_CTreeCtrl_s1#5](../../mfc/reference/codesnippet/cpp/ctreectrl-class_18.cpp)]

##  <a name="mapitemtoaccid"></a>  CTreeCtrl::MapItemToAccID

Ordnet das angegebene Handle ein Strukturansichtselement im aktuellen Strukturansicht Steuerelement auf einen Bezeichner für die Barrierefreiheit.

```
UINT MapItemToAccID(HTREEITEM hItem) const;
```

### <a name="parameters"></a>Parameter

|Parameter|Beschreibung|
|---------------|-----------------|
|*hItem*|[in] Ein Handle eines Baumansicht-Elements im Steuerelement. Weitere Informationen finden Sie unter den *hItem* Mitglied der [TVITEMEX](/windows/desktop/api/commctrl/ns-commctrl-tagtvitemexa) Struktur.|

### <a name="return-value"></a>Rückgabewert

Die Barrierefreiheit-Identifier, entspricht die *hItem* Parameter.

### <a name="remarks"></a>Hinweise

Eingabehilfen sind, dass Anwendungen, die Personen mit behinderungen ermöglichen Computern verwenden. Ein Bezeichner für die Barrierefreiheit wird verwendet, durch die `IAccessible` Schnittstelle eindeutig an ein Element in einem Fenster. Weitere Informationen zu Eingabehilfen-IDs, suchen Sie nach dem Thema "Informationen zu Active Accessibility-Unterstützung" unter [Microsoft Developer Network](https://go.microsoft.com/fwlink/p/?linkid=56322).

Diese Methode sendet die [TVM_MAPHTREEITEMTOACCID](/windows/desktop/Controls/tvm-maphtreeitemtoaccid) -Nachricht, die im Windows SDK beschrieben wird.

### <a name="example"></a>Beispiel

Das folgende Codebeispiel definiert eine Variable, `m_treeCtrl`, d. h. für den Zugriff auf das aktuelle Strukturansicht-Steuerelement. Im Codebeispiel wird definiert auch eine Ganzzahl ohne Vorzeichen und mehreren HTREEITEM-Variablen. Diese Variablen werden im nächsten Beispiel verwendet.

[!code-cpp[NVC_MFC_CTreeCtrl_s1#1](../../mfc/reference/codesnippet/cpp/ctreectrl-class_17.h)]

### <a name="example"></a>Beispiel

Im folgenden Codebeispiel ruft eine ID für ein Element des Strukturansicht Steuerelement ab. In einem vorherigen Abschnitt des Codebeispiels, der nicht angezeigt wird, haben wir eine Strukturansicht, die besteht aus einem Land/Region-Stammknoten für den Vereinigten Staaten, untergeordnete Knoten für die Bundesstaaten Pennsylvania und Washington und Strukturelemente für Städte in diesen Staaten dargestellt. Dieses Codebeispiel ruft eine eindeutige Identifikationsnummer für den Stammknoten für das Land/Region ab.

[!code-cpp[NVC_MFC_CTreeCtrl_s1#2](../../mfc/reference/codesnippet/cpp/ctreectrl-class_31.cpp)]

##  <a name="select"></a>  CTreeCtrl::Select

Rufen Sie diese Funktion, um das angegebene Strukturansichtselement auswählen, führen Sie das Element in der Ansicht einen Bildlauf oder das Element neu zeichnen, im Format verwendet, um das Ziel eines Drag & Drop-Vorgangs anzugeben.

```
BOOL Select(
    HTREEITEM hItem,
    UINT nCode);
```

### <a name="parameters"></a>Parameter

*hItem*<br/>
Handle für ein Strukturelement.

*nCode*<br/>
Der Typ der auszuführenden Aktion. Dieser Parameter kann einen der folgenden Werte sein:

- TVGN_CARET legt die Auswahl auf das angegebene Element fest.

- TVGN_DROPHILITE zeichnet verwendet das angegebene Element im Format, um das Ziel eines Drag & Drop-Vorgangs anzugeben.

- TVGN_FIRSTVISIBLE führt einen Bildlauf im Strukturansicht-vertikal, damit das angegebene Element das erste sichtbare Element ist.

### <a name="return-value"></a>Rückgabewert

Ungleich Null, wenn erfolgreich, andernfalls 0 (Null).

### <a name="remarks"></a>Hinweise

Wenn *nCode* enthält den Wert TVGN_CARET, das übergeordnete Fenster empfängt die TVN_SELCHANGING und eine TVN_SELCHANGED Benachrichtigungsnachrichten erstellt werden. Wenn das angegebene Element das untergeordnete Element eines reduzierten übergeordneten Elements ist, wird darüber hinaus das übergeordnete Element der Liste der untergeordneten Elemente erweitert, um das angegebene Element anzuzeigen. In diesem Fall empfängt das übergeordnete Fenster die TVN_ITEMEXPANDING und TVN_ITEMEXPANDED Benachrichtigungsnachrichten erstellt werden.

### <a name="example"></a>Beispiel

  Siehe das Beispiel für [CTreeCtrl::HitTest](#hittest).

##  <a name="selectdroptarget"></a>  CTreeCtrl::SelectDropTarget

Rufen Sie diese Funktion, um das Element neu gezeichnet werden im entsprechenden Stil verwendet, um das Ziel eines Drag & Drop-Vorgangs anzugeben.

```
BOOL SelectDropTarget(HTREEITEM hItem);
```

### <a name="parameters"></a>Parameter

*hItem*<br/>
Handle für ein Strukturelement.

### <a name="return-value"></a>Rückgabewert

Ungleich Null, wenn erfolgreich, andernfalls 0 (Null).

### <a name="example"></a>Beispiel

[!code-cpp[NVC_MFC_CTreeCtrl#9](../../mfc/reference/codesnippet/cpp/ctreectrl-class_9.cpp)]

##  <a name="selectitem"></a>  CTreeCtrl::SelectItem

Rufen Sie diese Funktion, um das angegebene Strukturansichtselement auswählen.

```
BOOL SelectItem(HTREEITEM hItem);
```

### <a name="parameters"></a>Parameter

*hItem*<br/>
Handle für ein Strukturelement.

### <a name="return-value"></a>Rückgabewert

Ungleich Null, wenn erfolgreich, andernfalls 0 (Null).

### <a name="remarks"></a>Hinweise

Wenn *hItem* NULL ist, und klicken Sie dann diese Funktion kein Element ausgewählt.

### <a name="example"></a>Beispiel

[!code-cpp[NVC_MFC_CTreeCtrl#26](../../mfc/reference/codesnippet/cpp/ctreectrl-class_29.cpp)]

##  <a name="selectsetfirstvisible"></a>  CTreeCtrl::SelectSetFirstVisible

Mit dieser Funktion können Sie die Strukturansicht einen vertikalen Bildlauf durchführen, damit das angegebene Element das erste sichtbare Element ist.

```
BOOL SelectSetFirstVisible(HTREEITEM hItem);
```

### <a name="parameters"></a>Parameter

*hItem*<br/>
Handle des Strukturelements, als das erste sichtbare Element festgelegt werden.

### <a name="return-value"></a>Rückgabewert

Ungleich Null, wenn erfolgreich, andernfalls 0 (Null).

### <a name="remarks"></a>Hinweise

Die Funktion sendet eine Nachricht an das Fenster mit den Parametern der Nachricht TVM_SELECTITEM und TVGN_FIRSTVISIBLE.

### <a name="example"></a>Beispiel

[!code-cpp[NVC_MFC_CTreeCtrl#28](../../mfc/reference/codesnippet/cpp/ctreectrl-class_32.cpp)]

##  <a name="setautoscrollinfo"></a>  CTreeCtrl::SetAutoscrollInfo

Legt die Rate der automatischen Bildlauf des aktuellen Baumansicht-Steuerelements fest.

```
BOOL SetAutoscrollInfo(
    UINT uPixelsPerSec,
    UINT uUpdateTime);
```

### <a name="parameters"></a>Parameter

|Parameter|Beschreibung|
|---------------|-----------------|
|*uPixelsPerSec*|[in] Die Anzahl der Pixel pro Sekunde, um einen Bildlauf durchführen.|
|*uUpdateTime*|[in] Das Zeitintervall zwischen den Updates des Steuerelements.|

### <a name="return-value"></a>Rückgabewert

Gibt immer "true" zurück.

### <a name="remarks"></a>Hinweise

Die automatischen Bildlauf-Parameter werden verwendet, um ein Element in der Ansicht zu scrollen, die derzeit nicht sichtbar ist. Das Strukturansicht-Steuerelement benötigen den erweiterten Stil, dies wird im beschrieben TVS_EX_AUTOHSCROLL [Strukturansicht Steuerelement Erweiterte Stile](/windows/desktop/Controls/tree-view-control-window-extended-styles).

Diese Methode sendet die [TVM_SETAUTOSCROLLINFO](/windows/desktop/Controls/tvm-setautoscrollinfo) -Nachricht, die im Windows SDK beschrieben wird.

### <a name="example"></a>Beispiel

Das folgende Codebeispiel definiert eine Variable, `m_treeCtrl`, d. h. für den Zugriff auf das aktuelle Strukturansicht-Steuerelement. Im Codebeispiel wird definiert auch eine Ganzzahl ohne Vorzeichen und mehreren HTREEITEM-Variablen. Diese Variablen werden im nächsten Beispiel verwendet.

[!code-cpp[NVC_MFC_CTreeCtrl_s1#1](../../mfc/reference/codesnippet/cpp/ctreectrl-class_17.h)]

### <a name="example"></a>Beispiel

Das folgende Codebeispiel legt den automatischen Bildlauf-Verhalten des aktuellen Baumansicht-Steuerelements fest. In einem vorherigen Abschnitt des Codebeispiels, der nicht angezeigt wird, haben wir eine Strukturansicht, die besteht aus einem Land/Region-Stammknoten für den Vereinigten Staaten, untergeordnete Knoten für die Bundesstaaten Pennsylvania und Washington und Strukturelemente für Städte in diesen Staaten dargestellt. Wir vorgenommen absichtlich das Strukturansicht-Steuerelement eng, damit es automatisch Scrollen muss, um das Strukturelement anzuzeigen, das den Fokus besitzt. Im Codebeispiel wird das Strukturansicht-Steuerelement, um den automatischen Bildlauf 30 Pixel pro Sekunde alle 5 Sekunden, bis das Strukturelement angezeigt wird.

[!code-cpp[NVC_MFC_CTreeCtrl_s1#4](../../mfc/reference/codesnippet/cpp/ctreectrl-class_33.cpp)]

##  <a name="setbkcolor"></a>  CTreeCtrl::SetBkColor

Diese Memberfunktion implementiert das Verhalten der Win32-Nachricht [TVM_SETBKCOLOR](/windows/desktop/Controls/tvm-setbkcolor), wie im Windows SDK beschrieben.

```
COLORREF SetBkColor(COLORREF clr);
```

### <a name="parameters"></a>Parameter

*clr*<br/>
Eine COLORREF-Wert, der die neue Hintergrundfarbe enthält. Wenn dieser Wert-1 ist, wird das Steuerelement wiederhergestellt, auf die Systemfarbe für die Farbe des Hintergrunds.

### <a name="return-value"></a>Rückgabewert

Eine COLORREF-Wert, der die aktuelle Farbe des Texts darstellt. Wenn dieser Wert-1 ist, wird das Steuerelement die Systemfarbe für die Farbe des Textes verwendet.

### <a name="example"></a>Beispiel

  Siehe das Beispiel für [CTreeCtrl::SetTextColor](#settextcolor).

##  <a name="setcheck"></a>  CTreeCtrl::SetCheck

Rufen Sie diese Memberfunktion zum Festlegen des Kontrollkästchen-Status für ein Strukturelement-Steuerelement.

```
BOOL SetCheck(
    HTREEITEM hItem,
    BOOL fCheck = TRUE);
```

### <a name="parameters"></a>Parameter

*hItem*<br/>
Die HTREEITEM, um die Überprüfung der statusänderung zu erhalten.

*fCheck*<br/>
Gibt an, ob das Strukturelement-Steuerelement aktiviert oder deaktiviert werden. In der Standardeinstellung `SetCheck` legt das Element, das überprüft werden soll.

### <a name="return-value"></a>Rückgabewert

Ungleich Null, wenn erfolgreich, andernfalls 0 (Null).

### <a name="remarks"></a>Hinweise

Wenn das Strukturelement-Steuerelement aktiviert ist ( *besuchen* auf "true" festgelegt), das Element mit einem Häkchen neben angezeigt wird.

### <a name="example"></a>Beispiel

[!code-cpp[NVC_MFC_CTreeCtrl#29](../../mfc/reference/codesnippet/cpp/ctreectrl-class_34.cpp)]

### <a name="example"></a>Beispiel

Um Kontrollkästchen zu verwenden, legen Sie TVS_CHECKBOXES vor dem Auffüllen der Strukturansicht aus.

[!code-cpp[NVC_MFC_CTreeCtrl#30](../../mfc/reference/codesnippet/cpp/ctreectrl-class_35.cpp)]

##  <a name="setextendedstyle"></a>  CTreeCtrl::SetExtendedStyle

Legt fest, die erweiterten Stile für das aktuelle Strukturansicht-Steuerelement.

```
DWORD SetExtendedStyle(
    DWORD dwExMask,
    DWORD dwExStyles);
```

### <a name="parameters"></a>Parameter

|Parameter|Beschreibung|
|---------------|-----------------|
|*dwExMask*|[in] Eine Bitmaske, die angibt, welche Formate im aktuellen Strukturansicht Steuerelement von dieser Methode betroffen sind. Wenn dieser Parameter 0 (null) ist, wird er ignoriert und der Wert von der *DwExStyles* Parameter dem Strukturansicht-Steuerelement zugewiesen ist.<br /><br /> Geben Sie 0 (null) oder eine bitweise Kombination (OR) von Formatvorlagen, die in beschriebenen [Strukturansicht Steuerelement Erweiterte Stile](/windows/desktop/Controls/tree-view-control-window-extended-styles).|
|*dwExStyles*|[in] Eine Bitmaske, die angibt, welche Formate in der aktuellen Struktur-Ansicht zu setzen oder löschen zu steuern.<br /><br /> Geben Sie zum Festlegen einer Kombination von Stilen eine bitweise Kombination (OR) von Formatvorlagen, die in beschriebenen [Strukturansicht Steuerelement Erweiterte Stile](/windows/desktop/Controls/tree-view-control-window-extended-styles). Geben Sie 0 (null), um eine Reihe von Formatvorlagen zu löschen.|

### <a name="return-value"></a>Rückgabewert

Ein Wert, der die vorherige enthält erweiterte Stile von Listensteuerelementen.

### <a name="remarks"></a>Hinweise

Diese Methode löscht die Stile die *DwExMask* Parameter legt dann die Stile die *DwExStyles* Parameter. Nur die erweiterten Stile, die die Bits im entsprechen *DwExMask* ändern.

Diese Methode sendet die [TVM_SETEXTENDEDSTYLE](/windows/desktop/Controls/tvm-setextendedstyle) -Nachricht, die im Windows SDK beschrieben wird.

### <a name="example"></a>Beispiel

Das folgende Codebeispiel definiert eine Variable, `m_treeCtrl`, d. h. für den Zugriff auf das aktuelle Strukturansicht-Steuerelement. Im Codebeispiel wird definiert auch eine Ganzzahl ohne Vorzeichen und mehreren HTREEITEM-Variablen. Diese Variablen werden im nächsten Beispiel verwendet.

[!code-cpp[NVC_MFC_CTreeCtrl_s1#1](../../mfc/reference/codesnippet/cpp/ctreectrl-class_17.h)]

### <a name="example"></a>Beispiel

Im folgenden Codebeispiel wird das aktuelle Steuerelement der Strukturansicht den erweiterten Stil TVS_EX_AUTOHSCROLL hinzugefügt. In einem vorherigen Abschnitt des Codebeispiels, der nicht angezeigt wird, haben wir eine Strukturansicht, die besteht aus einem Land/Region-Stammknoten für den Vereinigten Staaten, untergeordnete Knoten für die Bundesstaaten Pennsylvania und Washington und Strukturelemente für Städte in diesen Staaten dargestellt. Wir vorgenommen absichtlich das Strukturansicht-Steuerelement eng, damit es automatisch Scrollen muss, um das Strukturelement anzuzeigen, das den Fokus besitzt.

[!code-cpp[NVC_MFC_CTreeCtrl_s1#3](../../mfc/reference/codesnippet/cpp/ctreectrl-class_36.cpp)]

##  <a name="setimagelist"></a>  CTreeCtrl::SetImageList

Mit dieser Funktion können Sie die normale festgelegt oder Status Bildliste für eine Struktur Steuerelements und das Steuerelement mit der neuen Images neu gezeichnet werden.

```
CImageList* SetImageList(
    CImageList* pImageList,
    int nImageListType);
```

### <a name="parameters"></a>Parameter

*pImageList*<br/>
Zeiger auf die Liste der Bilder zuweisen. Wenn *pImageList* NULL ist, alle Bilder aus dem Strukturansicht-Steuerelement entfernt werden.

*nImageListType*<br/>
Der Typ der Liste der Bilder festlegen. Liste der Bilder ist einer der folgenden Werte möglich:

- TVSIL_NORMAL legt fest, die normale Bildliste an, die die ausgewählte und nicht ausgewählten Images für das Strukturansichtselement enthält. Sie müssen diesen Zustand für Overlay-Images verwenden.

- TVSIL_STATE legt fest, die Bildliste Status, die die Images für Strukturelemente für die Sicht enthält, die in einem benutzerdefinierten Zustand befinden.

### <a name="return-value"></a>Rückgabewert

Zeiger auf die vorherige Bildliste, sofern vorhanden; andernfalls NULL.

### <a name="example"></a>Beispiel

  Siehe das Beispiel für [CTreeCtrl::GetImageList](#getimagelist).

##  <a name="setindent"></a>  CTreeCtrl::SetIndent

Rufen Sie diese Funktion zum Festlegen der Breite des Einzugs für ein Strukturansicht-Steuerelement und das Steuerelement die neue Breite entsprechend neu gezeichnet werden.

```
void SetIndent(UINT nIndent);
```

### <a name="parameters"></a>Parameter

*nIndent*<br/>
Breite des Einzugs in Pixel. Wenn *nIndent* ist kleiner als die Mindestbreite systemdefinierte, die neue Breite auf den vom System definierten Minimalwert festgelegt ist.

### <a name="example"></a>Beispiel

  Siehe das Beispiel für [CTreeCtrl::GetIndent](#getindent).

##  <a name="setinsertmark"></a>  CTreeCtrl::SetInsertMark

Diese Memberfunktion implementiert das Verhalten der Win32-Nachricht [TVM_SETINSERTMARK](/windows/desktop/Controls/tvm-setinsertmark), wie im Windows SDK beschrieben.

```
BOOL SetInsertMark(
    HTREEITEM hItem,
    BOOL fAfter = TRUE);
```

### <a name="parameters"></a>Parameter

*hItem*<br/>
HTREEITEM, der angibt, an welches Element die Einfügemarke platziert werden. Wenn dieses Argument NULL ist, wird die Einfügemarke entfernt.

*fAfter*<br/>
BOOL-Wert, der angibt, ob die Einfügemarke, vor oder nach dem angegebenen Element platziert wird. Wenn dieses Argument ungleich NULL ist, wird die Einfügemarke nach dem Element platziert werden. Wenn dieses Argument NULL ist, wird die Einfügemarke vor dem Element platziert werden.

### <a name="return-value"></a>Rückgabewert

Ungleich Null, wenn erfolgreich, andernfalls 0 (Null).

### <a name="example"></a>Beispiel

[!code-cpp[NVC_MFC_CTreeCtrl#31](../../mfc/reference/codesnippet/cpp/ctreectrl-class_37.cpp)]

##  <a name="setinsertmarkcolor"></a>  CTreeCtrl::SetInsertMarkColor

Diese Memberfunktion implementiert das Verhalten der Win32-Nachricht [TVM_SETINSERTMARKCOLOR](/windows/desktop/Controls/tvm-setinsertmarkcolor), wie im Windows SDK beschrieben.

```
COLORREF SetInsertMarkColor(COLORREF clrNew);
```

### <a name="parameters"></a>Parameter

*clrNew*<br/>
Eine COLORREF-Wert, der die Farbe der neue Einfügemarke enthält.

### <a name="return-value"></a>Rückgabewert

Eine COLORREF-Wert, der die Farbe der vorherigen Einfügemarke enthält.

### <a name="example"></a>Beispiel

  Siehe das Beispiel für [CTreeCtrl::GetInsertMarkColor](#getinsertmarkcolor).

##  <a name="setitem"></a>  CTreeCtrl::SetItem

Rufen Sie diese Funktion, um die Attribute der angegebenen Strukturansichtselements festzulegen.

```
BOOL SetItem(TVITEM* pItem);

BOOL SetItem(
    HTREEITEM hItem,
    UINT nMask,
    LPCTSTR lpszItem,
    int nImage,
    int nSelectedImage,
    UINT nState,
    UINT nStateMask,
    LPARAM lParam);
```

### <a name="parameters"></a>Parameter

*pItem*<br/>
Ein Zeiger auf eine [TVITEM](/windows/desktop/api/commctrl/ns-commctrl-tagtvitema) Struktur, die das neue Element enthält Attribute, wie im Windows SDK beschrieben.

*hItem*<br/>
Handle des Elements, dessen Attribute werden festgelegt werden. Finden Sie unter den `hItem` Mitglied der `TVITEM` Struktur im Windows SDK.

*nMask*<br/>
Ganze Zahl, welche Attribute festlegen. Finden Sie unter den `mask` Mitglied der `TVITEM` Struktur.

*lpszItem*<br/>
Die Adresse einer Zeichenfolge, die den Text des Elements enthält.

*nImage*<br/>
Index des Elements Bildes in der Strukturansicht-Steuerelement die Bildliste. Finden Sie unter den `iImage` Mitglied der `TVITEM` Struktur.

*nSelectedImage*<br/>
Der Index des ausgewählten Images von des Elements in der Strukturansicht-Steuerelement die Bildliste. Finden Sie unter den `iSelectedImage` Mitglied der `TVITEM` Struktur.

*nState*<br/>
Gibt Werte für das Element-Zustände. Finden Sie unter den `State` Mitglied der `TVITEM` Struktur.

*nStateMask*<br/>
Gibt an, welche Zustände festgelegt werden. Finden Sie unter den `stateMask` Mitglied der `TVITEM` Struktur.

*lParam*<br/>
32-Bit-anwendungsspezifische-Wert, das dem Element zugeordnet ist.

### <a name="return-value"></a>Rückgabewert

Ungleich Null, wenn erfolgreich, andernfalls 0 (Null).

### <a name="remarks"></a>Hinweise

In der `TVITEM` Struktur, die `hItem` identifiziert das Element, und die `mask` -Member gibt an, welche Attribute festlegen.

Wenn die `mask` Member oder die *nMask* Parameter gibt den TVIF_TEXT-Wert, der `pszText` Member oder die *LpszItem* ist die Adresse einer Null-terminierte Zeichenfolge und die `cchTextMax` Mitglied wird ignoriert. Wenn `mask` (oder *nMask*) gibt an, den TVIF_STATE-Wert, der `stateMask` Member oder die *nStateMask* Parameter gibt an, welches Element angegeben wird, ändern und die `state` Member oder *nState* Parameter enthält die Werte für diese Zustände.

### <a name="example"></a>Beispiel

[!code-cpp[NVC_MFC_CTreeCtrl#32](../../mfc/reference/codesnippet/cpp/ctreectrl-class_38.cpp)]

##  <a name="setitemdata"></a>  CTreeCtrl::SetItemData

Rufen Sie diese Funktion zum Festlegen des 32-Bit-anwendungsspezifische-Wert dem angegebenen Element zugeordnet.

```
BOOL SetItemData(
    HTREEITEM hItem,
    DWORD_PTR dwData);
```

### <a name="parameters"></a>Parameter

*hItem*<br/>
Handle des Elements, dessen Daten abgerufen werden sollen.

*dwData*<br/>
Eine 32-Bit-anwendungsspezifische-Wert dem Element anhand des zugeordneten *hItem*.

### <a name="return-value"></a>Rückgabewert

Ungleich Null, wenn erfolgreich, andernfalls 0 (Null).

### <a name="example"></a>Beispiel

[!code-cpp[NVC_MFC_CTreeCtrl#33](../../mfc/reference/codesnippet/cpp/ctreectrl-class_39.cpp)]

##  <a name="setitemexpandedimageindex"></a>  CTreeCtrl::SetItemExpandedImageIndex

Legt fest, den Index des Bildes, das angezeigt wird, wenn das angegebene Element des aktuellen Baumansicht-Steuerelements im erweiterten Zustand befindet.

```
BOOL SetItemExpandedImageIndex(
    HTREEITEM hItem,
    int iExpandedImage);
```

### <a name="parameters"></a>Parameter

|Parameter|Beschreibung|
|---------------|-----------------|
|*hItem*|[in] Handle zu einem Baumansicht-Steuerelement ein Element.|
|*iExpandedImage*|[in] Der Index des Bildes, das angezeigt wird, wenn das angegebene Element im erweiterten Zustand befindet.|

### <a name="return-value"></a>Rückgabewert

True, wenn diese Methode erfolgreich ist. andernfalls "false".

### <a name="remarks"></a>Hinweise

Diese Methode sendet die [TVM_SETITEM](/windows/desktop/Controls/tvm-setitem) -Nachricht, die im Windows SDK beschrieben wird. Weist diese Methode die *iExpandedImage* Parameter, um die `iExpandedImage` Mitglied einer [TVITEMEX](/windows/desktop/api/commctrl/ns-commctrl-tagtvitemexa) Struktur, und klicken Sie dann verwendet, die in der Nachricht zu strukturieren.

### <a name="example"></a>Beispiel

Das folgende Codebeispiel definiert eine Variable, `m_treeCtrl`, d. h. für den Zugriff auf das aktuelle Strukturansicht-Steuerelement. Im Codebeispiel wird definiert auch eine Ganzzahl ohne Vorzeichen und mehreren HTREEITEM-Variablen. Diese Variablen werden im nächsten Beispiel verwendet.

[!code-cpp[NVC_MFC_CTreeCtrl_s1#1](../../mfc/reference/codesnippet/cpp/ctreectrl-class_17.h)]

### <a name="example"></a>Beispiel

Das folgende Codebeispiel ist ein trivial Test um zu bestimmen, ob die [CTreeCtrl::GetItemExpandedImageIndex](#getitemexpandedimageindex) -Methode gibt den Wert festlegen, indem die [CTreeCtrl::SetItemExpandedImageIndex](#setitemexpandedimageindex) Methode. In einem vorherigen Abschnitt des Codebeispiels, der nicht angezeigt wird, haben wir eine Strukturansicht, die besteht aus einem Land/Region-Stammknoten für den Vereinigten Staaten, untergeordnete Knoten für die Bundesstaaten Pennsylvania und Washington und Strukturelemente für Städte in diesen Staaten dargestellt.

[!code-cpp[NVC_MFC_CTreeCtrl_s1#8](../../mfc/reference/codesnippet/cpp/ctreectrl-class_40.cpp)]

##  <a name="setitemheight"></a>  CTreeCtrl::SetItemHeight

Diese Memberfunktion implementiert das Verhalten der Win32-Nachricht [TVM_SETITEMHEIGHT](/windows/desktop/Controls/tvm-setitemheight), wie im Windows SDK beschrieben.

```
SHORT SetItemHeight(SHORT cyHeight);
```

### <a name="parameters"></a>Parameter

*cyHeight*<br/>
Gibt die neue Höhe jedes Elements in der Strukturansicht in Pixel an. Wenn dieses Argument kleiner als die Höhe des Images ist, wird es auf die Höhe der Images festgelegt werden. Wenn dieses Argument nicht gleichmäßig verteilt ist, wird sie nach unten zum gerundet werden die nächsten Wert selbst. Wenn dieses Argument-1 ist, werden das Steuerelement zur Verwendung der Standardelementhöhe zurückgesetzt.

### <a name="return-value"></a>Rückgabewert

Die vorherige Höhe der Elemente, in Pixel.

### <a name="example"></a>Beispiel

  Siehe das Beispiel für [CTreeCtrl::GetItemHeight](#getitemheight).

##  <a name="setitemimage"></a>  CTreeCtrl::SetItemImage

Ordnet die Bilder zu einem Element.

```
BOOL SetItemImage(
    HTREEITEM hItem,
    int nImage,
    int nSelectedImage);
```

### <a name="parameters"></a>Parameter

*hItem*<br/>
Handle des Elements, dessen Bild festgelegt werden.

*nImage*<br/>
Index des Elements Bildes in der Strukturansicht-Steuerelement die Bildliste.

*nSelectedImage*<br/>
Der Index des ausgewählten Images von des Elements in der Strukturansicht-Steuerelement die Bildliste.

### <a name="return-value"></a>Rückgabewert

Ungleich Null, wenn erfolgreich, andernfalls 0 (Null).

### <a name="remarks"></a>Hinweise

Jedes Element in einem Strukturansicht-Steuerelement kann ein Paar von Bitmapbildern zugeordnet haben. Die Bilder werden auf der linken Seite der die Bezeichnung eines Elements angezeigt. Ein Bild wird angezeigt, wenn das Element ist ausgewählt, und der andere wird angezeigt, wenn das Element nicht ausgewählt ist. Beispielsweise kann ein Element anzuzeigen einen geöffneten Ordner, wenn diese Option ausgewählt ist und einen geschlossenen Ordner, wenn es nicht aktiviert ist.

Rufen Sie diese Funktion, um der Index, der das Bild des Elements und dem ausgewählten Bild im Strukturansicht-Steuerelement der Bildliste.

Weitere Informationen zu Bildern, finden Sie unter [CImageList](../../mfc/reference/cimagelist-class.md).

### <a name="example"></a>Beispiel

  Siehe das Beispiel für [CTreeCtrl::GetItemImage](#getitemimage).

##  <a name="setitemstate"></a>  CTreeCtrl::SetItemState

Legt den Zustand des angegebenen Elements vom *hItem*.

```
BOOL SetItemState(
    HTREEITEM hItem,
    UINT nState,
    UINT nStateMask);
```

### <a name="parameters"></a>Parameter

*hItem*<br/>
Handle des Elements, dessen Zustand festgelegt werden.

*nState*<br/>
Gibt neue Status für das Element an.

*nStateMask*<br/>
Gibt an, welche Zustände geändert werden.

### <a name="return-value"></a>Rückgabewert

Ungleich Null, wenn erfolgreich, andernfalls 0 (Null).

### <a name="remarks"></a>Hinweise

Informationen zum Status finden Sie unter [CTreeCtrl::GetItem](#getitem).

### <a name="example"></a>Beispiel

  Siehe das Beispiel für [CTreeCtrl::GetItemState](#getitemstate).

##  <a name="setitemstateex"></a>  CTreeCtrl::SetItemStateEx

Legt den erweiterten Zustand des angegebenen Elements in das aktuelle Strukturansicht-Steuerelement fest.

```
BOOL SetItemStateEx(
    HTREEITEM hItem,
    UINT uStateEx);
```

### <a name="parameters"></a>Parameter

|Parameter|Beschreibung|
|---------------|-----------------|
|*hItem*|[in] Handle zu einem Baumansicht-Steuerelement ein Element.|
|*uStateEx*|[in] Die erweiterten Zustand des Elements. Weitere Informationen finden Sie unter den `uStateEx` Mitglied der [TVITEMEX](/windows/desktop/api/commctrl/ns-commctrl-tagtvitemexa) Struktur.|

### <a name="return-value"></a>Rückgabewert

True, wenn diese Methode erfolgreich ist. andernfalls "false".

### <a name="remarks"></a>Hinweise

Diese Methode sendet die [TVM_SETITEM](/windows/desktop/Controls/tvm-setitem) -Nachricht, die im Windows SDK beschrieben wird. Weist diese Methode die *uStateEx* Parameter, um die `uStateEx` Mitglied einer [TVITEMEX](/windows/desktop/api/commctrl/ns-commctrl-tagtvitemexa) Struktur, und klicken Sie dann verwendet, die in der Nachricht zu strukturieren.

### <a name="example"></a>Beispiel

Das folgende Codebeispiel definiert eine Variable, `m_treeCtrl`, d. h. für den Zugriff auf das aktuelle Strukturansicht-Steuerelement. Im Codebeispiel wird definiert auch eine Ganzzahl ohne Vorzeichen und mehreren HTREEITEM-Variablen. Diese Variablen werden im nächsten Beispiel verwendet.

[!code-cpp[NVC_MFC_CTreeCtrl_s1#1](../../mfc/reference/codesnippet/cpp/ctreectrl-class_17.h)]

### <a name="example"></a>Beispiel

Das folgende Codebeispiel legt ein Strukturansichtselement auf deaktiviert fest. In einem vorherigen Abschnitt des Codebeispiels, der nicht angezeigt wird, haben wir eine Strukturansicht, die besteht aus einem Land/Region-Stammknoten für den Vereinigten Staaten, untergeordnete Knoten für die Bundesstaaten Pennsylvania und Washington und Strukturelemente für Städte in diesen Staaten dargestellt. Dieses Codebeispiel wird den Knoten Pennsylvania auf deaktiviert.

[!code-cpp[NVC_MFC_CTreeCtrl_s1#7](../../mfc/reference/codesnippet/cpp/ctreectrl-class_41.cpp)]

##  <a name="setitemtext"></a>  CTreeCtrl::SetItemText

Legt den Text des Elements gemäß *hItem*.

```
BOOL SetItemText(
    HTREEITEM hItem,
    LPCTSTR lpszItem);
```

### <a name="parameters"></a>Parameter

*hItem*<br/>
Handle des Elements, dessen Text festgelegt werden.

*lpszItem*<br/>
Adresse einer Zeichenfolge, die den neuen Text für das Element enthält.

### <a name="return-value"></a>Rückgabewert

Ungleich Null, wenn erfolgreich, andernfalls 0 (Null).

### <a name="example"></a>Beispiel

[!code-cpp[NVC_MFC_CTreeCtrl#34](../../mfc/reference/codesnippet/cpp/ctreectrl-class_42.cpp)]

##  <a name="setlinecolor"></a>  CTreeCtrl::SetLineColor

Rufen Sie diese Memberfunktion zum Festlegen der aktuellen Zeile Farbe für das Strukturansicht-Steuerelement.

```
COLORREF SetLineColor(COLORREF clrNew = CLR_DEFAULT);
```

### <a name="parameters"></a>Parameter

*clrNew*<br/>
Die neue Linienfarbe.

### <a name="return-value"></a>Rückgabewert

Die vorherigen Linienfarbe.

### <a name="remarks"></a>Hinweise

Diese Memberfunktion implementiert das Verhalten der Win32-Nachricht [TVM_SETLINECOLOR](/windows/desktop/Controls/tvm-setlinecolor), wie im Windows SDK beschrieben.

### <a name="example"></a>Beispiel

[!code-cpp[NVC_MFC_CTreeCtrl#35](../../mfc/reference/codesnippet/cpp/ctreectrl-class_43.cpp)]

##  <a name="setscrolltime"></a>  CTreeCtrl::SetScrollTime

Rufen Sie diese Memberfunktion zum Festlegen der maximalen Bildlauf Zeit für das Strukturansicht-Steuerelement.

```
UINT SetScrollTime(UINT uScrollTime);
```

### <a name="parameters"></a>Parameter

*uScrollTime*<br/>
Die neue maximale Bildlauf Zeit in Millisekunden. Wenn dieser Wert kleiner als 100 ist, wird er auf 100 aufgerundet.

### <a name="return-value"></a>Rückgabewert

Die vorherigen maximalen Bildlauf Zeit in Millisekunden.

### <a name="remarks"></a>Hinweise

Diese Memberfunktion implementiert das Verhalten der Win32-Nachricht [TVM_SETSCROLLTIME](/windows/desktop/Controls/tvm-setscrolltime), wie im Windows SDK beschrieben.

##  <a name="settextcolor"></a>  CTreeCtrl::SetTextColor

Diese Memberfunktion implementiert das Verhalten der Win32-Nachricht [TVM_SETTEXTCOLOR](/windows/desktop/Controls/tvm-settextcolor), wie im Windows SDK beschrieben.

```
COLORREF SetTextColor(COLORREF clr);
```

### <a name="parameters"></a>Parameter

*clr*<br/>
Eine COLORREF-Wert, der die neue Textfarbe enthält. Wenn dieses Argument-1 ist, wird das Steuerelement auf die Systemfarbe für die die Textfarbe wiederhergestellt.

### <a name="return-value"></a>Rückgabewert

Eine COLORREF-Wert, der die Farbe des vorherigen darstellt. Wenn dieser Wert-1 ist, wurde das Steuerelement die Systemfarbe für die Farbe des Textes verwendet.

### <a name="example"></a>Beispiel

[!code-cpp[NVC_MFC_CTreeCtrl#36](../../mfc/reference/codesnippet/cpp/ctreectrl-class_44.cpp)]

##  <a name="settooltips"></a>  CTreeCtrl::SetToolTips

Diese Memberfunktion implementiert das Verhalten der Win32-Nachricht [TVM_SETTOOLTIPS](/windows/desktop/Controls/tvm-settooltips), wie im Windows SDK beschrieben.

```
CToolTipCtrl* SetToolTips(CToolTipCtrl* pWndTip);
```

### <a name="parameters"></a>Parameter

*pWndTip*<br/>
Ein Zeiger auf eine [CToolTipCtrl](../../mfc/reference/ctooltipctrl-class.md) -Objekt, das das Strukturansicht-Steuerelement verwendet wird.

### <a name="return-value"></a>Rückgabewert

Ein Zeiger auf eine [CToolTipCtrl](../../mfc/reference/ctooltipctrl-class.md) -Objekt, enthält die QuickInfo, die zuvor vom Steuerelement oder NULL verwendet werden, wenn keine QuickInfos zuvor verwendet wurden.

### <a name="remarks"></a>Hinweise

Um QuickInfos zu verwenden, geben Sie den TVS_NOTOOLTIPS-Stil bei der Erstellung der `CTreeCtrl` Objekt.

### <a name="example"></a>Beispiel

  Siehe das Beispiel für [CTreeCtrl::GetToolTips](#gettooltips).

##  <a name="showinfotip"></a>  CTreeCtrl::ShowInfoTip

Zeigt den Infotipp für das angegebene Element im aktuellen Strukturansicht Steuerelement.

```
void ShowInfoTip(HTREEITEM hItem);
```

### <a name="parameters"></a>Parameter

|Parameter|Beschreibung|
|---------------|-----------------|
|*hItem*|[in] Ein Handle für ein Strukturansichtselement im Steuerelement. Weitere Informationen finden Sie unter den `hItem` Mitglied der [TVITEMEX](/windows/desktop/api/commctrl/ns-commctrl-tagtvitemexa) Struktur.|

### <a name="remarks"></a>Hinweise

Weitere Informationen zu den Unterschieden zwischen den QuickInfos und Infotipps suchen Sie nach dem Thema in der "QuickInfos und Infotipps" [Microsoft Developer Network](https://go.microsoft.com/fwlink/p/?linkid=56322).

Diese Methode sendet die [TVM_SHOWINFOTIP](/windows/desktop/Controls/tvm-showinfotip) -Nachricht, die im Windows SDK beschrieben wird.

##  <a name="sortchildren"></a>  CTreeCtrl::SortChildren

Rufen Sie diese Funktion aus, um die untergeordneten Elemente des angegebenen übergeordneten Elements in einem Strukturansicht-Steuerelement alphabetisch zu sortieren.

```
BOOL SortChildren(HTREEITEM hItem);
```

### <a name="parameters"></a>Parameter

*hItem*<br/>
Handle des übergeordneten Elements, dessen untergeordneten Elemente sind sortiert werden soll. Wenn *hItem* NULL ist, wird die Sortierung vom Stamm der Struktur fortgesetzt.

### <a name="return-value"></a>Rückgabewert

Ungleich Null, wenn erfolgreich, andernfalls 0 (Null).

### <a name="remarks"></a>Hinweise

`SortChildren` wird nicht durch die Struktur rekursiv; nur die unmittelbar untergeordneten Elemente des *hItem* sortiert werden.

### <a name="example"></a>Beispiel

[!code-cpp[NVC_MFC_CTreeCtrl#37](../../mfc/reference/codesnippet/cpp/ctreectrl-class_45.cpp)]

##  <a name="sortchildrencb"></a>  CTreeCtrl::SortChildrenCB

Rufen Sie diese Funktion zum Sortieren der Elemente in Struktur anzeigen, die mit einer anwendungsdefinierten Rückruffunktion, die Elemente vergleicht.

```
BOOL SortChildrenCB(LPTVSORTCB pSort);
```

### <a name="parameters"></a>Parameter

*pSort*<br/>
Zeiger auf eine [TVSORTCB](/windows/desktop/api/commctrl/ns-commctrl-tagtvsortcb) Struktur.

### <a name="return-value"></a>Rückgabewert

Ungleich Null, wenn erfolgreich, andernfalls 0 (Null).

### <a name="remarks"></a>Hinweise

Die Struktur der Vergleichsfunktion `lpfnCompare`, muss einen negativen Wert zurück, wenn das erste Element die zweite vorangehen soll, wird ein positiver Wert, wenn das erste Element sollte die zweite folgen, oder NULL, wenn die beiden Elemente sind äquivalent.

Die *lParam1* und *lParam2* Parameter entsprechen der `lParam` Mitglied der [TVITEM](/windows/desktop/api/commctrl/ns-commctrl-tagtvitema) -Struktur für die zwei Elemente mit dem verglichen wird. Die *lParamSort* Parameter entspricht der `lParam` Mitglied der `TV_SORTCB` Struktur.

### <a name="example"></a>Beispiel

[!code-cpp[NVC_MFC_CTreeCtrl#38](../../mfc/reference/codesnippet/cpp/ctreectrl-class_46.cpp)]

[!code-cpp[NVC_MFC_CTreeCtrl#39](../../mfc/reference/codesnippet/cpp/ctreectrl-class_47.cpp)]

## <a name="see-also"></a>Siehe auch

[MFC-Beispiel CMNCTRL1](../../overview/visual-cpp-samples.md)<br/>
[CWnd-Klasse](../../mfc/reference/cwnd-class.md)<br/>
[Hierarchiediagramm](../../mfc/hierarchy-chart.md)<br/>
[CImageList-Klasse](../../mfc/reference/cimagelist-class.md)
